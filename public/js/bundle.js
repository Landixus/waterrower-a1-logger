!function(t){var e={};function a(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(s,n,function(e){return t[e]}.bind(null,n));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e,a){"use strict";a.r(e);const s=2.8;var n={calcWatt:function(t){return s/Math.pow(t,3)},sessionNameToReadable:function(t){return moment(t.slice(0,13)+":"+t.slice(13,15)+":"+t.slice(15)).format("YYYY-MM-DD hh:mm:ss")},getHeartRateColor:function(t){return t<125?"text-success":t<150?"text-primary":t<175?"text-warning":"text-danger"},getUrlParameter:function(t){var e,a,s=decodeURIComponent(window.location.search.substring(1)).split("&");for(a=0;a<s.length;a++)if((e=s[a].split("="))[0]===t)return void 0===e[1]||e[1]},fmtMSS:function(t){var e=new Date(null);return e.setSeconds(t),e.toISOString().substr(11,8)}};const i=100/4.805*6,o=10,r=1e3;var l={livePoints:[],liveMap:{},liveBounds:{}};const d=[{featureType:"landscape",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]}];function c(){l.liveMap=new google.maps.Map(document.getElementById("live-map"),{zoom:8,maxZoom:16}),l.liveBounds=new google.maps.LatLngBounds,l.liveMap.set("styles",d)}function u(t){return new google.maps.Polyline({path:t,strokeColor:"#FF00AA",strokeOpacity:.7,strokeWeight:4})}var p={cleanMap:function(){c(),l.livePoints=[],u(l.livePoints).setMap(l.liveMap),l.liveMap.fitBounds(l.liveBounds)},initMap:c,styles:d,createPolyLine:u},f={loadRoutes:function(){var t=this;$.get("/row/routes",function(e){var a="",s="";e.sort(function(t,e){return t.country>e.country?1:e.country>t.country?-1:0});var n='selected="selected"';e.forEach(function(t){t.country!==s&&(a+='<optgroup label="'+t.country+'">',s=t.country),a+="<option "+n+' value="'+t.index+'" data-lat="'+t.gps[0].lat+'" data-lon="'+t.gps[0].lon+'">'+t.name+" ("+t.meters+"m)</option>",n=""}),$(t).html(a),n=$("#routes").find(":selected"),p.cleanMap();var i=new google.maps.LatLng($(n).data("lat"),$(n).data("lon"));l.liveMap.panTo(i)})}};var v={loadUsers:function(){var t=this;$.get("/users",function(e){var a="";e.forEach(function(t){a+='<option value="'+t.id+'">'+t.firstName+" "+t.lastName+"</option>"}),$(t).html(a)})},loadUser:function t(){$("#load").load("/user",function(){$(this).find("#users-body").each(function(){var e=this;$.get("/users/",function(a){for(var s="",n=0;n<a.length;n++){var i=a[n];s+='<tr><td><a href="#" data-id="'+i.id+'">'+(n+1)+"</a></td><td>"+i.firstName+"</td><td>"+i.lastName+"</td>",s+='<td><a class="edit-user" href="#" data-id="'+i.id+'"><i class="material-icons">create</i></a><a class="del-user" href="#" data-id="'+i.id+'"><i aria-hidden="true" title="Delete user" class="material-icons">delete</i></a></td></tr>'}$(e).html(s),$("#addUserModal").on("hidden.bs.modal",function(e){t()})})})})}};var m={loadMain:function(){$("#load").load("/main",function(){$(this).find("#routes").each(f.loadRoutes),$(this).find("#session-user").each(v.loadUsers),$.get("/row/status",function(t){if("ROWING"===t.status){var e=$("#startRow");n.getUrlParameter("test")&&(e=$("#startSimulator")),start(e)}}),n.getUrlParameter("test")&&$("#startRow").attr("id","startSimulator")})}};function h(t){$("#load").load("/history",function(){$(this).find("#history").each(function(){$.get("/session/0/2",function(t){var e="";t.forEach(function(t){e=y(e,t)}),$("#cards").html('<div class="col"><div class="card-deck">'+e+"</div></div>"),$(".gpx-track").each(function(){$(this).trigger("load-map",this)})}),g($(this),t)})})}function g(t,e){var a=e*o,s=(e+1)*o-1;$.get("/session/"+a+"/"+s,function(a){$.get("/users",function(s){var n="",i=0,r=s.reduce(function(t,e){return t[e.id]=e,t},{});a.forEach(function(t){n=b(n,i+e*o,t,r),i++}),$("#histor-table-body").html(n),function(t,e){var a=$('<ul id="history-page" data-index="'+e+'"></ul>').addClass("pagination pagination-lg");$.get("session/size",function(s){var n=parseInt(parseInt(s)/o)+1,i=0===e?"disabled":"",r=e===n-1?"disabled":"",l=$('<li class="page-item '+i+'"></li>').append('<a class="page-link" href="#" data-next="-1" tabindex="-1">Previous</a>'),d=$('<li class="page-item '+r+'"></li>').append('<a class="page-link" data-next="1" href="#">Next</a>');a.append(l);for(var c=0;c<n;c++){var u="";e===c&&(u="active");var p=$('<li class="page-item '+u+'"><a class="page-link" data-index="'+c+'" href="#">'+(c+1)+"</a></li>");a.append(p)}a.append(d),$(t).html(a)})}(t.find(".page"),e)})})}var y=function(t,e){return t+='<div class="card gpx-track" data-name="'+e.name+'"">',t+='<div class="card-body">',t+='<div class="card-map-top "></div>',t+='<h5 class="card-title mt-2"><a class="sessions" data-name="'+e.name+'" href="/session">'+n.sessionNameToReadable(e.name)+"</a></h5>",t+='<p class="card-text">Length: '+parseInt(e.endStats.meters)+"m, Time: "+n.fmtMSS(parseInt(e.endStats.seconds))+"</p>",t+='<a href="/strava/upload/'+e.name+'" class="btn btn-primary strava btn-block">Upload to Strava</a>',t+="</div>",t+="</div>"},b=function(t,e,a,s){var i=s[a.user];return t+="<tr>",t+='<th scope="row">'+(e+1)+"</th>",t+='<td><a class="sessions" data-name="'+a.name+'" href="/?name='+a.name+'#session">'+n.sessionNameToReadable(a.name)+"</a></td>",t+="<td>Length: "+parseInt(a.endStats.meters)+"m</td>",t+=i?"<td>"+i.firstName+" "+i.lastName+"</td>":"<td></td>",t+='<td> <a href="/sessions/'+a.name+'.gpx"><i class="material-icons md-36">file_download</i><a class="strava" href="/strava/upload/'+a.name+'"><i aria-hidden="true" title="Upload to Strava" class="material-icons md-36">cloud_upload</i></a> <a class="del-session" href="#" data-name="'+a.name+'"><i aria-hidden="true" title="Delete session local" class="material-icons md-36">delete</i></a></td>',t+="</tr>"};var w,x={loadHistoryIndex:function(t){h(t)},loadHistory:h,loadHistoryList:g},I=!1;function k(t){for(var e={},a=(t.split("?")[1]||""||"").split("&"),s=0;s<a.length;s++){var n=a[s].split("=");if(void 0===e[n[0]])e[n[0]]=decodeURIComponent(n[1]);else if("string"==typeof e[n[0]]){var i=[e[n[0]],decodeURIComponent(n[1])];e[n[0]]=i}else e[n[0]].push(decodeURIComponent(n[1]))}return e}function S(t,e){I=t,$.get("/row",function(t){var a=M(e,t);if(a){$("#table-content").html(a),$("#laps-body").html(T(e,t,!0));var s=t.gps.lat,n=t.gps.lon,i=new google.maps.LatLng(s,n);if(l.livePoints.push(i),l.liveBounds)l.liveBounds.extend(i),p.createPolyLine(l.livePoints).setMap(l.liveMap),l.liveMap.fitBounds(l.liveBounds)}}).done(function(){I&&(w=setTimeout(function(){S(!0,e)},r))})}function M(t,e,a){if(0!==parseInt(e.meters)){var s="";return a&&(s+='<div class="row"><div class="col-sm-4">Day</div><div class="col">'+e.start.substr(2,e.start.lastIndexOf("T")-2)+"</div></div>"),s+='<div class="row"><div class="col-sm-4">Start:</div><div class="col">'+e.start.substr(e.start.lastIndexOf("T")+1,8)+"</div></div>",s+='<div class="row"><div class="col-sm-4">Time:</div><div class="col">'+n.fmtMSS(parseInt(e.seconds))+"</div></div>",s+='<div class="row"><div class="col-sm-4">Length:</div><div class="col">'+parseInt(e.meters)+" m ("+parseInt(e.routeLap)+")</div></div>",s+='<div class="row"><div class="col-sm-4">Pace:</div><div class="col">'+Math.round(3.6*parseFloat(e.pace)*10)/10+" km/t</div></div>",s+='<div class="row"><div class="col-sm-4">500m:</div><div class="col">'+n.fmtMSS(parseInt(e.lapPace))+"</div></div>",s+='<div class="row"><div class="col-sm-4">2k:</div><div class="col">'+n.fmtMSS(parseInt(e.towKPace))+"</div></div>",s+='<div class="row"><div class="col-sm-4">Avg.W:</div><div class="col">'+Math.round(10*parseFloat(e.watt))/10+"w</div></div>",s+='<div class="row"><div class="col-sm-4">SR:</div><div class="col">'+Math.round(10*parseFloat(e.stroke))/10+"</div></div>",parseInt(e.hr)>0&&(s+='<div class="row"><div class="col-sm-4">HR:</div><div class="col '+n.getHeartRateColor(parseInt(e.hr))+'">'+parseInt(e.hr)+(parseInt(e.avgHr)>0?"("+parseInt(e.avgHr)+")":"")+"</div></div>"),e.fileName&&(s+='<div class="row"><div class="col">Actions:</div><div class="col"><a href="/sessions/'+e.fileName,s+='"><i class="material-icons">file_download</i><a class="strava" href="/strava/upload/'+e.name,s+='"><i aria-hidden="true" title="Upload to strava" class="material-icons">cloud_upload</i></a>',s+='<a class="sessions" data-name="'+e.name+'" href="/sessions"><i aria-hidden="true" title="Session" class="material-icons">fiber_new</i></a></div></div>'),s+""}}function T(t,e,a){var s="";if(parseInt(e.totalLaps)>0){var i=1,o=e.laps;a&&(o.reverse(),i=o.length),o.forEach(function(t){s+='<tr><th scope="row">'+i+"</th><td>"+parseInt(t.meters)+"</td><td>"+n.fmtMSS(parseInt(t.seconds))+"</td>",s+="<td>"+Math.round(10*parseFloat(t.watt))/10+"w</td></tr>",a?i--:i++})}return s}window.QueryString=function(){for(var t={},e=window.location.search.substring(1).split("&"),a=0;a<e.length;a++){var s=e[a].split("=");if(void 0===t[s[0]])t[s[0]]=decodeURIComponent(s[1]);else if("string"==typeof t[s[0]]){var n=[t[s[0]],decodeURIComponent(s[1])];t[s[0]]=n}else t[s[0]].push(decodeURIComponent(s[1]))}return t}(),$(function(){function t(t){$("#load").load("/sessions",function(){$(this).find("#routes").each(f.loadRoutes),$(this).find("#session-user").each(v.loadUsers),$(this).find("#history-session").each(function(){$.get("/session/"+t,function(e){var a=M("History",e.endStats,!0);$("#routes").val(e.route),$("#session-user").val(e.user),a&&($("#table-content").html(a),$("#laps-body").html(T("History",e.endStats)),N(t,$("#live-map"))),function(t,e,a,s){for(var o=[],r=[],l=[],d=1,c=1;c<t.length;c++){var u=parseInt(t[c]),p=parseInt(s[d]),f=(u-a)/1e3,v=i/100;o.push(v/f*3.6);var m=n.calcWatt(f/v);r.push(m),l.push(6e4/(p-parseInt(s[d-1]))),a=parseInt(t[c]),u>p&&d++}var h=[],g=[],y=[],b=[],w=[],x=10;t.length>1e3&&(x=20);for(;t.length;){var I=t.splice(0,x),k=parseInt(I.reduce(function(t,e){return t+e})/I.length);if(w.push(new Date(k).toISOString().substr(new Date(k).toISOString().lastIndexOf("T")+1,8)),e){var S=e.splice(0,x);S.length>0&&g.push(parseInt(S.reduce(function(t,e){return t+e})/S.length))}if(l){var S=l.splice(0,x);S.length>0&&b.push(Math.round(10*parseFloat(S.reduce(function(t,e){return t+e})/S.length))/10)}if(o){var M=o.splice(0,x),T=r.splice(0,x);M.length>0&&h.push(Math.round(10*parseFloat(M.reduce(function(t,e){return t+e})/M.length))/10),T.length>0&&y.push(Math.round(10*parseFloat(T.reduce(function(t,e){return t+e})/T.length))/10)}}var L=$("#hr-graph"),N={labels:w,datasets:[{label:"Heart rate (bpm)",borderColor:"#dc3545",backgroundColor:"#dc3545",fill:!1,data:g,yAxisID:"y-axis-1"},{label:"Speed (km/t)",borderColor:"#007bff",backgroundColor:"#007bff",fill:!1,data:h,yAxisID:"y-axis-2"},{label:"Watt",borderColor:"#4bc0c0",backgroundColor:"#4bc0c0",fill:!1,data:y,lineTension:0,yAxisID:"y-axis-3"},{label:"Stroke rate (spm)",borderColor:"#9966FF",backgroundColor:"#9966FF",fill:!1,data:b,yAxisID:"y-axis-4"}]};Chart.Line(L,{data:N,options:{responsive:!0,hoverMode:"index",stacked:!1,scales:{yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1",ticks:{suggestedMin:30,min:0,stepSize:5}},{type:"linear",display:!0,position:"right",id:"y-axis-2",ticks:{stepSize:2},gridLines:{drawOnChartArea:!1}},{type:"linear",display:!0,position:"right",id:"y-axis-3",ticks:{stepSize:25},gridLines:{drawOnChartArea:!1}},{type:"linear",display:!0,position:"right",id:"y-axis-4",ticks:{stepSize:2,suggestedMin:10},gridLines:{drawOnChartArea:!1}}]}}})}(e.raw,e.rawHr,parseInt(e.start),e.stroke)})})})}function e(t,e){var a=$('<ul id="route-page" data-index="'+e+'"></ul>').addClass("pagination pagination-lg");$.get("routes/size",function(s){var n=parseInt(parseInt(s)/o)+1,i=e===n-1?"disabled":"",r=$('<li class="page-item '+(0===e?"disabled":"")+'"></li>').append('<a class="page-link" href="#" data-next="-1" tabindex="-1">Previous</a>'),l=$('<li class="page-item '+i+'"></li>').append('<a class="page-link" data-next="1" href="#">Next</a>');a.append(r);for(var d=0;d<n;d++){var c="";e===d&&(c="active");var u=$('<li class="page-item '+c+'"><a class="page-link" data-index="'+d+'" href="#">'+(d+1)+"</a></li>");a.append(u)}a.append(l),$(t).html(a)})}S(!1,""),$(document).on("click",".main",function(t){loadMain()});function a(t){$("#load").load("/route",function(){$(this).find("#routes-t").each(function(){s(0),e($("#routes-table").find(".page")[0],t)})})}function s(t){var e=t*o,s=(t+1)*o-1;$.get("/routes/"+e+"/"+s,function(e){var s="",n=0;e.forEach(function(e){s=L(s,n+t*o,e),n++}),$("#routes-table-body").html(s),$("#add-route-modal").on("hidden.bs.modal",function(t){a(0)})})}$(document).on("click","#user",function(t){v.loadUser()}),$(document).on("click","#history-page a",function(t){t.preventDefault();var e=parseInt($(this).data("next")),a=parseInt($(this).data("index")),s=parseInt($("#history-page").data("index"));isNaN(e)?isNaN(a)||(s=a):s+=e,x.loadHistoryList($("#history-table"),s)}),$(document).on("click","#route-page a",function(t){t.preventDefault();var a=parseInt($(this).data("next")),n=parseInt($(this).data("index")),i=parseInt($("#route-page").data("index"));isNaN(a)?isNaN(n)||(i=n):i+=a,e($("#routes-table").find(".page")[0],i),s(i)}),$(document).on("click",".nav-link",function(t){$("#main-nav").find(".nav-item").each(function(){$(this).removeClass("active")}),$(this).parent().addClass("active")}),$(document).on("click",".sessions",function(e){e.preventDefault(),t($(this).data("name"))}),$(document).on("click","a#history",function(t){x.loadHistoryIndex(0,0)}),$(document).on("click","a#route",function(t){a(0)}),$(document).on("load-map",".gpx-track",function(){var t=$(this).data("name"),e=$(this).find(".card-map-top");N(t,e)}),$(document).on("click","button#startRow",function(t){t.preventDefault();var e=$("#routes").val(),a=this;$.get("/row/start",{routes:e},function(){!function(t){$(window).scrollTop($("#main").offset().top),S(!0,"Rowing"),p.cleanMap(),$("#routes").attr("disabled","disabled"),$("#session-user").attr("disabled","disabled"),$("#startSimulator").attr("disabled","disabled"),$(t).attr("disabled","disabled"),$(t).html("Rowing..."),$(t).addClass("d-none"),$("#stopRow").removeClass("d-none")}(a)})}),$(document).on("click","button#stopRow",function(t){t.preventDefault();var e=$(this);clearTimeout(w),I=!1;var a=$("#routes").val(),s=$("#session-user").val();$.get("/row/stop",{routes:a,user:s},function(t){$("#table-content").html(M("Stopped",t,!1));var a=$("#startRow");a.removeAttr("disabled"),a.removeClass("d-none"),a.html("Start row"),e.addClass("d-none"),$("#routes").removeAttr("disabled"),$("#session-user").removeAttr("disabled"),$("#startSimulator").removeAttr("disabled")})}),$(document).on("click",".edit-user",function(t){t.preventDefault();var e=$(this).data("id");$.ajax({url:"/users/"+e,type:"GET",success:function(t){var e=$("#addUserForm");e.find("#firstName").val(t.firstName),e.find("#lastName").val(t.lastName),e.find("#userId").val(t.id),$.get("/strava/url",function(e){var a=e.url.replace("%24",t.id);$(".strava-url").attr("href",a)}),$(".strava-connect").removeClass("sr-only"),$("#addUserModal").modal("show")}})}),$(document).on("click",".edit-route",function(t){t.preventDefault();var e=$(this).data("id");$.ajax({url:"/routes/"+e,type:"GET",success:function(t){var e=$("#addRoute");e.find("#name").val(t.name),e.find("#meters").val(t.meters),e.find("#segmentId").val(t.segmentId),e.find("#countries").val(t.country);var a=JSON.stringify(t.gps);e.find("#gps").append(a),$("#add-route-modal").modal("show")}})}),$(document).on("click",".strava",function(t){t.preventDefault();var e=$(this).attr("href");$.get(e,function(t){console.log(t),alert("Uploaded to strava!")})}),$(document).on("click",".del-session",function(t){t.preventDefault();var e=$(this).data("name");confirm("Are you sure you want to delete session?")&&$.ajax({url:"/session/del/"+e,type:"DELETE",success:function(t){alert("Session deleted"),x.loadHistoryIndex(0,0)}})}),$(document).on("click","#save-route",function(t){t.preventDefault();var e=$("#addRoute"),a={};a.name=e.find("#name").val(),a.meters=e.find("#meters").val(),a.stravaId=e.find("#segmentId").val(),a.country=e.find("#countries").val(),a.gps=e.find("textarea").val(),$.ajax({type:"PUT",contentType:"application/json",dataType:"json",url:"/routes/add",data:JSON.stringify(a),success:function(){$("#add-route-modal").modal("hide")}})}),$(document).on("click","#save-user",function(t){t.preventDefault();var e=$("#addUserForm"),a=e.find("#firstName").val(),s=e.find("#lastName").val(),n=e.find("#userId").val(),i={};i.firstName=a,i.lastName=s,i.id=n,$.ajax({type:"PUT",contentType:"application/json",dataType:"json",url:"/users/add",data:JSON.stringify(i),success:function(){$("#addUserModal").modal("hide")}})}),$(document).on("click",".del-user",function(t){t.preventDefault();var e=$(this).data("id");confirm("Are you sure you want to delete?")&&$.ajax({url:"/users/"+e,type:"DELETE",success:function(t){v.loadUser()}})}),$(document).on("click",".del-route",function(t){t.preventDefault();var e=$(this).data("id");confirm("Are you sure you want to delete route?")&&$.ajax({url:"/routes/"+e,type:"DELETE",success:function(t){a(0)}})}),$("#load").each(function(){switch(window.location.hash){case"#route":a(0);break;case"#user":v.loadUser();break;case"#history":x.loadHistory(0);break;case"#session":t(k.name);break;default:m.loadMain()}}),$("#routes").each(f.loadRoutes),$("#session-user").each(v.loadUsers),$(document).on("show.bs.modal","#show-route-modal",function(t){var e=$(t.relatedTarget).data("route-name"),a=$(this);$.get("/routes/"+e,function(t){var e=t.name;t.segementId&&(e='<a target="_blank" href="https://www.strava.com/segments/'+t.segementId+'">'+e+" </a>"),a.find("#show-route-modal-title").html(e);var s='<li class="list-group-item"><h5 class="card-title">Display Lenght:</h5>'+t.meters+" m</li>";s+='<li class="list-group-item"><h5 class="card-title">Gps Lenght:</h5>'+t.gpsLenght+" m</li>",s+='<li class="list-group-item"><h5 class="card-title">Country:</h5>'+t.country+"</li>",a.find(".card .list-group").html(s)})}),$(document).on("shown.bs.modal","#show-route-modal",function(t){var e=$(t.relatedTarget).data("route-name");C(e,$("#live-route-map"))}),$(document).on("change","#routes",function(t){var e=$("#routes").find(":selected");p.cleanMap();var a=new google.maps.LatLng($(e).data("lat"),$(e).data("lon"));l.liveMap.panTo(a)})});var L=function(t,e,a){return t+="<tr>",t+='<th scope="row">'+(e+1)+"</th>",t+='<td><a data-toggle="modal" data-route-name="'+a.name+'" data-target="#show-route-modal" href="/routes/'+a.name+'">'+a.name+"</a></td>",t+="<td>"+parseInt(a.meters)+"m</td>",t+="<td>"+a.country+"</td>",t+="<td>",!0!==a.permanent&&(t+='<a class="edit-route" href="#" data-id="'+a.name+'"><i class="material-icons">create</i></a><a class="del-route" href="#" data-id="'+a.name+'"><i aria-hidden="true" title="Delete route" class="material-icons">delete</i></a></td>'),t+="</tr>"},N=function(t,e){t&&$.ajax({type:"GET",url:"/sessions/"+t+".gpx",success:function(t){var a=[],s=new google.maps.Map(e[0],{zoom:16});s.set("styles",p.styles);var n=new google.maps.LatLngBounds;$(t).find("trkpt").each(function(){var t=$(this).attr("lat"),e=$(this).attr("lon"),s=new google.maps.LatLng(t,e);a.push(s),n.extend(s)}),p.createPolyLine(a).setMap(s),s.fitBounds(n)}})},C=function(t,e){t&&$.ajax({type:"GET",url:"/routes/"+t,success:function(t){var a=[],s=new google.maps.Map(e[0],{zoom:8,maxZoom:16});s.set("styles",p.styles);var n=new google.maps.LatLngBounds;t.gps.forEach(function(t){var e=t.lat,s=t.lon,i=new google.maps.LatLng(e,s);a.push(i),n.extend(i)}),p.createPolyLine(a).setMap(s),s.fitBounds(n)}})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3V0aWxzL2dsb2JhbHMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy9tYXAvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy91dGlscy9tYXBVdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3JvdXRlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvdXNlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL2Zyb250L2luZGV4LmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvaGlzdG9yeS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL21haW4uanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJXQVRUX1JBVElPTiIsInV0aWxzIiwiY2FsY1dhdHQiLCJwYWNlIiwiTWF0aCIsInBvdyIsInNlc3Npb25OYW1lVG9SZWFkYWJsZSIsIm1vbWVudCIsInNsaWNlIiwiZm9ybWF0IiwiZ2V0SGVhcnRSYXRlQ29sb3IiLCJociIsImdldFVybFBhcmFtZXRlciIsInNQYXJhbSIsInNQYXJhbWV0ZXJOYW1lIiwic1VSTFZhcmlhYmxlcyIsImRlY29kZVVSSUNvbXBvbmVudCIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3Vic3RyaW5nIiwic3BsaXQiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJmbXRNU1MiLCJkYXRlIiwiRGF0ZSIsInNldFNlY29uZHMiLCJ0b0lTT1N0cmluZyIsInN1YnN0ciIsIlJBVElPTiIsIlBBR0VfU0laRSIsIlVQREFURV9GUkVRIiwic3JjX21hcCIsImxpdmVQb2ludHMiLCJsaXZlTWFwIiwibGl2ZUJvdW5kcyIsInN0eWxlcyIsImZlYXR1cmVUeXBlIiwic3R5bGVycyIsInNhdHVyYXRpb24iLCJsaWdodG5lc3MiLCJ2aXNpYmlsaXR5IiwiZWxlbWVudFR5cGUiLCJodWUiLCJpbml0TWFwIiwiZ29vZ2xlIiwibWFwcyIsIk1hcCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ6b29tIiwibWF4Wm9vbSIsIkxhdExuZ0JvdW5kcyIsInNldCIsImNyZWF0ZVBvbHlMaW5lIiwicG9pbnRzIiwiUG9seWxpbmUiLCJwYXRoIiwic3Ryb2tlQ29sb3IiLCJzdHJva2VPcGFjaXR5Iiwic3Ryb2tlV2VpZ2h0IiwibWFwVXRpbHMiLCJjbGVhbk1hcCIsInNldE1hcCIsImZpdEJvdW5kcyIsInNyY19yb3V0ZSIsImxvYWRSb3V0ZXMiLCJ0aGF0IiwidGhpcyIsIiQiLCJkYXRhIiwiaHRtbCIsImdyb3VwIiwic29ydCIsImEiLCJiIiwiY291bnRyeSIsInNlbGVjdGVkIiwiZm9yRWFjaCIsImluZGV4IiwiZ3BzIiwibGF0IiwibG9uIiwibWV0ZXJzIiwiZmluZCIsIkxhdExuZyIsInBhblRvIiwic3JjX3VzZXIiLCJsb2FkVXNlcnMiLCJpZCIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwibG9hZFVzZXIiLCJsb2FkIiwiZWFjaCIsInVzZXIiLCJvbiIsImUiLCJmcm9udCIsImxvYWRNYWluIiwic3RhdHVzIiwic3RhcnRCdXR0b24iLCJzdGFydCIsImF0dHIiLCJsb2FkSGlzdG9yeSIsIm1haW5JbmRleCIsImh0bWxDYXJkcyIsInNlc3Npb24iLCJjcmVhdGVDYXJkIiwidHJpZ2dlciIsImxvYWRIaXN0b3J5TGlzdCIsInN0b3AiLCJ1c2VycyIsImh0bWxUYWJsZSIsInVzZXJNYXAiLCJyZWR1Y2UiLCJtYXAiLCJvYmoiLCJjcmVhdGVMYXBUYWJsZVJlY29yZCIsInBhZ2UiLCJodG1sRWxlbWVudCIsImFkZENsYXNzIiwic2l6ZSIsInBhcnNlSW50IiwicHJldkRpc2FibGVkIiwibmV4dERpc2FibGVkIiwicHJldiIsImFwcGVuZCIsIm5leHQiLCJhY3RpdmUiLCJpdGVtIiwiY3JlYXRlSGlzdG9yeU5hdlBhZ2UiLCJlbmRTdGF0cyIsInNlY29uZHMiLCJ0aW1lT3V0Iiwic3JjX2hpc3RvcnkiLCJsb2FkSGlzdG9yeUluZGV4IiwicnVuIiwiUXVlcnlTdHJpbmciLCJVUkwiLCJxdWVyeV9zdHJpbmciLCJ2YXJzIiwicGFpciIsImFyciIsInB1c2giLCJnZXRfcm93SW5mbyIsImNvbnRpbnVlcyIsInRpdGxlIiwiZ2V0SHRtbCIsImdldExhcEh0bWwiLCJleHRlbmQiLCJkb25lIiwic2V0VGltZW91dCIsImxhYmVsIiwianNvbiIsImRheSIsImxhc3RJbmRleE9mIiwicm91dGVMYXAiLCJyb3VuZCIsInBhcnNlRmxvYXQiLCJsYXBQYWNlIiwidG93S1BhY2UiLCJ3YXR0Iiwic3Ryb2tlIiwiYXZnSHIiLCJmaWxlTmFtZSIsInJldmVyc2UiLCJ0b3RhbExhcHMiLCJsYXBOdW0iLCJsYXBzIiwibG9hZFNlc3Npb24iLCJ2YWwiLCJyb3V0ZSIsImFkZEdweFRyYWNrVG9NYXAiLCJ0aW1lIiwic3Ryb2tlcyIsInNwZWVkIiwic3Ryb2tlQ29udGVyIiwidGltZVZhbCIsInN0cm9rZVRpbWUiLCJzZWMiLCJsZW5naHQiLCJ3YXR0VmFsdWUiLCJzcGVlZE1lcmdlZCIsImhyTWVyZ2VkIiwid2F0dE1lcmdlZCIsInN0cm9rZU1lcmdlZCIsImxhYmVsc01lcmdlZCIsIm1lcmdlU2l6ZSIsInNwbGljZSIsInRpbWVWIiwiaCIsInciLCJjdHgiLCJsaW5lQ2hhcnREYXRhIiwibGFiZWxzIiwiZGF0YXNldHMiLCJib3JkZXJDb2xvciIsImJhY2tncm91bmRDb2xvciIsImZpbGwiLCJ5QXhpc0lEIiwibGluZVRlbnNpb24iLCJDaGFydCIsIkxpbmUiLCJvcHRpb25zIiwicmVzcG9uc2l2ZSIsImhvdmVyTW9kZSIsInN0YWNrZWQiLCJzY2FsZXMiLCJ5QXhlcyIsInR5cGUiLCJkaXNwbGF5IiwicG9zaXRpb24iLCJ0aWNrcyIsInN1Z2dlc3RlZE1pbiIsIm1pbiIsInN0ZXBTaXplIiwiZ3JpZExpbmVzIiwiZHJhd09uQ2hhcnRBcmVhIiwiYWRkR3JhcGgiLCJyYXciLCJyYXdIciIsImNyZWF0ZVJvdXRlTmF2UGFnZSIsImxvYWRSb3V0ZSIsImxvYWRSb3V0ZVRhYmxlIiwiY3JlYXRlUm91dGVSZWNvcmQiLCJwcmV2ZW50RGVmYXVsdCIsImlzTmFOIiwicmVtb3ZlQ2xhc3MiLCJwYXJlbnQiLCJlbGVtZW50Iiwicm91dGVzIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwiY2xlYXJUaW1lb3V0Iiwic3RhcnRSb3ciLCJyZW1vdmVBdHRyIiwiYWpheCIsInVybCIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJmb3JtIiwicmVwbGFjZSIsIm1vZGFsIiwic2VnbWVudElkIiwiZ3BzQ3ZzIiwiSlNPTiIsInN0cmluZ2lmeSIsImhyZWYiLCJjb25zb2xlIiwibG9nIiwiYWxlcnQiLCJjb25maXJtIiwiZXZlbnQiLCJzdHJhdmFJZCIsImNvbnRlbnRUeXBlIiwiZGF0YVR5cGUiLCJoYXNoIiwicmVsYXRlZFRhcmdldCIsInNlZ2VtZW50SWQiLCJncHNMZW5naHQiLCJhZGRSb3V0ZVRyYWNrVG9NYXAiLCJwZXJtYW5lbnQiLCJ4bWwiLCJib3VuZHMiLCJwb2ludCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxF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QUFBLFNBQUFoUyxFQUFBZ1EsR0FDQWhRLEdBQ0ErRixFQUFBeUssTUFDQTVCLEtBQUEsTUFDQTZCLElBQUEsV0FBQXpRLEVBQ0EwUSxRQUFBLFNBQUExSyxHQUNBLElBQUFmLEtBQ0E2RCxFQUFBLElBQUF2RSxPQUFBQyxLQUFBQyxJQUFBdUwsRUFBQSxJQUNBcEwsS0FBQSxFQUNBQyxRQUFBLEtBR0FpRSxFQUFBL0QsSUFBQSxTQUFrQ1EsRUFBUXpCLFFBRTFDLElBQUFxTyxFQUFBLElBQUE1TixPQUFBQyxLQUFBTSxhQUVBa0IsRUFBQVUsSUFBQUYsUUFBQSxTQUFBNEwsR0FDQSxJQUFBekwsRUFBQXlMLEVBQUF6TCxJQUNBQyxFQUFBd0wsRUFBQXhMLElBQ0FyRixFQUFBLElBQUFnRCxPQUFBQyxLQUFBdUMsT0FBQUosRUFBQUMsR0FDQTNCLEVBQUF5RixLQUFBbkosR0FDQTRRLEVBQUFuSCxPQUFBekosS0FHMkJnRSxFQUFRUCxlQUFBQyxHQUVuQ1EsT0FBQXFELEdBR0FBLEVBQUFwRCxVQUFBeU0iLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiY29uc3QgV0FUVF9SQVRJT04gPSAyLjgwO1xuXG5mdW5jdGlvbiBjYWxjV2F0dChwYWNlKSB7XG4gICAgcmV0dXJuIFdBVFRfUkFUSU9OIC8gTWF0aC5wb3cocGFjZSwgMyk7XG59XG5cbmZ1bmN0aW9uIHNlc3Npb25OYW1lVG9SZWFkYWJsZShuYW1lKSB7XG4gICAgcmV0dXJuIG1vbWVudChuYW1lLnNsaWNlKDAsIDEzKSArICc6JyArIG5hbWUuc2xpY2UoMTMsMTUpICsgJzonICsgbmFtZS5zbGljZSgxNSkpLmZvcm1hdChcIllZWVktTU0tREQgaGg6bW06c3NcIik7XG59XG5cbmZ1bmN0aW9uIGdldEhlYXJ0UmF0ZUNvbG9yKGhyKSB7XG4gICAgaWYgKGhyIDwgMTI1KSB7XG4gICAgICAgIHJldHVybiAndGV4dC1zdWNjZXNzJ1xuICAgIH0gZWxzZSBpZiAoaHIgPCAxNTApIHtcbiAgICAgICAgcmV0dXJuICd0ZXh0LXByaW1hcnknXG4gICAgfSBlbHNlIGlmIChociA8IDE3NSkge1xuICAgICAgICByZXR1cm4gJ3RleHQtd2FybmluZyc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICd0ZXh0LWRhbmdlcic7XG4gICAgfVxufVxuXG52YXIgZ2V0VXJsUGFyYW1ldGVyID0gZnVuY3Rpb24gZ2V0VXJsUGFyYW1ldGVyKHNQYXJhbSkge1xuICAgIHZhciBzUGFnZVVSTCA9IGRlY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKSksXG4gICAgICAgIHNVUkxWYXJpYWJsZXMgPSBzUGFnZVVSTC5zcGxpdCgnJicpLFxuICAgICAgICBzUGFyYW1ldGVyTmFtZSxcbiAgICAgICAgaTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBzVVJMVmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNQYXJhbWV0ZXJOYW1lID0gc1VSTFZhcmlhYmxlc1tpXS5zcGxpdCgnPScpO1xuXG4gICAgICAgIGlmIChzUGFyYW1ldGVyTmFtZVswXSA9PT0gc1BhcmFtKSB7XG4gICAgICAgICAgICByZXR1cm4gc1BhcmFtZXRlck5hbWVbMV0gPT09IHVuZGVmaW5lZCA/IHRydWUgOiBzUGFyYW1ldGVyTmFtZVsxXTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGZtdE1TUyhzKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShudWxsKTtcbiAgICBkYXRlLnNldFNlY29uZHMocyk7IC8vIHNwZWNpZnkgdmFsdWUgZm9yIFNFQ09ORFMgaGVyZVxuICAgIHJldHVybiBkYXRlLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDExLCA4KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBjYWxjV2F0dCwgc2Vzc2lvbk5hbWVUb1JlYWRhYmxlLCBnZXRIZWFydFJhdGVDb2xvciwgZ2V0VXJsUGFyYW1ldGVyLCBmbXRNU1MgfVxuXG4iLCJleHBvcnQgY29uc3QgUkFUSU9OID0gKDEwMCAvIDQuODA1KSAqIDY7XG5leHBvcnQgY29uc3QgUEFHRV9TSVpFID0gMTA7XG5leHBvcnQgY29uc3QgVVBEQVRFX0ZSRVEgPSAxMDAwO1xuXG5leHBvcnQgZGVmYXVsdCB7IFJBVElPTiwgUEFHRV9TSVpFLCBVUERBVEVfRlJFUSB9IiwidmFyIGxpdmVQb2ludHMgPSBbXTtcbnZhciBsaXZlTWFwID0ge307XG52YXIgbGl2ZUJvdW5kcyA9IHt9O1xuXG5cbmV4cG9ydCBkZWZhdWx0IHsgbGl2ZVBvaW50cywgbGl2ZU1hcCwgbGl2ZUJvdW5kcyB9IiwiaW1wb3J0IG1hcCBmcm9tICcuLi9tYXAvaW5kZXgnXG5cbmNvbnN0IHN0eWxlcyA9IFt7XG4gICAgXCJmZWF0dXJlVHlwZVwiOiBcImxhbmRzY2FwZVwiLCBcInN0eWxlcnNcIjogW3sgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfSwgeyBcImxpZ2h0bmVzc1wiOiA2NSB9LFxuICAgICAgICB7IFwidmlzaWJpbGl0eVwiOiBcIm9uXCIgfV1cbn0sIHtcbiAgICBcImZlYXR1cmVUeXBlXCI6IFwicG9pXCIsIFwic3R5bGVyc1wiOiBbeyBcInNhdHVyYXRpb25cIjogLTEwMCB9LCB7IFwibGlnaHRuZXNzXCI6IDUxIH0sXG4gICAgICAgIHsgXCJ2aXNpYmlsaXR5XCI6IFwic2ltcGxpZmllZFwiIH1dXG59LCB7XG4gICAgXCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuaGlnaHdheVwiLCBcInN0eWxlcnNcIjogW3sgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfSxcbiAgICAgICAgeyBcInZpc2liaWxpdHlcIjogXCJzaW1wbGlmaWVkXCIgfV1cbn0sIHtcbiAgICBcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5hcnRlcmlhbFwiLCBcInN0eWxlcnNcIjogW3sgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfSxcbiAgICAgICAgeyBcImxpZ2h0bmVzc1wiOiAzMCB9LCB7IFwidmlzaWJpbGl0eVwiOiBcIm9uXCIgfV1cbn0sIHtcbiAgICBcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5sb2NhbFwiLCBcInN0eWxlcnNcIjogW3sgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfSxcbiAgICAgICAgeyBcImxpZ2h0bmVzc1wiOiA0MCB9LCB7IFwidmlzaWJpbGl0eVwiOiBcIm9uXCIgfV1cbn0sIHtcbiAgICBcImZlYXR1cmVUeXBlXCI6IFwidHJhbnNpdFwiLCBcInN0eWxlcnNcIjogW3sgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfSxcbiAgICAgICAgeyBcInZpc2liaWxpdHlcIjogXCJzaW1wbGlmaWVkXCIgfV1cbn0sIHsgXCJmZWF0dXJlVHlwZVwiOiBcImFkbWluaXN0cmF0aXZlLnByb3ZpbmNlXCIsIFwic3R5bGVyc1wiOiBbeyBcInZpc2liaWxpdHlcIjogXCJvZmZcIiB9XSB9LFxuICAgIHsgXCJmZWF0dXJlVHlwZVwiOiBcIndhdGVyXCIsIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHNcIiwgXCJzdHlsZXJzXCI6IFt7IFwidmlzaWJpbGl0eVwiOiBcIm9uXCIgfSwgeyBcImxpZ2h0bmVzc1wiOiAtMjUgfSwgeyBcInNhdHVyYXRpb25cIjogLTEwMCB9XSB9LFxuICAgIHsgXCJmZWF0dXJlVHlwZVwiOiBcIndhdGVyXCIsIFwiZWxlbWVudFR5cGVcIjogXCJnZW9tZXRyeVwiLCBcInN0eWxlcnNcIjogW3sgXCJodWVcIjogXCIjZmZmZjAwXCIgfSwgeyBcImxpZ2h0bmVzc1wiOiAtMjUgfSwgeyBcInNhdHVyYXRpb25cIjogLTk3IH1dIH1dO1xuXG5mdW5jdGlvbiBjbGVhbk1hcCgpIHtcbiAgICBpbml0TWFwKCk7XG4gICAgbWFwLmxpdmVQb2ludHMgPSBbXTtcbiAgICB2YXIgcG9seSA9IGNyZWF0ZVBvbHlMaW5lKG1hcC5saXZlUG9pbnRzKTtcbiAgICBwb2x5LnNldE1hcChtYXAubGl2ZU1hcCk7XG5cbiAgICAvLyBmaXQgYm91bmRzIHRvIHRyYWNrXG4gICAgbWFwLmxpdmVNYXAuZml0Qm91bmRzKG1hcC5saXZlQm91bmRzKTtcbn1cblxuZnVuY3Rpb24gaW5pdE1hcCgpIHtcbiAgICBtYXAubGl2ZU1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpdmUtbWFwJyksIHtcbiAgICAgICAgem9vbTogOCxcbiAgICAgICAgbWF4Wm9vbTogMTZcbiAgICB9KTtcblxuICAgIG1hcC5saXZlQm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpO1xuICAgIG1hcC5saXZlTWFwLnNldCgnc3R5bGVzJywgc3R5bGVzKTtcbn1cblxuLy9UT0RPOiBDaGFuZ2UgY29sb3IgYnkgc3BlZWQgb3IgaHIuXG5mdW5jdGlvbiBjcmVhdGVQb2x5TGluZShwb2ludHMpIHtcbiAgICByZXR1cm4gbmV3IGdvb2dsZS5tYXBzLlBvbHlsaW5lKHtcbiAgICAgICAgcGF0aDogcG9pbnRzLFxuICAgICAgICBzdHJva2VDb2xvcjogXCIjRkYwMEFBXCIsXG4gICAgICAgIHN0cm9rZU9wYWNpdHk6IC43LFxuICAgICAgICBzdHJva2VXZWlnaHQ6IDRcbiAgICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBjbGVhbk1hcCwgaW5pdE1hcCwgc3R5bGVzLCBjcmVhdGVQb2x5TGluZSB9IiwiaW1wb3J0IG1hcFV0aWxzIGZyb20gJy4uL3V0aWxzL21hcFV0aWxzJ1xuaW1wb3J0IG1hcCBmcm9tICcuLi9tYXAvaW5kZXgnXG5cbi8qKiBBbGwgbG9hZCBmdW5jdGlvbnMgKi9cbnZhciBsb2FkUm91dGVzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAkLmdldChcIi9yb3cvcm91dGVzXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBodG1sID0gJyc7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBncm91cCA9ICcnO1xuICAgICAgICBkYXRhLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIChhLmNvdW50cnkgPiBiLmNvdW50cnkpID8gMSA6ICgoYi5jb3VudHJ5ID4gYS5jb3VudHJ5KSA/IC0xIDogMCk7IH0pO1xuXG4gICAgICAgIHZhciBzZWxlY3RlZCA9ICdzZWxlY3RlZD1cInNlbGVjdGVkXCInO1xuICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUuY291bnRyeSAhPT0gZ3JvdXApIHtcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8b3B0Z3JvdXAgbGFiZWw9XCInICsgdmFsdWUuY291bnRyeSArICdcIj4nO1xuICAgICAgICAgICAgICAgIGdyb3VwID0gdmFsdWUuY291bnRyeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh0bWwgKz0gJzxvcHRpb24gJyArIHNlbGVjdGVkICsgJyB2YWx1ZT1cIicgKyB2YWx1ZS5pbmRleCArICdcIiBkYXRhLWxhdD1cIicgKyB2YWx1ZS5ncHNbMF0ubGF0ICsgJ1wiIGRhdGEtbG9uPVwiJyArIHZhbHVlLmdwc1swXS5sb24gKyAnXCI+JyArIHZhbHVlLm5hbWUgKyAnICgnICsgdmFsdWUubWV0ZXJzICsgJ20pPC9vcHRpb24+JztcbiAgICAgICAgICAgIHNlbGVjdGVkID0gJyc7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9KTtcbiAgICAgICAgJCh0aGF0KS5odG1sKGh0bWwpO1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSAkKCcjcm91dGVzJykuZmluZChcIjpzZWxlY3RlZFwiKTtcbiAgICAgICAgbWFwVXRpbHMuY2xlYW5NYXAoKTtcbiAgICAgICAgdmFyIHAgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKCQoc2VsZWN0ZWQpLmRhdGEoXCJsYXRcIiksICQoc2VsZWN0ZWQpLmRhdGEoXCJsb25cIikpO1xuICAgICAgICBtYXAubGl2ZU1hcC5wYW5UbyhwKTtcbiAgICB9KTtcblxufTtcblxuZXhwb3J0IGRlZmF1bHQgeyBsb2FkUm91dGVzIH0iLCJcbnZhciBsb2FkVXNlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICQuZ2V0KFwiL3VzZXJzXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBodG1sID0gJyc7XG4gICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxvcHRpb24gdmFsdWU9XCInICsgdmFsdWUuaWQgKyAnXCI+JyArIHZhbHVlLmZpcnN0TmFtZSArICcgJyArIHZhbHVlLmxhc3ROYW1lICsgJzwvb3B0aW9uPidcbiAgICAgICAgfSk7XG4gICAgICAgICQodGhhdCkuaHRtbChodG1sKVxuICAgIH0pO1xufTtcblxuXG5mdW5jdGlvbiBsb2FkVXNlcigpIHtcbiAgICAkKCcjbG9hZCcpLmxvYWQoJy91c2VyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmZpbmQoJyN1c2Vycy1ib2R5JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICAkLmdldChcIi91c2Vycy9cIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9ICcnO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXNlciA9IGRhdGFbaV07XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzx0cj48dGQ+PGEgaHJlZj1cIiNcIiBkYXRhLWlkPVwiJyArIHVzZXIuaWQgKyAnXCI+JyArIChpICsgMSkgKyAnPC9hPjwvdGQ+PHRkPicgKyB1c2VyLmZpcnN0TmFtZSArICc8L3RkPjx0ZD4nICsgdXNlci5sYXN0TmFtZSArICc8L3RkPic7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzx0ZD48YSBjbGFzcz1cImVkaXQtdXNlclwiIGhyZWY9XCIjXCIgZGF0YS1pZD1cIicgKyB1c2VyLmlkICsgJ1wiPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jcmVhdGU8L2k+PC9hPjxhIGNsYXNzPVwiZGVsLXVzZXJcIiBocmVmPVwiI1wiIGRhdGEtaWQ9XCInICsgdXNlci5pZCArICdcIj48aSBhcmlhLWhpZGRlbj1cInRydWVcIiB0aXRsZT1cIkRlbGV0ZSB1c2VyXCIgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmRlbGV0ZTwvaT48L2E+PC90ZD4nICsgJzwvdHI+J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKHRoYXQpLmh0bWwoaHRtbCk7XG4gICAgICAgICAgICAgICAgJCgnI2FkZFVzZXJNb2RhbCcpLm9uKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2FkVXNlcigpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgeyBsb2FkVXNlcnMsIGxvYWRVc2VyIH0iLCJpbXBvcnQgcm91dGUgZnJvbSAnLi4vcm91dGUvaW5kZXgnO1xuaW1wb3J0IHVzZXIgZnJvbSAnLi4vdXNlci9pbmRleCc7XG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMvdXRpbHMnXG5cbmZ1bmN0aW9uIGxvYWRNYWluKCkge1xuICAgICQoJyNsb2FkJykubG9hZCgnL21haW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykuZmluZCgnI3JvdXRlcycpLmVhY2gocm91dGUubG9hZFJvdXRlcyk7XG4gICAgICAgICQodGhpcykuZmluZCgnI3Nlc3Npb24tdXNlcicpLmVhY2godXNlci5sb2FkVXNlcnMpO1xuICAgICAgICAkLmdldChcIi9yb3cvc3RhdHVzXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09ICdST1dJTkcnKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0QnV0dG9uID0gJCgnI3N0YXJ0Um93Jyk7XG4gICAgICAgICAgICAgICAgaWYgKHV0aWxzLmdldFVybFBhcmFtZXRlcihcInRlc3RcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRCdXR0b24gPSAkKCcjc3RhcnRTaW11bGF0b3InKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGFydChzdGFydEJ1dHRvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vUnVuIHNpbXVsYXRvciBpZiB0ZXN0LlxuICAgICAgICBpZiAodXRpbHMuZ2V0VXJsUGFyYW1ldGVyKFwidGVzdFwiKSkge1xuICAgICAgICAgICAgJCgnI3N0YXJ0Um93JykuYXR0cihcImlkXCIsIFwic3RhcnRTaW11bGF0b3JcIik7XG4gICAgICAgIH1cbiAgICB9KTtcblxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IHsgbG9hZE1haW4gfTsiLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IHsgVVBEQVRFX0ZSRVEsIFBBR0VfU0laRSwgUkFUSU9OIH0gZnJvbSAnLi4vdXRpbHMvZ2xvYmFscyc7XG5cblxuZnVuY3Rpb24gbG9hZEhpc3RvcnlJbmRleChpbmRleCkge1xuICAgIGxvYWRIaXN0b3J5KGluZGV4KTtcbn1cblxuZnVuY3Rpb24gbG9hZEhpc3RvcnkobWFpbkluZGV4KSB7XG4gICAgJCgnI2xvYWQnKS5sb2FkKCcvaGlzdG9yeScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5maW5kKCcjaGlzdG9yeScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbG9hZExhc3QzU2Vzc2lvbnMoKTtcbiAgICAgICAgICAgIGxvYWRIaXN0b3J5TGlzdCgkKHRoaXMpLCBtYWluSW5kZXgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbG9hZExhc3QzU2Vzc2lvbnMoKSB7XG4gICAgJC5nZXQoJy9zZXNzaW9uLycgKyAwICsgJy8nICsgMiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGh0bWxDYXJkcyA9ICcnO1xuICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHNlc3Npb24pIHtcbiAgICAgICAgICAgIGh0bWxDYXJkcyA9IGNyZWF0ZUNhcmQoaHRtbENhcmRzLCBzZXNzaW9uKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnI2NhcmRzJykuaHRtbCgnPGRpdiBjbGFzcz1cImNvbFwiPjxkaXYgY2xhc3M9XCJjYXJkLWRlY2tcIj4nICsgaHRtbENhcmRzICsgJzwvZGl2PjwvZGl2PicpO1xuICAgICAgICAkKCcuZ3B4LXRyYWNrJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnRyaWdnZXIoXCJsb2FkLW1hcFwiLCB0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvYWRIaXN0b3J5TGlzdCh0aGF0LCBtYWluSW5kZXgpIHtcbiAgICB2YXIgc3RhcnQgPSBtYWluSW5kZXggKiBQQUdFX1NJWkUsIHN0b3AgPSAoKChtYWluSW5kZXggKyAxKSAqIFBBR0VfU0laRSkpIC0gMTtcbiAgICAkLmdldCgnL3Nlc3Npb24vJyArIHN0YXJ0ICsgJy8nICsgc3RvcCwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgJC5nZXQoJy91c2VycycsIGZ1bmN0aW9uICh1c2Vycykge1xuICAgICAgICAgICAgdmFyIGh0bWxUYWJsZSA9ICcnLCBpbmRleCA9IDA7XG4gICAgICAgICAgICB2YXIgdXNlck1hcCA9IHVzZXJzLnJlZHVjZShmdW5jdGlvbihtYXAsIG9iaikge1xuICAgICAgICAgICAgICAgIG1hcFtvYmouaWRdID0gb2JqO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXA7XG4gICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBodG1sVGFibGUgPSBjcmVhdGVMYXBUYWJsZVJlY29yZChodG1sVGFibGUsIGluZGV4ICsgKG1haW5JbmRleCAqIFBBR0VfU0laRSksIHNlc3Npb24sIHVzZXJNYXApO1xuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnI2hpc3Rvci10YWJsZS1ib2R5JykuaHRtbChodG1sVGFibGUpO1xuICAgICAgICAgICAgdmFyIHBhZyA9IHRoYXQuZmluZCgnLnBhZ2UnKTtcbiAgICAgICAgICAgIGNyZWF0ZUhpc3RvcnlOYXZQYWdlKHBhZywgbWFpbkluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cblxudmFyIGNyZWF0ZUNhcmQgPSBmdW5jdGlvbiAoaHRtbENhcmRzLCBzZXNzaW9uKSB7XG4gICAgaHRtbENhcmRzICs9ICc8ZGl2IGNsYXNzPVwiY2FyZCBncHgtdHJhY2tcIiBkYXRhLW5hbWU9XCInICsgc2Vzc2lvbi5uYW1lICsgJ1wiXCI+JztcbiAgICBodG1sQ2FyZHMgKz0gJzxkaXYgY2xhc3M9XCJjYXJkLWJvZHlcIj4nO1xuICAgIGh0bWxDYXJkcyArPSAnPGRpdiBjbGFzcz1cImNhcmQtbWFwLXRvcCBcIj48L2Rpdj4nO1xuICAgIGh0bWxDYXJkcyArPSAnPGg1IGNsYXNzPVwiY2FyZC10aXRsZSBtdC0yXCI+PGEgY2xhc3M9XCJzZXNzaW9uc1wiIGRhdGEtbmFtZT1cIicgKyBzZXNzaW9uLm5hbWUgKyAnXCIgaHJlZj1cIi9zZXNzaW9uXCI+JyArIHV0aWxzLnNlc3Npb25OYW1lVG9SZWFkYWJsZShzZXNzaW9uLm5hbWUpICsgJzwvYT48L2g1Pic7XG4gICAgaHRtbENhcmRzICs9ICc8cCBjbGFzcz1cImNhcmQtdGV4dFwiPkxlbmd0aDogJyArIHBhcnNlSW50KHNlc3Npb24uZW5kU3RhdHMubWV0ZXJzKSArICdtLCBUaW1lOiAnICsgdXRpbHMuZm10TVNTKHBhcnNlSW50KHNlc3Npb24uZW5kU3RhdHMuc2Vjb25kcykpICsgJzwvcD4nO1xuICAgIGh0bWxDYXJkcyArPSAnPGEgaHJlZj1cIi9zdHJhdmEvdXBsb2FkLycgKyBzZXNzaW9uLm5hbWUgKyAnXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgc3RyYXZhIGJ0bi1ibG9ja1wiPlVwbG9hZCB0byBTdHJhdmE8L2E+JztcbiAgICBodG1sQ2FyZHMgKz0gJzwvZGl2Pic7XG4gICAgaHRtbENhcmRzICs9ICc8L2Rpdj4nO1xuICAgIHJldHVybiBodG1sQ2FyZHM7XG59O1xuXG52YXIgY3JlYXRlTGFwVGFibGVSZWNvcmQgPSBmdW5jdGlvbiAoaHRtbFRhYmxlLCBpbmRleCwgc2Vzc2lvbiwgdXNlck1hcCkge1xuICAgIHZhciB1c2VyID0gdXNlck1hcFtzZXNzaW9uLnVzZXJdO1xuICAgIGh0bWxUYWJsZSArPSAnPHRyPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGggc2NvcGU9XCJyb3dcIj4nICsgKGluZGV4ICsgMSkgKyAnPC90aD4nO1xuICAgIGh0bWxUYWJsZSArPSAnPHRkPjxhIGNsYXNzPVwic2Vzc2lvbnNcIiBkYXRhLW5hbWU9XCInICsgc2Vzc2lvbi5uYW1lICsgJ1wiIGhyZWY9XCIvP25hbWU9JytzZXNzaW9uLm5hbWUrJyNzZXNzaW9uXCI+JyArIHV0aWxzLnNlc3Npb25OYW1lVG9SZWFkYWJsZShzZXNzaW9uLm5hbWUpICsgJzwvYT48L3RkPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+TGVuZ3RoOiAnICsgcGFyc2VJbnQoc2Vzc2lvbi5lbmRTdGF0cy5tZXRlcnMpICsgJ208L3RkPic7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgICAgaHRtbFRhYmxlICs9ICc8dGQ+JyArIHVzZXIuZmlyc3ROYW1lICsgJyAnICsgdXNlci5sYXN0TmFtZSArICc8L3RkPic7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaHRtbFRhYmxlICs9ICc8dGQ+PC90ZD4nO1xuICAgIH1cbiAgICBodG1sVGFibGUgKz0gJzx0ZD4gPGEgaHJlZj1cIi9zZXNzaW9ucy8nICsgc2Vzc2lvbi5uYW1lICsgJy5ncHhcIj48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIG1kLTM2XCI+ZmlsZV9kb3dubG9hZDwvaT48YSBjbGFzcz1cInN0cmF2YVwiIGhyZWY9XCIvc3RyYXZhL3VwbG9hZC8nICsgc2Vzc2lvbi5uYW1lICsgJ1wiPjxpIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHRpdGxlPVwiVXBsb2FkIHRvIFN0cmF2YVwiIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgbWQtMzZcIj5jbG91ZF91cGxvYWQ8L2k+PC9hPiA8YSBjbGFzcz1cImRlbC1zZXNzaW9uXCIgaHJlZj1cIiNcIiBkYXRhLW5hbWU9XCInICsgc2Vzc2lvbi5uYW1lICsgJ1wiPjxpIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHRpdGxlPVwiRGVsZXRlIHNlc3Npb24gbG9jYWxcIiBjbGFzcz1cIm1hdGVyaWFsLWljb25zIG1kLTM2XCI+ZGVsZXRlPC9pPjwvYT48L3RkPic7XG4gICAgaHRtbFRhYmxlICs9ICc8L3RyPic7XG4gICAgcmV0dXJuIGh0bWxUYWJsZTtcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUhpc3RvcnlOYXZQYWdlKHBhZ2UsIGluZGV4KSB7XG4gICAgdmFyIGh0bWxFbGVtZW50ID0gJCgnPHVsIGlkPVwiaGlzdG9yeS1wYWdlXCIgZGF0YS1pbmRleD1cIicgKyBpbmRleCArICdcIj48L3VsPicpLmFkZENsYXNzKFwicGFnaW5hdGlvbiBwYWdpbmF0aW9uLWxnXCIpO1xuICAgICQuZ2V0KFwic2Vzc2lvbi9zaXplXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocGFyc2VJbnQoZGF0YSkgLyBQQUdFX1NJWkUpICsgMTtcbiAgICAgICAgdmFyIHByZXZEaXNhYmxlZCA9IChpbmRleCA9PT0gMCA/ICdkaXNhYmxlZCcgOiAnJyk7XG4gICAgICAgIHZhciBuZXh0RGlzYWJsZWQgPSAoaW5kZXggPT09IHNpemUgLSAxID8gJ2Rpc2FibGVkJyA6ICcnKTtcbiAgICAgICAgdmFyIHByZXYgPSAkKCc8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gJyArIHByZXZEaXNhYmxlZCArICdcIj48L2xpPicpLmFwcGVuZCgnPGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBocmVmPVwiI1wiIGRhdGEtbmV4dD1cIi0xXCIgdGFiaW5kZXg9XCItMVwiPlByZXZpb3VzPC9hPicpO1xuICAgICAgICB2YXIgbmV4dCA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgbmV4dERpc2FibGVkICsgJ1wiPjwvbGk+JykuYXBwZW5kKCc8YSBjbGFzcz1cInBhZ2UtbGlua1wiIGRhdGEtbmV4dD1cIjFcIiBocmVmPVwiI1wiPk5leHQ8L2E+Jyk7XG5cbiAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kKHByZXYpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgdmFyIGFjdGl2ZSA9ICcnO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBpKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlID0gXCJhY3RpdmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpdGVtID0gJCgnPGxpIGNsYXNzPVwicGFnZS1pdGVtICcgKyBhY3RpdmUgKyAnXCI+PGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBkYXRhLWluZGV4PVwiJyArIGkgKyAnXCIgaHJlZj1cIiNcIj4nICsgKGkgKyAxKSArICc8L2E+PC9saT4nKTtcbiAgICAgICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBodG1sRWxlbWVudC5hcHBlbmQobmV4dCk7XG4gICAgICAgICQocGFnZSkuaHRtbChodG1sRWxlbWVudCk7XG4gICAgfSk7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgeyBsb2FkSGlzdG9yeUluZGV4LCBsb2FkSGlzdG9yeSwgbG9hZEhpc3RvcnlMaXN0IH0iLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscy91dGlscyc7XG5pbXBvcnQgeyBVUERBVEVfRlJFUSwgUEFHRV9TSVpFLCBSQVRJT04gfSBmcm9tICcuL3V0aWxzL2dsb2JhbHMnO1xuaW1wb3J0IGZyb250IGZyb20gJy4vZnJvbnQvaW5kZXgnO1xuaW1wb3J0IHJvdXRlIGZyb20gJy4vcm91dGUvaW5kZXgnO1xuaW1wb3J0IHVzZXIgZnJvbSAnLi91c2VyL2luZGV4JztcbmltcG9ydCBtYXBVdGlscyBmcm9tICcuL3V0aWxzL21hcFV0aWxzJ1xuaW1wb3J0IG1hcCBmcm9tICcuL21hcC9pbmRleCdcbmltcG9ydCBoaXN0b3J5IGZyb20gJy4vaGlzdG9yeS9pbmRleCdcblxuXG52YXIgdGltZU91dDtcbnZhciBydW4gPSBmYWxzZTtcblxuXG4vKipcbiAqIERlY2xhcmVzIGEgbmV3IG9iamVjdCBpbiB0aGUgd2luZG93IG5hbWVseSBRdWVyeVN0cmluZyB0aGF0IGNvbnRhaW5zIGV2ZXJ5IGdldCBwYXJhbWV0ZXIgZnJvbSB0aGUgY3VycmVudCBVUkwgYXMgYSBwcm9wZXJ0eVxuICovXG53aW5kb3cuUXVlcnlTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyBhbm9ueW1vdXMsIGlzIGV4ZWN1dGVkIGltbWVkaWF0ZWx5IGFuZCBcbiAgICAvLyB0aGUgcmV0dXJuIHZhbHVlIGlzIGFzc2lnbmVkIHRvIFF1ZXJ5U3RyaW5nIVxuICAgIHZhciBxdWVyeV9zdHJpbmcgPSB7fTtcbiAgICB2YXIgcXVlcnkgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKTtcbiAgICB2YXIgdmFycyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xuXG4gICAgICAgIC8vIElmIGZpcnN0IGVudHJ5IHdpdGggdGhpcyBuYW1lXG4gICAgICAgIGlmICh0eXBlb2YgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICAgICAgICAvLyBJZiBzZWNvbmQgZW50cnkgd2l0aCB0aGlzIG5hbWVcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB2YXIgYXJyID0gW3F1ZXJ5X3N0cmluZ1twYWlyWzBdXSwgZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pXTtcbiAgICAgICAgICAgIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9IGFycjtcbiAgICAgICAgICAgIC8vIElmIHRoaXJkIG9yIGxhdGVyIGVudHJ5IHdpdGggdGhpcyBuYW1lXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0ucHVzaChkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHF1ZXJ5X3N0cmluZztcbn0oKTtcblxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBldmVyeSBnZXQgcGFyYW1ldGVyIGZyb20gYSBVUkwgKGZpcnN0IGFyZ3VtZW50KSBhcyBhIHByb3BlcnR5XG4gKiBcbiAqIEBwYXJhbSBVUkwge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gUXVlcnlTdHJpbmcoVVJMKSB7XG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyBhbm9ueW1vdXMsIGlzIGV4ZWN1dGVkIGltbWVkaWF0ZWx5IGFuZCBcbiAgICAvLyB0aGUgcmV0dXJuIHZhbHVlIGlzIGFzc2lnbmVkIHRvIFF1ZXJ5U3RyaW5nIVxuICAgIHZhciBxdWVyeV9zdHJpbmcgPSB7fTtcbiAgICB2YXIgdXNlZnVsUGFyYW0gPSBVUkwuc3BsaXQoXCI/XCIpWzFdIHx8IFwiXCI7XG4gICAgdmFyIHF1ZXJ5ID0gdXNlZnVsUGFyYW0gfHwgXCJcIjtcbiAgICB2YXIgdmFycyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xuICAgICAgICBcbiAgICAgICAgLy8gSWYgZmlyc3QgZW50cnkgd2l0aCB0aGlzIG5hbWVcbiAgICAgICAgaWYgKHR5cGVvZiBxdWVyeV9zdHJpbmdbcGFpclswXV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcbiAgICAgICAgICAgIC8vIElmIHNlY29uZCBlbnRyeSB3aXRoIHRoaXMgbmFtZVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBxdWVyeV9zdHJpbmdbcGFpclswXV0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHZhciBhcnIgPSBbcXVlcnlfc3RyaW5nW3BhaXJbMF1dLCBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSldO1xuICAgICAgICAgICAgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID0gYXJyO1xuICAgICAgICAgICAgLy8gSWYgdGhpcmQgb3IgbGF0ZXIgZW50cnkgd2l0aCB0aGlzIG5hbWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXS5wdXNoKGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcXVlcnlfc3RyaW5nO1xufVxuXG5cbiQoZnVuY3Rpb24gKCkge1xuXG4gICAgLyoqIEluaXQgc2hhcmVkICovXG4gICAgZ2V0X3Jvd0luZm8oZmFsc2UsIFwiXCIpO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLm1haW4nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBsb2FkTWFpbigpO1xuICAgIH0pO1xuXG5cbiAgICBmdW5jdGlvbiBsb2FkU2Vzc2lvbihuYW1lKSB7XG4gICAgICAgICQoJyNsb2FkJykubG9hZCgnL3Nlc3Npb25zJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcjcm91dGVzJykuZWFjaChyb3V0ZS5sb2FkUm91dGVzKTtcbiAgICAgICAgICAgICQodGhpcykuZmluZCgnI3Nlc3Npb24tdXNlcicpLmVhY2godXNlci5sb2FkVXNlcnMpO1xuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcjaGlzdG9yeS1zZXNzaW9uJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gXCJIaXN0b3J5XCI7XG4gICAgICAgICAgICAgICAgJC5nZXQoXCIvc2Vzc2lvbi9cIiArIG5hbWUsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBodG1sID0gZ2V0SHRtbCh0aXRsZSwgZGF0YS5lbmRTdGF0cywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICQoJyNyb3V0ZXMnKS52YWwoZGF0YS5yb3V0ZSk7XG4gICAgICAgICAgICAgICAgICAgICQoJyNzZXNzaW9uLXVzZXInKS52YWwoZGF0YS51c2VyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh0bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0YWJsZS1jb250ZW50JykuaHRtbChodG1sKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNsYXBzLWJvZHknKS5odG1sKGdldExhcEh0bWwodGl0bGUsIGRhdGEuZW5kU3RhdHMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEdweFRyYWNrVG9NYXAobmFtZSwgJChcIiNsaXZlLW1hcFwiKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYWRkR3JhcGgoZGF0YS5yYXcsIGRhdGEucmF3SHIsIHBhcnNlSW50KGRhdGEuc3RhcnQpLCBkYXRhLnN0cm9rZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBsb2FkR3B4TWFwKCkge1xuICAgICAgICB2YXIgbmFtZSA9ICQodGhpcykuZGF0YSgnbmFtZScpO1xuICAgICAgICB2YXIgZWxlbWVudCA9ICQodGhpcykuZmluZCgnLmNhcmQtbWFwLXRvcCcpO1xuICAgICAgICBhZGRHcHhUcmFja1RvTWFwKG5hbWUsIGVsZW1lbnQpO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gY3JlYXRlUm91dGVOYXZQYWdlKHBhZ2UsIGluZGV4KSB7XG4gICAgICAgIHZhciBodG1sRWxlbWVudCA9ICQoJzx1bCBpZD1cInJvdXRlLXBhZ2VcIiBkYXRhLWluZGV4PVwiJyArIGluZGV4ICsgJ1wiPjwvdWw+JykuYWRkQ2xhc3MoXCJwYWdpbmF0aW9uIHBhZ2luYXRpb24tbGdcIik7XG4gICAgICAgICQuZ2V0KFwicm91dGVzL3NpemVcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocGFyc2VJbnQoZGF0YSkgLyBQQUdFX1NJWkUpICsgMTtcbiAgICAgICAgICAgIHZhciBwcmV2RGlzYWJsZWQgPSAoaW5kZXggPT09IDAgPyAnZGlzYWJsZWQnIDogJycpO1xuICAgICAgICAgICAgdmFyIG5leHREaXNhYmxlZCA9IChpbmRleCA9PT0gc2l6ZSAtIDEgPyAnZGlzYWJsZWQnIDogJycpO1xuICAgICAgICAgICAgdmFyIHByZXYgPSAkKCc8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gJyArIHByZXZEaXNhYmxlZCArICdcIj48L2xpPicpLmFwcGVuZCgnPGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBocmVmPVwiI1wiIGRhdGEtbmV4dD1cIi0xXCIgdGFiaW5kZXg9XCItMVwiPlByZXZpb3VzPC9hPicpO1xuICAgICAgICAgICAgdmFyIG5leHQgPSAkKCc8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gJyArIG5leHREaXNhYmxlZCArICdcIj48L2xpPicpLmFwcGVuZCgnPGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBkYXRhLW5leHQ9XCIxXCIgaHJlZj1cIiNcIj5OZXh0PC9hPicpO1xuXG4gICAgICAgICAgICBodG1sRWxlbWVudC5hcHBlbmQocHJldik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBhY3RpdmUgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlID0gXCJhY3RpdmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSAkKCc8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gJyArIGFjdGl2ZSArICdcIj48YSBjbGFzcz1cInBhZ2UtbGlua1wiIGRhdGEtaW5kZXg9XCInICsgaSArICdcIiBocmVmPVwiI1wiPicgKyAoaSArIDEpICsgJzwvYT48L2xpPicpO1xuICAgICAgICAgICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZChuZXh0KTtcbiAgICAgICAgICAgICQocGFnZSkuaHRtbChodG1sRWxlbWVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBjbGlja1Nlc3Npb24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBuYW1lID0gJCh0aGlzKS5kYXRhKCduYW1lJyk7XG4gICAgICAgIGxvYWRTZXNzaW9uKG5hbWUpO1xuICAgIH07XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcjdXNlcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHVzZXIubG9hZFVzZXIoKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJyNoaXN0b3J5LXBhZ2UgYScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIG5leHQgPSBwYXJzZUludCgkKHRoaXMpLmRhdGEoJ25leHQnKSksIGluZGV4ID0gcGFyc2VJbnQoJCh0aGlzKS5kYXRhKCdpbmRleCcpKSxcbiAgICAgICAgICAgIG1haW5JbmRleCA9IHBhcnNlSW50KCQoJyNoaXN0b3J5LXBhZ2UnKS5kYXRhKCdpbmRleCcpKTtcbiAgICAgICAgaWYgKCFpc05hTihuZXh0KSkge1xuICAgICAgICAgICAgbWFpbkluZGV4ICs9IG5leHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKGluZGV4KSkge1xuICAgICAgICAgICAgbWFpbkluZGV4ID0gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgaGlzdG9yeS5sb2FkSGlzdG9yeUxpc3QoJCgnI2hpc3RvcnktdGFibGUnKSwgbWFpbkluZGV4KTtcbiAgICB9KTtcblxuICAgIC8vVE9ETzogcmVmYWN0b3J5XG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnI3JvdXRlLXBhZ2UgYScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIG5leHQgPSBwYXJzZUludCgkKHRoaXMpLmRhdGEoJ25leHQnKSksIGluZGV4ID0gcGFyc2VJbnQoJCh0aGlzKS5kYXRhKCdpbmRleCcpKSxcbiAgICAgICAgICAgIG1haW5JbmRleCA9IHBhcnNlSW50KCQoJyNyb3V0ZS1wYWdlJykuZGF0YSgnaW5kZXgnKSk7XG4gICAgICAgIGlmICghaXNOYU4obmV4dCkpIHtcbiAgICAgICAgICAgIG1haW5JbmRleCArPSBuZXh0O1xuICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihpbmRleCkpIHtcbiAgICAgICAgICAgIG1haW5JbmRleCA9IGluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYWcgPSAkKCcjcm91dGVzLXRhYmxlJykuZmluZCgnLnBhZ2UnKTtcbiAgICAgICAgY3JlYXRlUm91dGVOYXZQYWdlKHBhZ1swXSwgbWFpbkluZGV4KTtcbiAgICAgICAgbG9hZFJvdXRlVGFibGUobWFpbkluZGV4KTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5uYXYtbGluaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICQoJyNtYWluLW5hdicpLmZpbmQoXCIubmF2LWl0ZW1cIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5zZXNzaW9ucycsIGNsaWNrU2Vzc2lvbik7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICdhI2hpc3RvcnknLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBoaXN0b3J5LmxvYWRIaXN0b3J5SW5kZXgoMCwgMCk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICdhI3JvdXRlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9hZFJvdXRlKDApO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gbG9hZFJvdXRlKG1haW5JbmRleCkge1xuICAgICAgICAkKCcjbG9hZCcpLmxvYWQoJy9yb3V0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQodGhpcykuZmluZCgnI3JvdXRlcy10JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbG9hZFJvdXRlVGFibGUoMCk7XG4gICAgICAgICAgICAgICAgdmFyIHBhZyA9ICQoJyNyb3V0ZXMtdGFibGUnKS5maW5kKCcucGFnZScpO1xuICAgICAgICAgICAgICAgIGNyZWF0ZVJvdXRlTmF2UGFnZShwYWdbMF0sIG1haW5JbmRleCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZFJvdXRlVGFibGUobWFpbkluZGV4KSB7XG4gICAgICAgIHZhciBzdGFydCA9IG1haW5JbmRleCAqIFBBR0VfU0laRSwgc3RvcCA9ICgoKG1haW5JbmRleCArIDEpICogUEFHRV9TSVpFKSkgLSAxO1xuICAgICAgICAkLmdldCgnL3JvdXRlcy8nICsgc3RhcnQgKyAnLycgKyBzdG9wLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdmFyIGh0bWxUYWJsZSA9ICcnO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICBodG1sVGFibGUgPSBjcmVhdGVSb3V0ZVJlY29yZChodG1sVGFibGUsIGluZGV4ICsgKG1haW5JbmRleCAqIFBBR0VfU0laRSksIHJvdXRlKTtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoJyNyb3V0ZXMtdGFibGUtYm9keScpLmh0bWwoaHRtbFRhYmxlKTtcbiAgICAgICAgICAgICQoJyNhZGQtcm91dGUtbW9kYWwnKS5vbignaGlkZGVuLmJzLm1vZGFsJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBsb2FkUm91dGUoMCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImxvYWQtbWFwXCIsICcuZ3B4LXRyYWNrJywgbG9hZEdweE1hcCk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICdidXR0b24jc3RhcnRSb3cnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciByb3V0ZXMgPSAkKCcjcm91dGVzJykudmFsKCk7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgJC5nZXQoXCIvcm93L3N0YXJ0XCIsIHsgcm91dGVzOiByb3V0ZXMgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RhcnQodGhhdCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gc3RhcnQoc3RhcnRCdXR0b24pIHtcbiAgICAgICAgJCh3aW5kb3cpLnNjcm9sbFRvcCgkKCcjbWFpbicpLm9mZnNldCgpLnRvcCk7IC8vU2Nyb2xsXG4gICAgICAgIGdldF9yb3dJbmZvKHRydWUsIFwiUm93aW5nXCIpO1xuICAgICAgICBtYXBVdGlscy5jbGVhbk1hcCgpO1xuICAgICAgICAkKCcjcm91dGVzJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgJCgnI3Nlc3Npb24tdXNlcicpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICQoXCIjc3RhcnRTaW11bGF0b3JcIikuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgJChzdGFydEJ1dHRvbikuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgJChzdGFydEJ1dHRvbikuaHRtbCgnUm93aW5nLi4uJyk7XG4gICAgICAgICQoc3RhcnRCdXR0b24pLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgJCgnI3N0b3BSb3cnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgfVxuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnYnV0dG9uI3N0b3BSb3cnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciB0aGF0ID0gJCh0aGlzKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVPdXQpO1xuICAgICAgICBydW4gPSBmYWxzZTtcbiAgICAgICAgdmFyIHJvdXRlcyA9ICQoJyNyb3V0ZXMnKS52YWwoKTtcbiAgICAgICAgdmFyIHVzZXIgPSAkKCcjc2Vzc2lvbi11c2VyJykudmFsKCk7XG4gICAgICAgICQuZ2V0KFwiL3Jvdy9zdG9wXCIsIHsgcm91dGVzOiByb3V0ZXMsIHVzZXI6IHVzZXIgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICQoJyN0YWJsZS1jb250ZW50JykuaHRtbChnZXRIdG1sKFwiU3RvcHBlZFwiLCBkYXRhLCBmYWxzZSkpO1xuICAgICAgICAgICAgdmFyIHN0YXJ0Um93ID0gJChcIiNzdGFydFJvd1wiKTtcbiAgICAgICAgICAgIHN0YXJ0Um93LnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICBzdGFydFJvdy5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICAgICBzdGFydFJvdy5odG1sKCdTdGFydCByb3cnKTtcbiAgICAgICAgICAgIHRoYXQuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgJCgnI3JvdXRlcycpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAkKCcjc2Vzc2lvbi11c2VyJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICQoXCIjc3RhcnRTaW11bGF0b3JcIikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcuZWRpdC11c2VyJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6ICcvdXNlcnMvJyArIGlkLFxuICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGZvcm0gPSAkKFwiI2FkZFVzZXJGb3JtXCIpO1xuICAgICAgICAgICAgICAgIGZvcm0uZmluZCgnI2ZpcnN0TmFtZScpLnZhbChyZXN1bHQuZmlyc3ROYW1lKTtcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJyNsYXN0TmFtZScpLnZhbChyZXN1bHQubGFzdE5hbWUpO1xuICAgICAgICAgICAgICAgIGZvcm0uZmluZCgnI3VzZXJJZCcpLnZhbChyZXN1bHQuaWQpO1xuICAgICAgICAgICAgICAgICQuZ2V0KCcvc3RyYXZhL3VybCcsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBkYXRhLnVybC5yZXBsYWNlKFwiJTI0XCIsIHJlc3VsdC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zdHJhdmEtdXJsJykuYXR0cignaHJlZicsIHVybCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGNvbm5lY3QgPSAkKFwiLnN0cmF2YS1jb25uZWN0XCIpO1xuICAgICAgICAgICAgICAgIGNvbm5lY3QucmVtb3ZlQ2xhc3MoXCJzci1vbmx5XCIpO1xuICAgICAgICAgICAgICAgICQoJyNhZGRVc2VyTW9kYWwnKS5tb2RhbCgnc2hvdycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcuZWRpdC1yb3V0ZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5kYXRhKCdpZCcpO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiAnL3JvdXRlcy8nICsgaWQsXG4gICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZm9ybSA9ICQoXCIjYWRkUm91dGVcIik7XG4gICAgICAgICAgICAgICAgZm9ybS5maW5kKCcjbmFtZScpLnZhbChyZXN1bHQubmFtZSk7XG4gICAgICAgICAgICAgICAgZm9ybS5maW5kKCcjbWV0ZXJzJykudmFsKHJlc3VsdC5tZXRlcnMpO1xuICAgICAgICAgICAgICAgIGZvcm0uZmluZCgnI3NlZ21lbnRJZCcpLnZhbChyZXN1bHQuc2VnbWVudElkKTtcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJyNjb3VudHJpZXMnKS52YWwocmVzdWx0LmNvdW50cnkpO1xuICAgICAgICAgICAgICAgIC8vZ3BzLnJlcGxhY2UoLyguKiksKC4qKSwoLiopL2dtLCAneyBcImxhdFwiOiAkMSwgXCJsb25cIjogJDIsIFwiZWxcIjogJDMgfSwnKTtcbiAgICAgICAgICAgICAgICB2YXIgZ3BzQ3ZzID0gSlNPTi5zdHJpbmdpZnkocmVzdWx0Lmdwcyk7XG4gICAgICAgICAgICAgICAgZm9ybS5maW5kKCcjZ3BzJykuYXBwZW5kKGdwc0N2cyk7XG4gICAgICAgICAgICAgICAgJCgnI2FkZC1yb3V0ZS1tb2RhbCcpLm1vZGFsKCdzaG93Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLnN0cmF2YScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgJC5nZXQoaHJlZiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgYWxlcnQoXCJVcGxvYWRlZCB0byBzdHJhdmEhXCIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5kZWwtc2Vzc2lvbicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIG5hbWUgPSAkKHRoaXMpLmRhdGEoJ25hbWUnKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHNlc3Npb24/XCIpO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogJy9zZXNzaW9uL2RlbC8nICsgbmFtZSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiU2Vzc2lvbiBkZWxldGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LmxvYWRIaXN0b3J5SW5kZXgoMCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIjc2F2ZS1yb3V0ZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGZvcm0gPSAkKFwiI2FkZFJvdXRlXCIpO1xuICAgICAgICB2YXIgcm91dGUgPSB7fTtcbiAgICAgICAgcm91dGUubmFtZSA9IGZvcm0uZmluZCgnI25hbWUnKS52YWwoKTtcbiAgICAgICAgcm91dGUubWV0ZXJzID0gZm9ybS5maW5kKCcjbWV0ZXJzJykudmFsKCk7XG4gICAgICAgIHJvdXRlLnN0cmF2YUlkID0gZm9ybS5maW5kKCcjc2VnbWVudElkJykudmFsKCk7XG4gICAgICAgIHJvdXRlLmNvdW50cnkgPSBmb3JtLmZpbmQoJyNjb3VudHJpZXMnKS52YWwoKTtcbiAgICAgICAgcm91dGUuZ3BzID0gZm9ybS5maW5kKCd0ZXh0YXJlYScpLnZhbCgpO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogJ1BVVCcsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIHVybDogXCIvcm91dGVzL2FkZFwiLFxuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkocm91dGUpLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQoJyNhZGQtcm91dGUtbW9kYWwnKS5tb2RhbCgnaGlkZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIjc2F2ZS11c2VyXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgZm9ybSA9ICQoXCIjYWRkVXNlckZvcm1cIik7XG4gICAgICAgIHZhciBmaXJzdE5hbWUgPSBmb3JtLmZpbmQoJyNmaXJzdE5hbWUnKS52YWwoKTtcbiAgICAgICAgdmFyIGxhc3ROYW1lID0gZm9ybS5maW5kKCcjbGFzdE5hbWUnKS52YWwoKTtcbiAgICAgICAgdmFyIGlkID0gZm9ybS5maW5kKCcjdXNlcklkJykudmFsKCk7XG4gICAgICAgIHZhciB1c2VyID0ge307XG4gICAgICAgIHVzZXIuZmlyc3ROYW1lID0gZmlyc3ROYW1lO1xuICAgICAgICB1c2VyLmxhc3ROYW1lID0gbGFzdE5hbWU7XG4gICAgICAgIHVzZXIuaWQgPSBpZDtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6ICdQVVQnLFxuICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICB1cmw6IFwiL3VzZXJzL2FkZFwiLFxuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkodXNlciksXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJCgnI2FkZFVzZXJNb2RhbCcpLm1vZGFsKCdoaWRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcuZGVsLXVzZXInLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBpZCA9ICQodGhpcykuZGF0YSgnaWQnKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlP1wiKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvdXNlcnMvJyArIGlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdERUxFVEUnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlci5sb2FkVXNlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcuZGVsLXJvdXRlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XG4gICAgICAgIHZhciByZXN1bHQgPSBjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSByb3V0ZT9cIik7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3JvdXRlcy8nICsgaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBsb2FkUm91dGUoMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgJCgnI2xvYWQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcbiAgICAgICAgc3dpdGNoIChoYXNoKSB7XG4gICAgICAgICAgICBjYXNlICcjcm91dGUnOlxuICAgICAgICAgICAgICAgIGxvYWRSb3V0ZSgwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJyN1c2VyJzpcbiAgICAgICAgICAgICAgICB1c2VyLmxvYWRVc2VyKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICcjaGlzdG9yeSc6XG4gICAgICAgICAgICAgICAgaGlzdG9yeS5sb2FkSGlzdG9yeSgwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJyNzZXNzaW9uJzpcbiAgICAgICAgICAgICAgICBsb2FkU2Vzc2lvbihRdWVyeVN0cmluZ1tcIm5hbWVcIl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBmcm9udC5sb2FkTWFpbigpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcjcm91dGVzJykuZWFjaChyb3V0ZS5sb2FkUm91dGVzKTtcblxuICAgICQoJyNzZXNzaW9uLXVzZXInKS5lYWNoKHVzZXIubG9hZFVzZXJzKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKCdzaG93LmJzLm1vZGFsJywgJyNzaG93LXJvdXRlLW1vZGFsJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIG5hbWUgPSAkKGUucmVsYXRlZFRhcmdldCkuZGF0YSgncm91dGUtbmFtZScpO1xuICAgICAgICB2YXIgdGhhdCA9ICQodGhpcyk7XG4gICAgICAgICQuZ2V0KFwiL3JvdXRlcy9cIiArIG5hbWUsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB2YXIgdGl0bGUgPSBkYXRhLm5hbWU7XG4gICAgICAgICAgICBpZiAoZGF0YS5zZWdlbWVudElkKSB7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSAnPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8vd3d3LnN0cmF2YS5jb20vc2VnbWVudHMvJyArIGRhdGEuc2VnZW1lbnRJZCArICdcIj4nICsgdGl0bGUgKyAnIDwvYT4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhhdC5maW5kKCcjc2hvdy1yb3V0ZS1tb2RhbC10aXRsZScpLmh0bWwodGl0bGUpO1xuICAgICAgICAgICAgdmFyIGh0bWwgPSAnPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCI+PGg1IGNsYXNzPVwiY2FyZC10aXRsZVwiPkRpc3BsYXkgTGVuZ2h0OjwvaDU+JyArIGRhdGEubWV0ZXJzICsgJyBtPC9saT4nO1xuICAgICAgICAgICAgaHRtbCArPSAnPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCI+PGg1IGNsYXNzPVwiY2FyZC10aXRsZVwiPkdwcyBMZW5naHQ6PC9oNT4nICsgZGF0YS5ncHNMZW5naHQgKyAnIG08L2xpPic7XG4gICAgICAgICAgICBodG1sICs9ICc8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIj48aDUgY2xhc3M9XCJjYXJkLXRpdGxlXCI+Q291bnRyeTo8L2g1PicgKyBkYXRhLmNvdW50cnkgKyAnPC9saT4nO1xuICAgICAgICAgICAgdGhhdC5maW5kKCcuY2FyZCAubGlzdC1ncm91cCcpLmh0bWwoaHRtbCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oJ3Nob3duLmJzLm1vZGFsJywgJyNzaG93LXJvdXRlLW1vZGFsJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIG5hbWUgPSAkKGUucmVsYXRlZFRhcmdldCkuZGF0YSgncm91dGUtbmFtZScpO1xuICAgICAgICBhZGRSb3V0ZVRyYWNrVG9NYXAobmFtZSwgJChcIiNsaXZlLXJvdXRlLW1hcFwiKSk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNoYW5nZVwiLCAnI3JvdXRlcycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9ICQoJyNyb3V0ZXMnKS5maW5kKFwiOnNlbGVjdGVkXCIpO1xuICAgICAgICBtYXBVdGlscy5jbGVhbk1hcCgpO1xuICAgICAgICB2YXIgcCA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoJChzZWxlY3RlZCkuZGF0YShcImxhdFwiKSwgJChzZWxlY3RlZCkuZGF0YShcImxvblwiKSk7XG4gICAgICAgIG1hcC5saXZlTWFwLnBhblRvKHApO1xuICAgIH0pO1xufSk7XG5cbmZ1bmN0aW9uIGdldF9yb3dJbmZvKGNvbnRpbnVlcywgdGl0bGUpIHtcbiAgICBydW4gPSBjb250aW51ZXM7XG4gICAgJC5nZXQoXCIvcm93XCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBodG1sID0gZ2V0SHRtbCh0aXRsZSwgZGF0YSk7XG4gICAgICAgIGlmIChodG1sKSB7XG4gICAgICAgICAgICAkKCcjdGFibGUtY29udGVudCcpLmh0bWwoaHRtbCk7XG4gICAgICAgICAgICAkKCcjbGFwcy1ib2R5JykuaHRtbChnZXRMYXBIdG1sKHRpdGxlLCBkYXRhLCB0cnVlKSk7XG4gICAgICAgICAgICB2YXIgbGF0ID0gZGF0YS5ncHMubGF0O1xuICAgICAgICAgICAgdmFyIGxvbiA9IGRhdGEuZ3BzLmxvbjtcbiAgICAgICAgICAgIHZhciBwID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhsYXQsIGxvbik7XG4gICAgICAgICAgICBtYXAubGl2ZVBvaW50cy5wdXNoKHApO1xuICAgICAgICAgICAgaWYgKG1hcC5saXZlQm91bmRzKSB7XG4gICAgICAgICAgICAgICAgbWFwLmxpdmVCb3VuZHMuZXh0ZW5kKHApO1xuICAgICAgICAgICAgICAgIHZhciBwb2x5ID0gbWFwVXRpbHMuY3JlYXRlUG9seUxpbmUobWFwLmxpdmVQb2ludHMpO1xuICAgICAgICAgICAgICAgIHBvbHkuc2V0TWFwKG1hcC5saXZlTWFwKTtcbiAgICAgICAgICAgICAgICBtYXAubGl2ZU1hcC5maXRCb3VuZHMobWFwLmxpdmVCb3VuZHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9KS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHJ1bikge1xuICAgICAgICAgICAgdGltZU91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBnZXRfcm93SW5mbyh0cnVlLCB0aXRsZSk7IH0sIFVQREFURV9GUkVRKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRIdG1sKGxhYmVsLCBqc29uLCBkYXkpIHtcbiAgICBpZiAocGFyc2VJbnQoanNvbi5tZXRlcnMpID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGh0bWwgPSAnJztcbiAgICBpZiAoZGF5KSB7XG4gICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5EYXk8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIGpzb24uc3RhcnQuc3Vic3RyKDIsIGpzb24uc3RhcnQubGFzdEluZGV4T2YoJ1QnKSAtIDIpICsgJzwvZGl2PjwvZGl2Pic7XG4gICAgfVxuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5TdGFydDo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIGpzb24uc3RhcnQuc3Vic3RyKGpzb24uc3RhcnQubGFzdEluZGV4T2YoJ1QnKSArIDEsIDgpICsgJzwvZGl2PjwvZGl2Pic7XG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPlRpbWU6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyB1dGlscy5mbXRNU1MocGFyc2VJbnQoanNvbi5zZWNvbmRzKSkgKyAnPC9kaXY+PC9kaXY+JztcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+TGVuZ3RoOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2xcIj4nICsgcGFyc2VJbnQoanNvbi5tZXRlcnMpICsgJyBtICgnICsgcGFyc2VJbnQoanNvbi5yb3V0ZUxhcCkgKyAnKTwvZGl2PjwvZGl2Pic7XG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPlBhY2U6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoanNvbi5wYWNlKSAqIDMuNiAqIDEwKSAvIDEwICsgJyBrbS90PC9kaXY+PC9kaXY+JztcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+NTAwbTo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIHV0aWxzLmZtdE1TUyhwYXJzZUludChqc29uLmxhcFBhY2UpKSArICc8L2Rpdj48L2Rpdj4nO1xuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj4yazo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIHV0aWxzLmZtdE1TUyhwYXJzZUludChqc29uLnRvd0tQYWNlKSkgKyAnPC9kaXY+PC9kaXY+JztcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+QXZnLlc6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoanNvbi53YXR0KSAqIDEwKSAvIDEwICsgJ3c8L2Rpdj48L2Rpdj4nO1xuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5TUjo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIE1hdGgucm91bmQocGFyc2VGbG9hdChqc29uLnN0cm9rZSkgKiAxMCkgLyAxMCArICc8L2Rpdj48L2Rpdj4nO1xuICAgIGlmIChwYXJzZUludChqc29uLmhyKSA+IDApIHtcbiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPkhSOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2wgJyArIHV0aWxzLmdldEhlYXJ0UmF0ZUNvbG9yKHBhcnNlSW50KGpzb24uaHIpKSArICdcIj4nICsgcGFyc2VJbnQoanNvbi5ocikgKyAocGFyc2VJbnQoanNvbi5hdmdIcikgPiAwID8gJygnICsgcGFyc2VJbnQoanNvbi5hdmdIcikgKyAnKScgOiAnJykgKyAnPC9kaXY+PC9kaXY+JztcbiAgICB9XG4gICAgaWYgKGpzb24uZmlsZU5hbWUpIHtcbiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2xcIj5BY3Rpb25zOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2xcIj48YSBocmVmPVwiL3Nlc3Npb25zLycgKyBqc29uLmZpbGVOYW1lO1xuICAgICAgICBodG1sICs9ICdcIj48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZmlsZV9kb3dubG9hZDwvaT48YSBjbGFzcz1cInN0cmF2YVwiIGhyZWY9XCIvc3RyYXZhL3VwbG9hZC8nICsganNvbi5uYW1lO1xuICAgICAgICBodG1sICs9ICdcIj48aSBhcmlhLWhpZGRlbj1cInRydWVcIiB0aXRsZT1cIlVwbG9hZCB0byBzdHJhdmFcIiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2xvdWRfdXBsb2FkPC9pPjwvYT4nO1xuICAgICAgICBodG1sICs9ICc8YSBjbGFzcz1cInNlc3Npb25zXCIgZGF0YS1uYW1lPVwiJyArIGpzb24ubmFtZSArICdcIiBocmVmPVwiL3Nlc3Npb25zXCI+PGkgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdGl0bGU9XCJTZXNzaW9uXCIgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmZpYmVyX25ldzwvaT48L2E+PC9kaXY+PC9kaXY+JztcbiAgICB9XG4gICAgcmV0dXJuIGh0bWwgKyBcIlwiO1xufVxuXG5mdW5jdGlvbiBnZXRMYXBIdG1sKGxhYmVsLCBqc29uLCByZXZlcnNlKSB7XG4gICAgdmFyIGh0bWwgPSAnJztcbiAgICBpZiAocGFyc2VJbnQoanNvbi50b3RhbExhcHMpID4gMCkge1xuICAgICAgICB2YXIgbGFwTnVtID0gMTtcbiAgICAgICAgdmFyIGxhcHMgPSBqc29uLmxhcHM7XG4gICAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgICAgICBsYXBzLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGxhcE51bSA9IGxhcHMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGxhcHMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx0cj48dGggc2NvcGU9XCJyb3dcIj4nICsgbGFwTnVtICsgJzwvdGg+PHRkPicgKyBwYXJzZUludCh2YWx1ZS5tZXRlcnMpICsgJzwvdGQ+PHRkPicgKyB1dGlscy5mbXRNU1MocGFyc2VJbnQodmFsdWUuc2Vjb25kcykpICsgJzwvdGQ+JztcbiAgICAgICAgICAgIGh0bWwgKz0gJzx0ZD4nICsgTWF0aC5yb3VuZChwYXJzZUZsb2F0KHZhbHVlLndhdHQpICogMTApIC8gMTAgKyAndzwvdGQ+PC90cj4nO1xuICAgICAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgICAgICBsYXBOdW0tLTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFwTnVtKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGh0bWw7XG59XG5cblxuXG52YXIgY3JlYXRlUm91dGVSZWNvcmQgPSBmdW5jdGlvbiAoaHRtbFRhYmxlLCBpbmRleCwgcm91dGUpIHtcbiAgICBodG1sVGFibGUgKz0gJzx0cj4nO1xuICAgIGh0bWxUYWJsZSArPSAnPHRoIHNjb3BlPVwicm93XCI+JyArIChpbmRleCArIDEpICsgJzwvdGg+JztcbiAgICBodG1sVGFibGUgKz0gJzx0ZD48YSBkYXRhLXRvZ2dsZT1cIm1vZGFsXCIgZGF0YS1yb3V0ZS1uYW1lPVwiJyArIHJvdXRlLm5hbWUgKyAnXCIgZGF0YS10YXJnZXQ9XCIjc2hvdy1yb3V0ZS1tb2RhbFwiIGhyZWY9XCIvcm91dGVzLycgKyByb3V0ZS5uYW1lICsgJ1wiPicgKyByb3V0ZS5uYW1lICsgJzwvYT48L3RkPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+JyArIHBhcnNlSW50KHJvdXRlLm1ldGVycykgKyAnbTwvdGQ+JztcbiAgICBodG1sVGFibGUgKz0gJzx0ZD4nICsgcm91dGUuY291bnRyeSArICc8L3RkPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+J1xuICAgIGlmIChyb3V0ZS5wZXJtYW5lbnQgIT09IHRydWUpIHtcbiAgICAgICAgaHRtbFRhYmxlICs9ICc8YSBjbGFzcz1cImVkaXQtcm91dGVcIiBocmVmPVwiI1wiIGRhdGEtaWQ9XCInICsgcm91dGUubmFtZSArICdcIj48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y3JlYXRlPC9pPjwvYT48YSBjbGFzcz1cImRlbC1yb3V0ZVwiIGhyZWY9XCIjXCIgZGF0YS1pZD1cIicgKyByb3V0ZS5uYW1lICsgJ1wiPjxpIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHRpdGxlPVwiRGVsZXRlIHJvdXRlXCIgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmRlbGV0ZTwvaT48L2E+JyArICc8L3RkPic7XG4gICAgfVxuICAgIGh0bWxUYWJsZSArPSAnPC90cj4nO1xuICAgIHJldHVybiBodG1sVGFibGU7XG59O1xuXG52YXIgYWRkR3B4VHJhY2tUb01hcCA9IGZ1bmN0aW9uIChuYW1lLCBlbGVtZW50KSB7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgICAgICAgICB1cmw6ICcvc2Vzc2lvbnMvJyArIG5hbWUgKyAnLmdweCcsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoeG1sKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGVsZW1lbnRbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgem9vbTogMTZcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIG1hcC5zZXQoJ3N0eWxlcycsIG1hcFV0aWxzLnN0eWxlcyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpO1xuXG4gICAgICAgICAgICAgICAgJCh4bWwpLmZpbmQoXCJ0cmtwdFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhdCA9ICQodGhpcykuYXR0cihcImxhdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvbiA9ICQodGhpcykuYXR0cihcImxvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdCwgbG9uKTtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2gocCk7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5leHRlbmQocCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcG9seSA9IG1hcFV0aWxzLmNyZWF0ZVBvbHlMaW5lKHBvaW50cyk7XG5cbiAgICAgICAgICAgICAgICBwb2x5LnNldE1hcChtYXApO1xuXG4gICAgICAgICAgICAgICAgLy8gZml0IGJvdW5kcyB0byB0cmFja1xuICAgICAgICAgICAgICAgIG1hcC5maXRCb3VuZHMoYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxudmFyIGFkZFJvdXRlVHJhY2tUb01hcCA9IGZ1bmN0aW9uIChuYW1lLCBlbGVtZW50KSB7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgICAgICAgICB1cmw6ICcvcm91dGVzLycgKyBuYW1lLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZWxlbWVudFswXSwge1xuICAgICAgICAgICAgICAgICAgICB6b29tOiA4LFxuICAgICAgICAgICAgICAgICAgICBtYXhab29tOiAxNlxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbWFwLnNldCgnc3R5bGVzJywgbWFwVXRpbHMuc3R5bGVzKTtcblxuICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKCk7XG5cbiAgICAgICAgICAgICAgICBkYXRhLmdwcy5mb3JFYWNoKGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGF0ID0gcG9pbnQubGF0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG9uID0gcG9pbnQubG9uO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobGF0LCBsb24pO1xuICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChwKTtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLmV4dGVuZChwKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBwb2x5ID0gbWFwVXRpbHMuY3JlYXRlUG9seUxpbmUocG9pbnRzKTtcblxuICAgICAgICAgICAgICAgIHBvbHkuc2V0TWFwKG1hcCk7XG5cbiAgICAgICAgICAgICAgICAvLyBmaXQgYm91bmRzIHRvIHRyYWNrXG4gICAgICAgICAgICAgICAgbWFwLmZpdEJvdW5kcyhib3VuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBhZGRHcmFwaCh0aW1lLCBociwgc3RhcnQsIHN0cm9rZXMpIHtcbiAgICB2YXIgc3BlZWQgPSBbXTtcbiAgICB2YXIgd2F0dCA9IFtdO1xuICAgIHZhciBzdHJva2UgPSBbXTtcbiAgICB2YXIgc3Ryb2tlQ29udGVyID0gMTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRpbWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRpbWVWYWwgPSBwYXJzZUludCh0aW1lW2ldKTtcbiAgICAgICAgdmFyIHN0cm9rZVRpbWUgPSBwYXJzZUludChzdHJva2VzW3N0cm9rZUNvbnRlcl0pO1xuICAgICAgICB2YXIgc2VjID0gKCh0aW1lVmFsIC0gc3RhcnQpIC8gMTAwMCk7XG4gICAgICAgIHZhciBsZW5naHQgPSAoUkFUSU9OIC8gMTAwKTtcbiAgICAgICAgc3BlZWQucHVzaCgoKGxlbmdodCAvIHNlYykpICogMy42KTtcbiAgICAgICAgdmFyIHdhdHRWYWx1ZSA9IHV0aWxzLmNhbGNXYXR0KHNlYyAvIGxlbmdodCk7XG4gICAgICAgIHdhdHQucHVzaCh3YXR0VmFsdWUpO1xuICAgICAgICBzdHJva2UucHVzaCgxMDAwKjYwIC8gKHN0cm9rZVRpbWUgLSBwYXJzZUludChzdHJva2VzW3N0cm9rZUNvbnRlci0xXSkpKTtcbiAgICAgICAgc3RhcnQgPSBwYXJzZUludCh0aW1lW2ldKTtcbiAgICAgICAgaWYgKHRpbWVWYWwgPiBzdHJva2VUaW1lKSB7XG4gICAgICAgICAgICBzdHJva2VDb250ZXIrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vUmVtb3ZlIGV2ZXIgc2Vjb25kIGVsZW1lbnRcbiAgICB2YXIgc3BlZWRNZXJnZWQgPSBbXTtcbiAgICB2YXIgaHJNZXJnZWQgPSBbXTtcbiAgICB2YXIgd2F0dE1lcmdlZCA9IFtdO1xuICAgIHZhciBzdHJva2VNZXJnZWQgPSBbXTtcbiAgICB2YXIgbGFiZWxzTWVyZ2VkID0gW107XG4gICAgdmFyIG1lcmdlU2l6ZSA9IDEwO1xuICAgIGlmICh0aW1lLmxlbmd0aCA+IDEwMDApIHtcbiAgICAgICAgbWVyZ2VTaXplID0gMjA7XG4gICAgfVxuXG4gICAgd2hpbGUgKHRpbWUubGVuZ3RoKSB7XG4gICAgICAgIHZhciBhID0gdGltZS5zcGxpY2UoMCwgbWVyZ2VTaXplKTtcbiAgICAgICAgdmFyIHRpbWVWID0gcGFyc2VJbnQoYS5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKyBiOyB9KSAvIGEubGVuZ3RoKTtcbiAgICAgICAgbGFiZWxzTWVyZ2VkLnB1c2gobmV3IERhdGUodGltZVYpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKG5ldyBEYXRlKHRpbWVWKS50b0lTT1N0cmluZygpLmxhc3RJbmRleE9mKCdUJykgKyAxLCA4KSk7XG4gICAgICAgIGlmIChocikge1xuICAgICAgICAgICAgdmFyIGggPSBoci5zcGxpY2UoMCwgbWVyZ2VTaXplKTtcbiAgICAgICAgICAgIGlmIChoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBock1lcmdlZC5wdXNoKHBhcnNlSW50KGgucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICsgYjsgfSkgLyBoLmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJva2UpIHtcbiAgICAgICAgICAgIHZhciBoID0gc3Ryb2tlLnNwbGljZSgwLCBtZXJnZVNpemUpO1xuICAgICAgICAgICAgaWYgKGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHN0cm9rZU1lcmdlZC5wdXNoKE1hdGgucm91bmQocGFyc2VGbG9hdChoLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSArIGI7IH0pIC8gaC5sZW5ndGgpICogMTApIC8gMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzcGVlZCkge1xuICAgICAgICAgICAgdmFyIHMgPSBzcGVlZC5zcGxpY2UoMCwgbWVyZ2VTaXplKTtcbiAgICAgICAgICAgIHZhciB3ID0gd2F0dC5zcGxpY2UoMCwgbWVyZ2VTaXplKTtcbiAgICAgICAgICAgIGlmIChzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzcGVlZE1lcmdlZC5wdXNoKE1hdGgucm91bmQocGFyc2VGbG9hdChzLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSArIGI7IH0pIC8gcy5sZW5ndGgpICogMTApIC8gMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHdhdHRNZXJnZWQucHVzaChNYXRoLnJvdW5kKHBhcnNlRmxvYXQody5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKyBiOyB9KSAvIHcubGVuZ3RoKSAqIDEwKSAvIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjdHggPSAkKCcjaHItZ3JhcGgnKTtcbiAgICB2YXIgbGluZUNoYXJ0RGF0YSA9IHtcbiAgICAgICAgbGFiZWxzOiBsYWJlbHNNZXJnZWQsXG4gICAgICAgIGRhdGFzZXRzOiBbe1xuICAgICAgICAgICAgbGFiZWw6ICdIZWFydCByYXRlIChicG0pJyxcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnI2RjMzU0NScsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZGMzNTQ1JyxcbiAgICAgICAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgICAgICAgZGF0YTogaHJNZXJnZWQsXG4gICAgICAgICAgIC8vIGN1YmljSW50ZXJwb2xhdGlvbk1vZGU6ICdtb25vdG9uZScsXG4gICAgICAgICAgICB5QXhpc0lEOiAneS1heGlzLTEnLFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBsYWJlbDogJ1NwZWVkIChrbS90KScsXG4gICAgICAgICAgICBib3JkZXJDb2xvcjogJyMwMDdiZmYnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwN2JmZicsXG4gICAgICAgICAgICBmaWxsOiBmYWxzZSxcbiAgICAgICAgICAgIGRhdGE6IHNwZWVkTWVyZ2VkLFxuICAgICAgICAgICAgLy9jdWJpY0ludGVycG9sYXRpb25Nb2RlOiAnbW9ub3RvbmUnLFxuICAgICAgICAgICAgeUF4aXNJRDogJ3ktYXhpcy0yJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBsYWJlbDogJ1dhdHQnLFxuICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjNGJjMGMwJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM0YmMwYzAnLFxuICAgICAgICAgICAgZmlsbDogZmFsc2UsXG4gICAgICAgICAgICBkYXRhOiB3YXR0TWVyZ2VkLFxuICAgICAgICAgICAgbGluZVRlbnNpb246IDAsXG4gICAgICAgICAgICAvL2N1YmljSW50ZXJwb2xhdGlvbk1vZGU6ICdtb25vdG9uZScsXG4gICAgICAgICAgICB5QXhpc0lEOiAneS1heGlzLTMnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxhYmVsOiAnU3Ryb2tlIHJhdGUgKHNwbSknLFxuICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjOTk2NkZGJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM5OTY2RkYnLFxuICAgICAgICAgICAgZmlsbDogZmFsc2UsXG4gICAgICAgICAgICBkYXRhOiBzdHJva2VNZXJnZWQsXG4gICAgICAgICAgICB5QXhpc0lEOiAneS1heGlzLTQnXG4gICAgICAgIH1dXG4gICAgfTtcbiAgICB2YXIgbXlMaW5lQ2hhcnQgPSBDaGFydC5MaW5lKGN0eCwge1xuICAgICAgICBkYXRhOiBsaW5lQ2hhcnREYXRhLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxuICAgICAgICAgICAgaG92ZXJNb2RlOiAnaW5kZXgnLFxuICAgICAgICAgICAgc3RhY2tlZDogZmFsc2UsXG4gICAgICAgICAgICBzY2FsZXM6IHtcbiAgICAgICAgICAgICAgICB5QXhlczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcicsIC8vIG9ubHkgbGluZWFyIGJ1dCBhbGxvdyBzY2FsZSB0eXBlIHJlZ2lzdHJhdGlvbi4gVGhpcyBhbGxvd3MgZXh0ZW5zaW9ucyB0byBleGlzdCBzb2xlbHkgZm9yIGxvZyBzY2FsZSBmb3IgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdsZWZ0JyxcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICd5LWF4aXMtMScsXG4gICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0ZWRNaW46IDMwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcFNpemU6IDVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcicsIC8vIG9ubHkgbGluZWFyIGJ1dCBhbGxvdyBzY2FsZSB0eXBlIHJlZ2lzdHJhdGlvbi4gVGhpcyBhbGxvd3MgZXh0ZW5zaW9ucyB0byBleGlzdCBzb2xlbHkgZm9yIGxvZyBzY2FsZSBmb3IgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyaWdodCcsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAneS1heGlzLTInLFxuICAgICAgICAgICAgICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcFNpemU6IDJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZ3JpZCBsaW5lIHNldHRpbmdzXG4gICAgICAgICAgICAgICAgICAgIGdyaWRMaW5lczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd09uQ2hhcnRBcmVhOiBmYWxzZSAvLyBvbmx5IHdhbnQgdGhlIGdyaWQgbGluZXMgZm9yIG9uZSBheGlzIHRvIHNob3cgdXBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZWFyJywgLy8gb25seSBsaW5lYXIgYnV0IGFsbG93IHNjYWxlIHR5cGUgcmVnaXN0cmF0aW9uLiBUaGlzIGFsbG93cyBleHRlbnNpb25zIHRvIGV4aXN0IHNvbGVseSBmb3IgbG9nIHNjYWxlIGZvciBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICd5LWF4aXMtMycsXG4gICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwU2l6ZTogMjVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZ3JpZCBsaW5lIHNldHRpbmdzXG4gICAgICAgICAgICAgICAgICAgIGdyaWRMaW5lczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd09uQ2hhcnRBcmVhOiBmYWxzZSAvLyBvbmx5IHdhbnQgdGhlIGdyaWQgbGluZXMgZm9yIG9uZSBheGlzIHRvIHNob3cgdXBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZWFyJywgLy8gb25seSBsaW5lYXIgYnV0IGFsbG93IHNjYWxlIHR5cGUgcmVnaXN0cmF0aW9uLiBUaGlzIGFsbG93cyBleHRlbnNpb25zIHRvIGV4aXN0IHNvbGVseSBmb3IgbG9nIHNjYWxlIGZvciBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICd5LWF4aXMtNCcsXG4gICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwU2l6ZTogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RlZE1pbjogMTAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIGdyaWQgbGluZSBzZXR0aW5nc1xuICAgICAgICAgICAgICAgICAgICBncmlkTGluZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdPbkNoYXJ0QXJlYTogZmFsc2UgLy8gb25seSB3YW50IHRoZSBncmlkIGxpbmVzIGZvciBvbmUgYXhpcyB0byBzaG93IHVwXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9