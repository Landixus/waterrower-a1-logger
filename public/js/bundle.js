!function(e){var t={};function a(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";a.r(t);const s=2.8;var n={calcWatt:function(e){return s/Math.pow(e,3)},sessionNameToReadable:function(e){return moment(e.slice(0,13)+":"+e.slice(13,15)+":"+e.slice(15)).format("YYYY-MM-DD hh:mm:ss")},getHeartRateColor:function(e){return e<125?"text-success":e<150?"text-primary":e<175?"text-warning":"text-danger"},getUrlParameter:function(e){var t,a,s=decodeURIComponent(window.location.search.substring(1)).split("&");for(a=0;a<s.length;a++)if((t=s[a].split("="))[0]===e)return void 0===t[1]||t[1]}};var i={RATION:100/4.805*6,PAGE_SIZE:10},o={livePoints:[],liveMap:{},liveBounds:{}};const r=[{featureType:"landscape",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]}];function l(){o.liveMap=new google.maps.Map(document.getElementById("live-map"),{zoom:8,maxZoom:16}),o.liveBounds=new google.maps.LatLngBounds,o.liveMap.set("styles",r)}function d(e){return new google.maps.Polyline({path:e,strokeColor:"#FF00AA",strokeOpacity:.7,strokeWeight:4})}var c={cleanMap:function(){l(),o.livePoints=[],d(o.livePoints).setMap(o.liveMap),o.liveMap.fitBounds(o.liveBounds)},initMap:l,styles:r,createPolyLine:d},u={loadRoutes:function(){var e=this;$.get("/row/routes",function(t){var a="",s="";t.sort(function(e,t){return e.country>t.country?1:t.country>e.country?-1:0});var n='selected="selected"';t.forEach(function(e){e.country!==s&&(a+='<optgroup label="'+e.country+'">',s=e.country),a+="<option "+n+' value="'+e.index+'" data-lat="'+e.gps[0].lat+'" data-lon="'+e.gps[0].lon+'">'+e.name+" ("+e.meters+"m)</option>",n=""}),$(e).html(a),n=$("#routes").find(":selected"),c.cleanMap();var i=new google.maps.LatLng($(n).data("lat"),$(n).data("lon"));o.liveMap.panTo(i)})}},p={loadUsers:function(){var e=this;$.get("/users",function(t){var a="";t.forEach(function(e){a+='<option value="'+e.id+'">'+e.firstName+" "+e.lastName+"</option>"}),$(e).html(a)})}};var f={loadMain:function(){$("#load").load("/main",function(){$(this).find("#routes").each(u.loadRoutes),$(this).find("#session-user").each(p.loadUsers),$.get("/row/status",function(e){if("ROWING"===e.status){var t=$("#startRow");n.getUrlParameter("test")&&(t=$("#startSimulator")),start(t)}}),n.getUrlParameter("test")&&$("#startRow").attr("id","startSimulator")})}};const v=1e3;var m,h=!1;function g(e){for(var t={},a=(e.split("?")[1]||""||"").split("&"),s=0;s<a.length;s++){var n=a[s].split("=");if(void 0===t[n[0]])t[n[0]]=decodeURIComponent(n[1]);else if("string"==typeof t[n[0]]){var i=[t[n[0]],decodeURIComponent(n[1])];t[n[0]]=i}else t[n[0]].push(decodeURIComponent(n[1]))}return t}function y(e,t){h=e,$.get("/row",function(e){var a=w(t,e);if(a){$("#table-content").html(a),$("#laps-body").html(I(t,e,!0));var s=e.gps.lat,n=e.gps.lon,i=new google.maps.LatLng(s,n);if(o.livePoints.push(i),o.liveBounds)o.liveBounds.extend(i),c.createPolyLine(o.livePoints).setMap(o.liveMap),o.liveMap.fitBounds(o.liveBounds)}}).done(function(){h&&(m=setTimeout(function(){y(!0,t)},v))})}function b(e){var t=new Date(null);return t.setSeconds(e),t.toISOString().substr(11,8)}function w(e,t,a){if(0!==parseInt(t.meters)){var s="";return a&&(s+='<div class="row"><div class="col-sm-4">Day</div><div class="col">'+t.start.substr(2,t.start.lastIndexOf("T")-2)+"</div></div>"),s+='<div class="row"><div class="col-sm-4">Start:</div><div class="col">'+t.start.substr(t.start.lastIndexOf("T")+1,8)+"</div></div>",s+='<div class="row"><div class="col-sm-4">Time:</div><div class="col">'+b(parseInt(t.seconds))+"</div></div>",s+='<div class="row"><div class="col-sm-4">Length:</div><div class="col">'+parseInt(t.meters)+" m ("+parseInt(t.routeLap)+")</div></div>",s+='<div class="row"><div class="col-sm-4">Pace:</div><div class="col">'+Math.round(3.6*parseFloat(t.pace)*10)/10+" km/t</div></div>",s+='<div class="row"><div class="col-sm-4">500m:</div><div class="col">'+b(parseInt(t.lapPace))+"</div></div>",s+='<div class="row"><div class="col-sm-4">2k:</div><div class="col">'+b(parseInt(t.towKPace))+"</div></div>",s+='<div class="row"><div class="col-sm-4">Avg.W:</div><div class="col">'+Math.round(10*parseFloat(t.watt))/10+"w</div></div>",s+='<div class="row"><div class="col-sm-4">SR:</div><div class="col">'+Math.round(10*parseFloat(t.stroke))/10+"</div></div>",parseInt(t.hr)>0&&(s+='<div class="row"><div class="col-sm-4">HR:</div><div class="col '+n.getHeartRateColor(parseInt(t.hr))+'">'+parseInt(t.hr)+(parseInt(t.avgHr)>0?"("+parseInt(t.avgHr)+")":"")+"</div></div>"),t.fileName&&(s+='<div class="row"><div class="col">Actions:</div><div class="col"><a href="/sessions/'+t.fileName,s+='"><i class="material-icons">file_download</i><a class="strava" href="/strava/upload/'+t.name,s+='"><i aria-hidden="true" title="Upload to strava" class="material-icons">cloud_upload</i></a>',s+='<a class="sessions" data-name="'+t.name+'" href="/sessions"><i aria-hidden="true" title="Session" class="material-icons">fiber_new</i></a></div></div>'),s+""}}function I(e,t,a){var s="";if(parseInt(t.totalLaps)>0){var n=1,i=t.laps;a&&(i.reverse(),n=i.length),i.forEach(function(e){s+='<tr><th scope="row">'+n+"</th><td>"+parseInt(e.meters)+"</td><td>"+b(parseInt(e.seconds))+"</td>",s+="<td>"+Math.round(10*parseFloat(e.watt))/10+"w</td></tr>",a?n--:n++})}return s}window.QueryString=function(){for(var e={},t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var s=t[a].split("=");if(void 0===e[s[0]])e[s[0]]=decodeURIComponent(s[1]);else if("string"==typeof e[s[0]]){var n=[e[s[0]],decodeURIComponent(s[1])];e[s[0]]=n}else e[s[0]].push(decodeURIComponent(s[1]))}return e}(),$(function(){function e(e){$("#load").load("/sessions",function(){$(this).find("#routes").each(u.loadRoutes),$(this).find("#session-user").each(p.loadUsers),$(this).find("#history-session").each(function(){$.get("/session/"+e,function(t){var a=w("History",t.endStats,!0);$("#routes").val(t.route),$("#session-user").val(t.user),a&&($("#table-content").html(a),$("#laps-body").html(I("History",t.endStats)),M(e,$("#live-map"))),function(e,t,a,s){for(var o=[],r=[],l=[],d=1,c=1;c<e.length;c++){var u=parseInt(e[c]),p=parseInt(s[d]),f=(u-a)/1e3,v=i.RATION/100;o.push(v/f*3.6);var m=n.calcWatt(f/v);r.push(m),l.push(6e4/(p-parseInt(s[d-1]))),a=parseInt(e[c]),u>p&&d++}var h=[],g=[],y=[],b=[],w=[],I=10;e.length>1e3&&(I=20);for(;e.length;){var x=e.splice(0,I),k=parseInt(x.reduce(function(e,t){return e+t})/x.length);if(w.push(new Date(k).toISOString().substr(new Date(k).toISOString().lastIndexOf("T")+1,8)),t){var S=t.splice(0,I);S.length>0&&g.push(parseInt(S.reduce(function(e,t){return e+t})/S.length))}if(l){var S=l.splice(0,I);S.length>0&&b.push(Math.round(10*parseFloat(S.reduce(function(e,t){return e+t})/S.length))/10)}if(o){var M=o.splice(0,I),T=r.splice(0,I);M.length>0&&h.push(Math.round(10*parseFloat(M.reduce(function(e,t){return e+t})/M.length))/10),T.length>0&&y.push(Math.round(10*parseFloat(T.reduce(function(e,t){return e+t})/T.length))/10)}}var E=$("#hr-graph"),L={labels:w,datasets:[{label:"Heart rate (bpm)",borderColor:"#dc3545",backgroundColor:"#dc3545",fill:!1,data:g,yAxisID:"y-axis-1"},{label:"Speed (km/t)",borderColor:"#007bff",backgroundColor:"#007bff",fill:!1,data:h,yAxisID:"y-axis-2"},{label:"Watt",borderColor:"#4bc0c0",backgroundColor:"#4bc0c0",fill:!1,data:y,lineTension:0,yAxisID:"y-axis-3"},{label:"Stroke rate (spm)",borderColor:"#9966FF",backgroundColor:"#9966FF",fill:!1,data:b,yAxisID:"y-axis-4"}]};Chart.Line(E,{data:L,options:{responsive:!0,hoverMode:"index",stacked:!1,scales:{yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1",ticks:{suggestedMin:30,min:0,stepSize:5}},{type:"linear",display:!0,position:"right",id:"y-axis-2",ticks:{stepSize:2},gridLines:{drawOnChartArea:!1}},{type:"linear",display:!0,position:"right",id:"y-axis-3",ticks:{stepSize:25},gridLines:{drawOnChartArea:!1}},{type:"linear",display:!0,position:"right",id:"y-axis-4",ticks:{stepSize:2,suggestedMin:10},gridLines:{drawOnChartArea:!1}}]}}})}(t.raw,t.rawHr,parseInt(t.start),t.stroke)})})})}function t(){$("#load").load("/user",function(){$(this).find("#users-body").each(function(){var e=this;$.get("/users/",function(a){for(var s="",n=0;n<a.length;n++){var i=a[n];s+='<tr><td><a href="#" data-id="'+i.id+'">'+(n+1)+"</a></td><td>"+i.firstName+"</td><td>"+i.lastName+"</td>",s+='<td><a class="edit-user" href="#" data-id="'+i.id+'"><i class="material-icons">create</i></a><a class="del-user" href="#" data-id="'+i.id+'"><i aria-hidden="true" title="Delete user" class="material-icons">delete</i></a></td></tr>'}$(e).html(s),$("#addUserModal").on("hidden.bs.modal",function(e){t()})})})})}function a(e){s(e)}function s(e){$("#load").load("/history",function(){$(this).find("#history").each(function(){$.get("/session/0/2",function(e){var t="";e.forEach(function(e){t=x(t,e)}),$("#cards").html('<div class="col"><div class="card-deck">'+t+"</div></div>"),$(".gpx-track").each(function(){$(this).trigger("load-map",this)})}),r($(this),e)})})}function r(e,t){var a=t*i.PAGE_SIZE,s=(t+1)*i.PAGE_SIZE-1;$.get("/session/"+a+"/"+s,function(a){$.get("/users",function(s){var n="",o=0,r=s.reduce(function(e,t){return e[t.id]=t,e},{});a.forEach(function(e){n=k(n,o+t*i.PAGE_SIZE,e,r),o++}),$("#histor-table-body").html(n),function(e,t){var a=$('<ul id="history-page" data-index="'+t+'"></ul>').addClass("pagination pagination-lg");$.get("session/size",function(s){var n=parseInt(parseInt(s)/i.PAGE_SIZE)+1,o=0===t?"disabled":"",r=t===n-1?"disabled":"",l=$('<li class="page-item '+o+'"></li>').append('<a class="page-link" href="#" data-next="-1" tabindex="-1">Previous</a>'),d=$('<li class="page-item '+r+'"></li>').append('<a class="page-link" data-next="1" href="#">Next</a>');a.append(l);for(var c=0;c<n;c++){var u="";t===c&&(u="active");var p=$('<li class="page-item '+u+'"><a class="page-link" data-index="'+c+'" href="#">'+(c+1)+"</a></li>");a.append(p)}a.append(d),$(e).html(a)})}(e.find(".page"),t)})})}function l(e,t){var a=$('<ul id="route-page" data-index="'+t+'"></ul>').addClass("pagination pagination-lg");$.get("routes/size",function(s){var n=parseInt(parseInt(s)/i.PAGE_SIZE)+1,o=t===n-1?"disabled":"",r=$('<li class="page-item '+(0===t?"disabled":"")+'"></li>').append('<a class="page-link" href="#" data-next="-1" tabindex="-1">Previous</a>'),l=$('<li class="page-item '+o+'"></li>').append('<a class="page-link" data-next="1" href="#">Next</a>');a.append(r);for(var d=0;d<n;d++){var c="";t===d&&(c="active");var u=$('<li class="page-item '+c+'"><a class="page-link" data-index="'+d+'" href="#">'+(d+1)+"</a></li>");a.append(u)}a.append(l),$(e).html(a)})}y(!1,""),$(document).on("click",".main",function(e){loadMain()});function d(e){$("#load").load("/route",function(){$(this).find("#routes-t").each(function(){v(0),l($("#routes-table").find(".page")[0],e)})})}function v(e){var t=e*i.PAGE_SIZE,a=(e+1)*i.PAGE_SIZE-1;$.get("/routes/"+t+"/"+a,function(t){var a="",s=0;t.forEach(function(t){a=S(a,s+e*i.PAGE_SIZE,t),s++}),$("#routes-table-body").html(a),$("#add-route-modal").on("hidden.bs.modal",function(e){d(0)})})}$(document).on("click","#user",function(e){t()}),$(document).on("click","#history-page a",function(e){e.preventDefault();var t=parseInt($(this).data("next")),a=parseInt($(this).data("index")),s=parseInt($("#history-page").data("index"));isNaN(t)?isNaN(a)||(s=a):s+=t,r($("#history-table"),s)}),$(document).on("click","#route-page a",function(e){e.preventDefault();var t=parseInt($(this).data("next")),a=parseInt($(this).data("index")),s=parseInt($("#route-page").data("index"));isNaN(t)?isNaN(a)||(s=a):s+=t,l($("#routes-table").find(".page")[0],s),v(s)}),$(document).on("click",".nav-link",function(e){$("#main-nav").find(".nav-item").each(function(){$(this).removeClass("active")}),$(this).parent().addClass("active")}),$(document).on("click",".sessions",function(t){t.preventDefault(),e($(this).data("name"))}),$(document).on("click","a#history",function(e){a(0)}),$(document).on("click","a#route",function(e){d(0)}),$(document).on("load-map",".gpx-track",function(){var e=$(this).data("name"),t=$(this).find(".card-map-top");M(e,t)}),$(document).on("click","button#startRow",function(e){e.preventDefault();var t=$("#routes").val(),a=this;$.get("/row/start",{routes:t},function(){!function(e){$(window).scrollTop($("#main").offset().top),y(!0,"Rowing"),c.cleanMap(),$("#routes").attr("disabled","disabled"),$("#session-user").attr("disabled","disabled"),$("#startSimulator").attr("disabled","disabled"),$(e).attr("disabled","disabled"),$(e).html("Rowing..."),$(e).addClass("d-none"),$("#stopRow").removeClass("d-none")}(a)})}),$(document).on("click","button#stopRow",function(e){e.preventDefault();var t=$(this);clearTimeout(m),h=!1;var a=$("#routes").val(),s=$("#session-user").val();$.get("/row/stop",{routes:a,user:s},function(e){$("#table-content").html(w("Stopped",e,!1));var a=$("#startRow");a.removeAttr("disabled"),a.removeClass("d-none"),a.html("Start row"),t.addClass("d-none"),$("#routes").removeAttr("disabled"),$("#session-user").removeAttr("disabled"),$("#startSimulator").removeAttr("disabled")})}),$(document).on("click",".edit-user",function(e){e.preventDefault();var t=$(this).data("id");$.ajax({url:"/users/"+t,type:"GET",success:function(e){var t=$("#addUserForm");t.find("#firstName").val(e.firstName),t.find("#lastName").val(e.lastName),t.find("#userId").val(e.id),$.get("/strava/url",function(t){var a=t.url.replace("%24",e.id);$(".strava-url").attr("href",a)}),$(".strava-connect").removeClass("sr-only"),$("#addUserModal").modal("show")}})}),$(document).on("click",".edit-route",function(e){e.preventDefault();var t=$(this).data("id");$.ajax({url:"/routes/"+t,type:"GET",success:function(e){var t=$("#addRoute");t.find("#name").val(e.name),t.find("#meters").val(e.meters),t.find("#segmentId").val(e.segmentId),t.find("#countries").val(e.country);var a=JSON.stringify(e.gps);t.find("#gps").append(a),$("#add-route-modal").modal("show")}})}),$(document).on("click",".strava",function(e){e.preventDefault();var t=$(this).attr("href");$.get(t,function(e){console.log(e),alert("Uploaded to strava!")})}),$(document).on("click",".del-session",function(e){e.preventDefault();var t=$(this).data("name");confirm("Are you sure you want to delete session?")&&$.ajax({url:"/session/del/"+t,type:"DELETE",success:function(e){alert("Session deleted"),a(0)}})}),$(document).on("click","#save-route",function(e){e.preventDefault();var t=$("#addRoute"),a={};a.name=t.find("#name").val(),a.meters=t.find("#meters").val(),a.stravaId=t.find("#segmentId").val(),a.country=t.find("#countries").val(),a.gps=t.find("textarea").val(),$.ajax({type:"PUT",contentType:"application/json",dataType:"json",url:"/routes/add",data:JSON.stringify(a),success:function(){$("#add-route-modal").modal("hide")}})}),$(document).on("click","#save-user",function(e){e.preventDefault();var t=$("#addUserForm"),a=t.find("#firstName").val(),s=t.find("#lastName").val(),n=t.find("#userId").val(),i={};i.firstName=a,i.lastName=s,i.id=n,$.ajax({type:"PUT",contentType:"application/json",dataType:"json",url:"/users/add",data:JSON.stringify(i),success:function(){$("#addUserModal").modal("hide")}})}),$(document).on("click",".del-user",function(e){e.preventDefault();var a=$(this).data("id");confirm("Are you sure you want to delete?")&&$.ajax({url:"/users/"+a,type:"DELETE",success:function(e){t()}})}),$(document).on("click",".del-route",function(e){e.preventDefault();var t=$(this).data("id");confirm("Are you sure you want to delete route?")&&$.ajax({url:"/routes/"+t,type:"DELETE",success:function(e){d(0)}})}),$("#load").each(function(){switch(window.location.hash){case"#route":d(0);break;case"#user":t();break;case"#history":s(0);break;case"#session":e(g.name);break;default:f.loadMain()}}),$("#routes").each(u.loadRoutes),$("#session-user").each(p.loadUsers),$(document).on("show.bs.modal","#show-route-modal",function(e){var t=$(e.relatedTarget).data("route-name"),a=$(this);$.get("/routes/"+t,function(e){var t=e.name;e.segementId&&(t='<a target="_blank" href="https://www.strava.com/segments/'+e.segementId+'">'+t+" </a>"),a.find("#show-route-modal-title").html(t);var s='<li class="list-group-item"><h5 class="card-title">Display Lenght:</h5>'+e.meters+" m</li>";s+='<li class="list-group-item"><h5 class="card-title">Gps Lenght:</h5>'+e.gpsLenght+" m</li>",s+='<li class="list-group-item"><h5 class="card-title">Country:</h5>'+e.country+"</li>",a.find(".card .list-group").html(s)})}),$(document).on("shown.bs.modal","#show-route-modal",function(e){var t=$(e.relatedTarget).data("route-name");T(t,$("#live-route-map"))}),$(document).on("change","#routes",function(e){var t=$("#routes").find(":selected");c.cleanMap();var a=new google.maps.LatLng($(t).data("lat"),$(t).data("lon"));o.liveMap.panTo(a)})});var x=function(e,t){return e+='<div class="card gpx-track" data-name="'+t.name+'"">',e+='<div class="card-body">',e+='<div class="card-map-top "></div>',e+='<h5 class="card-title mt-2"><a class="sessions" data-name="'+t.name+'" href="/session">'+n.sessionNameToReadable(t.name)+"</a></h5>",e+='<p class="card-text">Length: '+parseInt(t.endStats.meters)+"m, Time: "+b(parseInt(t.endStats.seconds))+"</p>",e+='<a href="/strava/upload/'+t.name+'" class="btn btn-primary strava btn-block">Upload to Strava</a>',e+="</div>",e+="</div>"},k=function(e,t,a,s){var i=s[a.user];return e+="<tr>",e+='<th scope="row">'+(t+1)+"</th>",e+='<td><a class="sessions" data-name="'+a.name+'" href="/?name='+a.name+'#session">'+n.sessionNameToReadable(a.name)+"</a></td>",e+="<td>Length: "+parseInt(a.endStats.meters)+"m</td>",e+=i?"<td>"+i.firstName+" "+i.lastName+"</td>":"<td></td>",e+='<td> <a href="/sessions/'+a.name+'.gpx"><i class="material-icons md-36">file_download</i><a class="strava" href="/strava/upload/'+a.name+'"><i aria-hidden="true" title="Upload to Strava" class="material-icons md-36">cloud_upload</i></a> <a class="del-session" href="#" data-name="'+a.name+'"><i aria-hidden="true" title="Delete session local" class="material-icons md-36">delete</i></a></td>',e+="</tr>"},S=function(e,t,a){return e+="<tr>",e+='<th scope="row">'+(t+1)+"</th>",e+='<td><a data-toggle="modal" data-route-name="'+a.name+'" data-target="#show-route-modal" href="/routes/'+a.name+'">'+a.name+"</a></td>",e+="<td>"+parseInt(a.meters)+"m</td>",e+="<td>"+a.country+"</td>",e+="<td>",!0!==a.permanent&&(e+='<a class="edit-route" href="#" data-id="'+a.name+'"><i class="material-icons">create</i></a><a class="del-route" href="#" data-id="'+a.name+'"><i aria-hidden="true" title="Delete route" class="material-icons">delete</i></a></td>'),e+="</tr>"},M=function(e,t){e&&$.ajax({type:"GET",url:"/sessions/"+e+".gpx",success:function(e){var a=[],s=new google.maps.Map(t[0],{zoom:16});s.set("styles",c.styles);var n=new google.maps.LatLngBounds;$(e).find("trkpt").each(function(){var e=$(this).attr("lat"),t=$(this).attr("lon"),s=new google.maps.LatLng(e,t);a.push(s),n.extend(s)}),c.createPolyLine(a).setMap(s),s.fitBounds(n)}})},T=function(e,t){e&&$.ajax({type:"GET",url:"/routes/"+e,success:function(e){var a=[],s=new google.maps.Map(t[0],{zoom:8,maxZoom:16});s.set("styles",c.styles);var n=new google.maps.LatLngBounds;e.gps.forEach(function(e){var t=e.lat,s=e.lon,i=new google.maps.LatLng(t,s);a.push(i),n.extend(i)}),c.createPolyLine(a).setMap(s),s.fitBounds(n)}})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3V0aWxzL2dsb2JhbHMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy9tYXAvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy91dGlscy9tYXBVdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3JvdXRlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvdXNlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL2Zyb250L2luZGV4LmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvbWFpbi5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIldBVFRfUkFUSU9OIiwidXRpbHMiLCJjYWxjV2F0dCIsInBhY2UiLCJNYXRoIiwicG93Iiwic2Vzc2lvbk5hbWVUb1JlYWRhYmxlIiwibW9tZW50Iiwic2xpY2UiLCJmb3JtYXQiLCJnZXRIZWFydFJhdGVDb2xvciIsImhyIiwiZ2V0VXJsUGFyYW1ldGVyIiwic1BhcmFtIiwic1BhcmFtZXRlck5hbWUiLCJzVVJMVmFyaWFibGVzIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJzdWJzdHJpbmciLCJzcGxpdCIsImxlbmd0aCIsInVuZGVmaW5lZCIsImdsb2JhbHMiLCJSQVRJT04iLCJQQUdFX1NJWkUiLCJzcmNfbWFwIiwibGl2ZVBvaW50cyIsImxpdmVNYXAiLCJsaXZlQm91bmRzIiwic3R5bGVzIiwiZmVhdHVyZVR5cGUiLCJzdHlsZXJzIiwic2F0dXJhdGlvbiIsImxpZ2h0bmVzcyIsInZpc2liaWxpdHkiLCJlbGVtZW50VHlwZSIsImh1ZSIsImluaXRNYXAiLCJnb29nbGUiLCJtYXBzIiwiTWFwIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInpvb20iLCJtYXhab29tIiwiTGF0TG5nQm91bmRzIiwic2V0IiwiY3JlYXRlUG9seUxpbmUiLCJwb2ludHMiLCJQb2x5bGluZSIsInBhdGgiLCJzdHJva2VDb2xvciIsInN0cm9rZU9wYWNpdHkiLCJzdHJva2VXZWlnaHQiLCJtYXBVdGlscyIsImNsZWFuTWFwIiwic2V0TWFwIiwiZml0Qm91bmRzIiwic3JjX3JvdXRlIiwibG9hZFJvdXRlcyIsInRoYXQiLCJ0aGlzIiwiJCIsImRhdGEiLCJodG1sIiwiZ3JvdXAiLCJzb3J0IiwiYSIsImIiLCJjb3VudHJ5Iiwic2VsZWN0ZWQiLCJmb3JFYWNoIiwiaW5kZXgiLCJncHMiLCJsYXQiLCJsb24iLCJtZXRlcnMiLCJmaW5kIiwiTGF0TG5nIiwicGFuVG8iLCJzcmNfdXNlciIsImxvYWRVc2VycyIsImlkIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJmcm9udCIsImxvYWRNYWluIiwibG9hZCIsImVhY2giLCJzdGF0dXMiLCJzdGFydEJ1dHRvbiIsInN0YXJ0IiwiYXR0ciIsIlVQREFURV9GUkVRIiwidGltZU91dCIsInJ1biIsIlF1ZXJ5U3RyaW5nIiwiVVJMIiwicXVlcnlfc3RyaW5nIiwidmFycyIsInBhaXIiLCJhcnIiLCJwdXNoIiwiZ2V0X3Jvd0luZm8iLCJjb250aW51ZXMiLCJ0aXRsZSIsImdldEh0bWwiLCJnZXRMYXBIdG1sIiwiZXh0ZW5kIiwiZG9uZSIsInNldFRpbWVvdXQiLCJmbXRNU1MiLCJkYXRlIiwiRGF0ZSIsInNldFNlY29uZHMiLCJ0b0lTT1N0cmluZyIsInN1YnN0ciIsImxhYmVsIiwianNvbiIsImRheSIsInBhcnNlSW50IiwibGFzdEluZGV4T2YiLCJzZWNvbmRzIiwicm91dGVMYXAiLCJyb3VuZCIsInBhcnNlRmxvYXQiLCJsYXBQYWNlIiwidG93S1BhY2UiLCJ3YXR0Iiwic3Ryb2tlIiwiYXZnSHIiLCJmaWxlTmFtZSIsInJldmVyc2UiLCJ0b3RhbExhcHMiLCJsYXBOdW0iLCJsYXBzIiwibG9hZFNlc3Npb24iLCJlbmRTdGF0cyIsInZhbCIsInJvdXRlIiwidXNlciIsImFkZEdweFRyYWNrVG9NYXAiLCJ0aW1lIiwic3Ryb2tlcyIsInNwZWVkIiwic3Ryb2tlQ29udGVyIiwidGltZVZhbCIsInN0cm9rZVRpbWUiLCJzZWMiLCJsZW5naHQiLCJ3YXR0VmFsdWUiLCJzcGVlZE1lcmdlZCIsImhyTWVyZ2VkIiwid2F0dE1lcmdlZCIsInN0cm9rZU1lcmdlZCIsImxhYmVsc01lcmdlZCIsIm1lcmdlU2l6ZSIsInNwbGljZSIsInRpbWVWIiwicmVkdWNlIiwiaCIsInciLCJjdHgiLCJsaW5lQ2hhcnREYXRhIiwibGFiZWxzIiwiZGF0YXNldHMiLCJib3JkZXJDb2xvciIsImJhY2tncm91bmRDb2xvciIsImZpbGwiLCJ5QXhpc0lEIiwibGluZVRlbnNpb24iLCJDaGFydCIsIkxpbmUiLCJvcHRpb25zIiwicmVzcG9uc2l2ZSIsImhvdmVyTW9kZSIsInN0YWNrZWQiLCJzY2FsZXMiLCJ5QXhlcyIsInR5cGUiLCJkaXNwbGF5IiwicG9zaXRpb24iLCJ0aWNrcyIsInN1Z2dlc3RlZE1pbiIsIm1pbiIsInN0ZXBTaXplIiwiZ3JpZExpbmVzIiwiZHJhd09uQ2hhcnRBcmVhIiwiYWRkR3JhcGgiLCJyYXciLCJyYXdIciIsImxvYWRVc2VyIiwib24iLCJlIiwibG9hZEhpc3RvcnlJbmRleCIsImxvYWRIaXN0b3J5IiwibWFpbkluZGV4IiwiaHRtbENhcmRzIiwic2Vzc2lvbiIsImNyZWF0ZUNhcmQiLCJ0cmlnZ2VyIiwibG9hZEhpc3RvcnlMaXN0Iiwic3RvcCIsInVzZXJzIiwiaHRtbFRhYmxlIiwidXNlck1hcCIsIm1hcCIsIm9iaiIsImNyZWF0ZUxhcFRhYmxlUmVjb3JkIiwicGFnZSIsImh0bWxFbGVtZW50IiwiYWRkQ2xhc3MiLCJzaXplIiwicHJldkRpc2FibGVkIiwibmV4dERpc2FibGVkIiwicHJldiIsImFwcGVuZCIsIm5leHQiLCJhY3RpdmUiLCJpdGVtIiwiY3JlYXRlSGlzdG9yeU5hdlBhZ2UiLCJjcmVhdGVSb3V0ZU5hdlBhZ2UiLCJsb2FkUm91dGUiLCJsb2FkUm91dGVUYWJsZSIsImNyZWF0ZVJvdXRlUmVjb3JkIiwicHJldmVudERlZmF1bHQiLCJpc05hTiIsInJlbW92ZUNsYXNzIiwicGFyZW50IiwiZWxlbWVudCIsInJvdXRlcyIsInNjcm9sbFRvcCIsIm9mZnNldCIsInRvcCIsImNsZWFyVGltZW91dCIsInN0YXJ0Um93IiwicmVtb3ZlQXR0ciIsImFqYXgiLCJ1cmwiLCJzdWNjZXNzIiwicmVzdWx0IiwiZm9ybSIsInJlcGxhY2UiLCJtb2RhbCIsInNlZ21lbnRJZCIsImdwc0N2cyIsIkpTT04iLCJzdHJpbmdpZnkiLCJocmVmIiwiY29uc29sZSIsImxvZyIsImFsZXJ0IiwiY29uZmlybSIsImV2ZW50Iiwic3RyYXZhSWQiLCJjb250ZW50VHlwZSIsImRhdGFUeXBlIiwiaGFzaCIsInJlbGF0ZWRUYXJnZXQiLCJzZWdlbWVudElkIiwiZ3BzTGVuZ2h0IiwiYWRkUm91dGVUcmFja1RvTWFwIiwicGVybWFuZW50IiwieG1sIiwiYm91bmRzIiwicG9pbnQiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0Es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TCxLQUFBLEVBQ0FDLFFBQUEsS0FHQWtLLEVBQUFoSyxJQUFBLFNBQWtDUSxFQUFRekIsUUFFMUMsSUFBQTJPLEVBQUEsSUFBQWxPLE9BQUFDLEtBQUFNLGFBRUFrQixFQUFBVSxJQUFBRixRQUFBLFNBQUFrTSxHQUNBLElBQUEvTCxFQUFBK0wsRUFBQS9MLElBQ0FDLEVBQUE4TCxFQUFBOUwsSUFDQS9FLEVBQUEsSUFBQTBDLE9BQUFDLEtBQUF1QyxPQUFBSixFQUFBQyxHQUNBM0IsRUFBQXNELEtBQUExRyxHQUNBNFEsRUFBQTVKLE9BQUFoSCxLQUcyQjBELEVBQVFQLGVBQUFDLEdBRW5DUSxPQUFBc0osR0FHQUEsRUFBQXJKLFVBQUErTSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJjb25zdCBXQVRUX1JBVElPTiA9IDIuODA7XG5cbmZ1bmN0aW9uIGNhbGNXYXR0KHBhY2UpIHtcbiAgICByZXR1cm4gV0FUVF9SQVRJT04gLyBNYXRoLnBvdyhwYWNlLCAzKTtcbn1cblxuZnVuY3Rpb24gc2Vzc2lvbk5hbWVUb1JlYWRhYmxlKG5hbWUpIHtcbiAgICByZXR1cm4gbW9tZW50KG5hbWUuc2xpY2UoMCwgMTMpICsgJzonICsgbmFtZS5zbGljZSgxMywxNSkgKyAnOicgKyBuYW1lLnNsaWNlKDE1KSkuZm9ybWF0KFwiWVlZWS1NTS1ERCBoaDptbTpzc1wiKTtcbn1cblxuZnVuY3Rpb24gZ2V0SGVhcnRSYXRlQ29sb3IoaHIpIHtcbiAgICBpZiAoaHIgPCAxMjUpIHtcbiAgICAgICAgcmV0dXJuICd0ZXh0LXN1Y2Nlc3MnXG4gICAgfSBlbHNlIGlmIChociA8IDE1MCkge1xuICAgICAgICByZXR1cm4gJ3RleHQtcHJpbWFyeSdcbiAgICB9IGVsc2UgaWYgKGhyIDwgMTc1KSB7XG4gICAgICAgIHJldHVybiAndGV4dC13YXJuaW5nJztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ3RleHQtZGFuZ2VyJztcbiAgICB9XG59XG5cbnZhciBnZXRVcmxQYXJhbWV0ZXIgPSBmdW5jdGlvbiBnZXRVcmxQYXJhbWV0ZXIoc1BhcmFtKSB7XG4gICAgdmFyIHNQYWdlVVJMID0gZGVjb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpKSxcbiAgICAgICAgc1VSTFZhcmlhYmxlcyA9IHNQYWdlVVJMLnNwbGl0KCcmJyksXG4gICAgICAgIHNQYXJhbWV0ZXJOYW1lLFxuICAgICAgICBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHNVUkxWYXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc1BhcmFtZXRlck5hbWUgPSBzVVJMVmFyaWFibGVzW2ldLnNwbGl0KCc9Jyk7XG5cbiAgICAgICAgaWYgKHNQYXJhbWV0ZXJOYW1lWzBdID09PSBzUGFyYW0pIHtcbiAgICAgICAgICAgIHJldHVybiBzUGFyYW1ldGVyTmFtZVsxXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHNQYXJhbWV0ZXJOYW1lWzFdO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgeyBjYWxjV2F0dCwgc2Vzc2lvbk5hbWVUb1JlYWRhYmxlLCBnZXRIZWFydFJhdGVDb2xvciwgZ2V0VXJsUGFyYW1ldGVyIH0iLCJjb25zdCBSQVRJT04gPSAoMTAwIC8gNC44MDUpICogNjtcbmNvbnN0IFBBR0VfU0laRSA9IDEwO1xuXG5leHBvcnQgZGVmYXVsdCB7IFJBVElPTiwgUEFHRV9TSVpFIH0iLCJ2YXIgbGl2ZVBvaW50cyA9IFtdO1xudmFyIGxpdmVNYXAgPSB7fTtcbnZhciBsaXZlQm91bmRzID0ge307XG5cblxuZXhwb3J0IGRlZmF1bHQgeyBsaXZlUG9pbnRzLCBsaXZlTWFwLCBsaXZlQm91bmRzIH0iLCJpbXBvcnQgbWFwIGZyb20gJy4uL21hcC9pbmRleCdcblxuY29uc3Qgc3R5bGVzID0gW3tcbiAgICBcImZlYXR1cmVUeXBlXCI6IFwibGFuZHNjYXBlXCIsIFwic3R5bGVyc1wiOiBbeyBcInNhdHVyYXRpb25cIjogLTEwMCB9LCB7IFwibGlnaHRuZXNzXCI6IDY1IH0sXG4gICAgICAgIHsgXCJ2aXNpYmlsaXR5XCI6IFwib25cIiB9XVxufSwge1xuICAgIFwiZmVhdHVyZVR5cGVcIjogXCJwb2lcIiwgXCJzdHlsZXJzXCI6IFt7IFwic2F0dXJhdGlvblwiOiAtMTAwIH0sIHsgXCJsaWdodG5lc3NcIjogNTEgfSxcbiAgICAgICAgeyBcInZpc2liaWxpdHlcIjogXCJzaW1wbGlmaWVkXCIgfV1cbn0sIHtcbiAgICBcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5oaWdod2F5XCIsIFwic3R5bGVyc1wiOiBbeyBcInNhdHVyYXRpb25cIjogLTEwMCB9LFxuICAgICAgICB7IFwidmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIiB9XVxufSwge1xuICAgIFwiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmFydGVyaWFsXCIsIFwic3R5bGVyc1wiOiBbeyBcInNhdHVyYXRpb25cIjogLTEwMCB9LFxuICAgICAgICB7IFwibGlnaHRuZXNzXCI6IDMwIH0sIHsgXCJ2aXNpYmlsaXR5XCI6IFwib25cIiB9XVxufSwge1xuICAgIFwiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmxvY2FsXCIsIFwic3R5bGVyc1wiOiBbeyBcInNhdHVyYXRpb25cIjogLTEwMCB9LFxuICAgICAgICB7IFwibGlnaHRuZXNzXCI6IDQwIH0sIHsgXCJ2aXNpYmlsaXR5XCI6IFwib25cIiB9XVxufSwge1xuICAgIFwiZmVhdHVyZVR5cGVcIjogXCJ0cmFuc2l0XCIsIFwic3R5bGVyc1wiOiBbeyBcInNhdHVyYXRpb25cIjogLTEwMCB9LFxuICAgICAgICB7IFwidmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIiB9XVxufSwgeyBcImZlYXR1cmVUeXBlXCI6IFwiYWRtaW5pc3RyYXRpdmUucHJvdmluY2VcIiwgXCJzdHlsZXJzXCI6IFt7IFwidmlzaWJpbGl0eVwiOiBcIm9mZlwiIH1dIH0sXG4gICAgeyBcImZlYXR1cmVUeXBlXCI6IFwid2F0ZXJcIiwgXCJlbGVtZW50VHlwZVwiOiBcImxhYmVsc1wiLCBcInN0eWxlcnNcIjogW3sgXCJ2aXNpYmlsaXR5XCI6IFwib25cIiB9LCB7IFwibGlnaHRuZXNzXCI6IC0yNSB9LCB7IFwic2F0dXJhdGlvblwiOiAtMTAwIH1dIH0sXG4gICAgeyBcImZlYXR1cmVUeXBlXCI6IFwid2F0ZXJcIiwgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5XCIsIFwic3R5bGVyc1wiOiBbeyBcImh1ZVwiOiBcIiNmZmZmMDBcIiB9LCB7IFwibGlnaHRuZXNzXCI6IC0yNSB9LCB7IFwic2F0dXJhdGlvblwiOiAtOTcgfV0gfV07XG5cbmZ1bmN0aW9uIGNsZWFuTWFwKCkge1xuICAgIGluaXRNYXAoKTtcbiAgICBtYXAubGl2ZVBvaW50cyA9IFtdO1xuICAgIHZhciBwb2x5ID0gY3JlYXRlUG9seUxpbmUobWFwLmxpdmVQb2ludHMpO1xuICAgIHBvbHkuc2V0TWFwKG1hcC5saXZlTWFwKTtcblxuICAgIC8vIGZpdCBib3VuZHMgdG8gdHJhY2tcbiAgICBtYXAubGl2ZU1hcC5maXRCb3VuZHMobWFwLmxpdmVCb3VuZHMpO1xufVxuXG5mdW5jdGlvbiBpbml0TWFwKCkge1xuICAgIG1hcC5saXZlTWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGl2ZS1tYXAnKSwge1xuICAgICAgICB6b29tOiA4LFxuICAgICAgICBtYXhab29tOiAxNlxuICAgIH0pO1xuXG4gICAgbWFwLmxpdmVCb3VuZHMgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKCk7XG4gICAgbWFwLmxpdmVNYXAuc2V0KCdzdHlsZXMnLCBzdHlsZXMpO1xufVxuXG4vL1RPRE86IENoYW5nZSBjb2xvciBieSBzcGVlZCBvciBoci5cbmZ1bmN0aW9uIGNyZWF0ZVBvbHlMaW5lKHBvaW50cykge1xuICAgIHJldHVybiBuZXcgZ29vZ2xlLm1hcHMuUG9seWxpbmUoe1xuICAgICAgICBwYXRoOiBwb2ludHMsXG4gICAgICAgIHN0cm9rZUNvbG9yOiBcIiNGRjAwQUFcIixcbiAgICAgICAgc3Ryb2tlT3BhY2l0eTogLjcsXG4gICAgICAgIHN0cm9rZVdlaWdodDogNFxuICAgIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IGNsZWFuTWFwLCBpbml0TWFwLCBzdHlsZXMsIGNyZWF0ZVBvbHlMaW5lIH0iLCJpbXBvcnQgbWFwVXRpbHMgZnJvbSAnLi4vdXRpbHMvbWFwVXRpbHMnXG5pbXBvcnQgbWFwIGZyb20gJy4uL21hcC9pbmRleCdcblxuLyoqIEFsbCBsb2FkIGZ1bmN0aW9ucyAqL1xudmFyIGxvYWRSb3V0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICQuZ2V0KFwiL3Jvdy9yb3V0ZXNcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGh0bWwgPSAnJztcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIGdyb3VwID0gJyc7XG4gICAgICAgIGRhdGEuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gKGEuY291bnRyeSA+IGIuY291bnRyeSkgPyAxIDogKChiLmNvdW50cnkgPiBhLmNvdW50cnkpID8gLTEgOiAwKTsgfSk7XG5cbiAgICAgICAgdmFyIHNlbGVjdGVkID0gJ3NlbGVjdGVkPVwic2VsZWN0ZWRcIic7XG4gICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5jb3VudHJ5ICE9PSBncm91cCkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxvcHRncm91cCBsYWJlbD1cIicgKyB2YWx1ZS5jb3VudHJ5ICsgJ1wiPic7XG4gICAgICAgICAgICAgICAgZ3JvdXAgPSB2YWx1ZS5jb3VudHJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHRtbCArPSAnPG9wdGlvbiAnICsgc2VsZWN0ZWQgKyAnIHZhbHVlPVwiJyArIHZhbHVlLmluZGV4ICsgJ1wiIGRhdGEtbGF0PVwiJyArIHZhbHVlLmdwc1swXS5sYXQgKyAnXCIgZGF0YS1sb249XCInICsgdmFsdWUuZ3BzWzBdLmxvbiArICdcIj4nICsgdmFsdWUubmFtZSArICcgKCcgKyB2YWx1ZS5tZXRlcnMgKyAnbSk8L29wdGlvbj4nO1xuICAgICAgICAgICAgc2VsZWN0ZWQgPSAnJztcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH0pO1xuICAgICAgICAkKHRoYXQpLmh0bWwoaHRtbCk7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9ICQoJyNyb3V0ZXMnKS5maW5kKFwiOnNlbGVjdGVkXCIpO1xuICAgICAgICBtYXBVdGlscy5jbGVhbk1hcCgpO1xuICAgICAgICB2YXIgcCA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoJChzZWxlY3RlZCkuZGF0YShcImxhdFwiKSwgJChzZWxlY3RlZCkuZGF0YShcImxvblwiKSk7XG4gICAgICAgIG1hcC5saXZlTWFwLnBhblRvKHApO1xuICAgIH0pO1xuXG59O1xuXG5leHBvcnQgZGVmYXVsdCB7IGxvYWRSb3V0ZXMgfSIsIlxudmFyIGxvYWRVc2VycyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgJC5nZXQoXCIvdXNlcnNcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGh0bWwgPSAnJztcbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaHRtbCArPSAnPG9wdGlvbiB2YWx1ZT1cIicgKyB2YWx1ZS5pZCArICdcIj4nICsgdmFsdWUuZmlyc3ROYW1lICsgJyAnICsgdmFsdWUubGFzdE5hbWUgKyAnPC9vcHRpb24+J1xuICAgICAgICB9KTtcbiAgICAgICAgJCh0aGF0KS5odG1sKGh0bWwpXG4gICAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7IGxvYWRVc2VycyB9IiwiaW1wb3J0IHJvdXRlIGZyb20gJy4uL3JvdXRlL2luZGV4JztcbmltcG9ydCB1c2VyIGZyb20gJy4uL3VzZXIvaW5kZXgnO1xuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzL3V0aWxzJ1xuXG5mdW5jdGlvbiBsb2FkTWFpbigpIHtcbiAgICAkKCcjbG9hZCcpLmxvYWQoJy9tYWluJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmZpbmQoJyNyb3V0ZXMnKS5lYWNoKHJvdXRlLmxvYWRSb3V0ZXMpO1xuICAgICAgICAkKHRoaXMpLmZpbmQoJyNzZXNzaW9uLXVzZXInKS5lYWNoKHVzZXIubG9hZFVzZXJzKTtcbiAgICAgICAgJC5nZXQoXCIvcm93L3N0YXR1c1wiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAnUk9XSU5HJykge1xuICAgICAgICAgICAgICAgIHZhciBzdGFydEJ1dHRvbiA9ICQoJyNzdGFydFJvdycpO1xuICAgICAgICAgICAgICAgIGlmICh1dGlscy5nZXRVcmxQYXJhbWV0ZXIoXCJ0ZXN0XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0QnV0dG9uID0gJCgnI3N0YXJ0U2ltdWxhdG9yJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhcnQoc3RhcnRCdXR0b24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvL1J1biBzaW11bGF0b3IgaWYgdGVzdC5cbiAgICAgICAgaWYgKHV0aWxzLmdldFVybFBhcmFtZXRlcihcInRlc3RcIikpIHtcbiAgICAgICAgICAgICQoJyNzdGFydFJvdycpLmF0dHIoXCJpZFwiLCBcInN0YXJ0U2ltdWxhdG9yXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbn1cblxuXG5leHBvcnQgZGVmYXVsdCB7IGxvYWRNYWluIH07IiwiaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IGdsb2JhbHMgZnJvbSAnLi91dGlscy9nbG9iYWxzJztcbmltcG9ydCBmcm9udCBmcm9tICcuL2Zyb250L2luZGV4JztcbmltcG9ydCByb3V0ZSBmcm9tICcuL3JvdXRlL2luZGV4JztcbmltcG9ydCB1c2VyIGZyb20gJy4vdXNlci9pbmRleCc7XG5pbXBvcnQgbWFwVXRpbHMgZnJvbSAnLi91dGlscy9tYXBVdGlscydcbmltcG9ydCBtYXAgZnJvbSAnLi9tYXAvaW5kZXgnXG5cblxuY29uc3QgVVBEQVRFX0ZSRVEgPSAxMDAwO1xudmFyIHRpbWVPdXQ7XG52YXIgcnVuID0gZmFsc2U7XG5cblxuLyoqXG4gKiBEZWNsYXJlcyBhIG5ldyBvYmplY3QgaW4gdGhlIHdpbmRvdyBuYW1lbHkgUXVlcnlTdHJpbmcgdGhhdCBjb250YWlucyBldmVyeSBnZXQgcGFyYW1ldGVyIGZyb20gdGhlIGN1cnJlbnQgVVJMIGFzIGEgcHJvcGVydHlcbiAqL1xud2luZG93LlF1ZXJ5U3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgYW5vbnltb3VzLCBpcyBleGVjdXRlZCBpbW1lZGlhdGVseSBhbmQgXG4gICAgLy8gdGhlIHJldHVybiB2YWx1ZSBpcyBhc3NpZ25lZCB0byBRdWVyeVN0cmluZyFcbiAgICB2YXIgcXVlcnlfc3RyaW5nID0ge307XG4gICAgdmFyIHF1ZXJ5ID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSk7XG4gICAgdmFyIHZhcnMgPSBxdWVyeS5zcGxpdChcIiZcIik7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBhaXIgPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcblxuICAgICAgICAvLyBJZiBmaXJzdCBlbnRyeSB3aXRoIHRoaXMgbmFtZVxuICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgICAgICAgICAgLy8gSWYgc2Vjb25kIGVudHJ5IHdpdGggdGhpcyBuYW1lXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdmFyIGFyciA9IFtxdWVyeV9zdHJpbmdbcGFpclswXV0sIGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKV07XG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0gPSBhcnI7XG4gICAgICAgICAgICAvLyBJZiB0aGlyZCBvciBsYXRlciBlbnRyeSB3aXRoIHRoaXMgbmFtZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcXVlcnlfc3RyaW5nW3BhaXJbMF1dLnB1c2goZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBxdWVyeV9zdHJpbmc7XG59KCk7XG5cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgZXZlcnkgZ2V0IHBhcmFtZXRlciBmcm9tIGEgVVJMIChmaXJzdCBhcmd1bWVudCkgYXMgYSBwcm9wZXJ0eVxuICogXG4gKiBAcGFyYW0gVVJMIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIFF1ZXJ5U3RyaW5nKFVSTCkge1xuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgYW5vbnltb3VzLCBpcyBleGVjdXRlZCBpbW1lZGlhdGVseSBhbmQgXG4gICAgLy8gdGhlIHJldHVybiB2YWx1ZSBpcyBhc3NpZ25lZCB0byBRdWVyeVN0cmluZyFcbiAgICB2YXIgcXVlcnlfc3RyaW5nID0ge307XG4gICAgdmFyIHVzZWZ1bFBhcmFtID0gVVJMLnNwbGl0KFwiP1wiKVsxXSB8fCBcIlwiO1xuICAgIHZhciBxdWVyeSA9IHVzZWZ1bFBhcmFtIHx8IFwiXCI7XG4gICAgdmFyIHZhcnMgPSBxdWVyeS5zcGxpdChcIiZcIik7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBhaXIgPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIGZpcnN0IGVudHJ5IHdpdGggdGhpcyBuYW1lXG4gICAgICAgIGlmICh0eXBlb2YgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICAgICAgICAvLyBJZiBzZWNvbmQgZW50cnkgd2l0aCB0aGlzIG5hbWVcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB2YXIgYXJyID0gW3F1ZXJ5X3N0cmluZ1twYWlyWzBdXSwgZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pXTtcbiAgICAgICAgICAgIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9IGFycjtcbiAgICAgICAgICAgIC8vIElmIHRoaXJkIG9yIGxhdGVyIGVudHJ5IHdpdGggdGhpcyBuYW1lXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0ucHVzaChkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHF1ZXJ5X3N0cmluZztcbn1cblxuXG4kKGZ1bmN0aW9uICgpIHtcblxuICAgIC8qKiBJbml0IHNoYXJlZCAqL1xuICAgIGdldF9yb3dJbmZvKGZhbHNlLCBcIlwiKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5tYWluJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9hZE1haW4oKTtcbiAgICB9KTtcblxuXG4gICAgZnVuY3Rpb24gbG9hZFNlc3Npb24obmFtZSkge1xuICAgICAgICAkKCcjbG9hZCcpLmxvYWQoJy9zZXNzaW9ucycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQodGhpcykuZmluZCgnI3JvdXRlcycpLmVhY2gocm91dGUubG9hZFJvdXRlcyk7XG4gICAgICAgICAgICAkKHRoaXMpLmZpbmQoJyNzZXNzaW9uLXVzZXInKS5lYWNoKHVzZXIubG9hZFVzZXJzKTtcbiAgICAgICAgICAgICQodGhpcykuZmluZCgnI2hpc3Rvcnktc2Vzc2lvbicpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IFwiSGlzdG9yeVwiO1xuICAgICAgICAgICAgICAgICQuZ2V0KFwiL3Nlc3Npb24vXCIgKyBuYW1lLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGdldEh0bWwodGl0bGUsIGRhdGEuZW5kU3RhdHMsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjcm91dGVzJykudmFsKGRhdGEucm91dGUpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjc2Vzc2lvbi11c2VyJykudmFsKGRhdGEudXNlcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChodG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGFibGUtY29udGVudCcpLmh0bWwoaHRtbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjbGFwcy1ib2R5JykuaHRtbChnZXRMYXBIdG1sKHRpdGxlLCBkYXRhLmVuZFN0YXRzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRHcHhUcmFja1RvTWFwKG5hbWUsICQoXCIjbGl2ZS1tYXBcIikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFkZEdyYXBoKGRhdGEucmF3LCBkYXRhLnJhd0hyLCBwYXJzZUludChkYXRhLnN0YXJ0KSwgZGF0YS5zdHJva2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG5cbiAgICBmdW5jdGlvbiBsb2FkVXNlcigpIHtcbiAgICAgICAgJCgnI2xvYWQnKS5sb2FkKCcvdXNlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQodGhpcykuZmluZCgnI3VzZXJzLWJvZHknKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgJC5nZXQoXCIvdXNlcnMvXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBodG1sID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIgPSBkYXRhW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPHRyPjx0ZD48YSBocmVmPVwiI1wiIGRhdGEtaWQ9XCInICsgdXNlci5pZCArICdcIj4nICsgKGkgKyAxKSArICc8L2E+PC90ZD48dGQ+JyArIHVzZXIuZmlyc3ROYW1lICsgJzwvdGQ+PHRkPicgKyB1c2VyLmxhc3ROYW1lICsgJzwvdGQ+JztcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzx0ZD48YSBjbGFzcz1cImVkaXQtdXNlclwiIGhyZWY9XCIjXCIgZGF0YS1pZD1cIicgKyB1c2VyLmlkICsgJ1wiPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jcmVhdGU8L2k+PC9hPjxhIGNsYXNzPVwiZGVsLXVzZXJcIiBocmVmPVwiI1wiIGRhdGEtaWQ9XCInICsgdXNlci5pZCArICdcIj48aSBhcmlhLWhpZGRlbj1cInRydWVcIiB0aXRsZT1cIkRlbGV0ZSB1c2VyXCIgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmRlbGV0ZTwvaT48L2E+PC90ZD4nICsgJzwvdHI+J1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICQodGhhdCkuaHRtbChodG1sKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2FkZFVzZXJNb2RhbCcpLm9uKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFVzZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGxvYWRIaXN0b3J5SW5kZXgoaW5kZXgpIHtcbiAgICAgICAgbG9hZEhpc3RvcnkoaW5kZXgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvYWRIaXN0b3J5KG1haW5JbmRleCkge1xuICAgICAgICAkKCcjbG9hZCcpLmxvYWQoJy9oaXN0b3J5JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcjaGlzdG9yeScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGxvYWRMYXN0M1Nlc3Npb25zKCk7XG4gICAgICAgICAgICAgICAgbG9hZEhpc3RvcnlMaXN0KCQodGhpcyksIG1haW5JbmRleCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZExhc3QzU2Vzc2lvbnMoKSB7XG4gICAgICAgICQuZ2V0KCcvc2Vzc2lvbi8nICsgMCArICcvJyArIDIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB2YXIgaHRtbENhcmRzID0gJyc7XG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBodG1sQ2FyZHMgPSBjcmVhdGVDYXJkKGh0bWxDYXJkcywgc2Vzc2lvbik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnI2NhcmRzJykuaHRtbCgnPGRpdiBjbGFzcz1cImNvbFwiPjxkaXYgY2xhc3M9XCJjYXJkLWRlY2tcIj4nICsgaHRtbENhcmRzICsgJzwvZGl2PjwvZGl2PicpO1xuICAgICAgICAgICAgJCgnLmdweC10cmFjaycpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQodGhpcykudHJpZ2dlcihcImxvYWQtbWFwXCIsIHRoaXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvYWRIaXN0b3J5TGlzdCh0aGF0LCBtYWluSW5kZXgpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gbWFpbkluZGV4ICogZ2xvYmFscy5QQUdFX1NJWkUsIHN0b3AgPSAoKChtYWluSW5kZXggKyAxKSAqIGdsb2JhbHMuUEFHRV9TSVpFKSkgLSAxO1xuICAgICAgICAkLmdldCgnL3Nlc3Npb24vJyArIHN0YXJ0ICsgJy8nICsgc3RvcCwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICQuZ2V0KCcvdXNlcnMnLCBmdW5jdGlvbiAodXNlcnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbFRhYmxlID0gJycsIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgdXNlck1hcCA9IHVzZXJzLnJlZHVjZShmdW5jdGlvbihtYXAsIG9iaikge1xuICAgICAgICAgICAgICAgICAgICBtYXBbb2JqLmlkXSA9IG9iajtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChzZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGh0bWxUYWJsZSA9IGNyZWF0ZUxhcFRhYmxlUmVjb3JkKGh0bWxUYWJsZSwgaW5kZXggKyAobWFpbkluZGV4ICogZ2xvYmFscy5QQUdFX1NJWkUpLCBzZXNzaW9uLCB1c2VyTWFwKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICQoJyNoaXN0b3ItdGFibGUtYm9keScpLmh0bWwoaHRtbFRhYmxlKTtcbiAgICAgICAgICAgICAgICB2YXIgcGFnID0gdGhhdC5maW5kKCcucGFnZScpO1xuICAgICAgICAgICAgICAgIGNyZWF0ZUhpc3RvcnlOYXZQYWdlKHBhZywgbWFpbkluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkR3B4TWFwKCkge1xuICAgICAgICB2YXIgbmFtZSA9ICQodGhpcykuZGF0YSgnbmFtZScpO1xuICAgICAgICB2YXIgZWxlbWVudCA9ICQodGhpcykuZmluZCgnLmNhcmQtbWFwLXRvcCcpO1xuICAgICAgICBhZGRHcHhUcmFja1RvTWFwKG5hbWUsIGVsZW1lbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUhpc3RvcnlOYXZQYWdlKHBhZ2UsIGluZGV4KSB7XG4gICAgICAgIHZhciBodG1sRWxlbWVudCA9ICQoJzx1bCBpZD1cImhpc3RvcnktcGFnZVwiIGRhdGEtaW5kZXg9XCInICsgaW5kZXggKyAnXCI+PC91bD4nKS5hZGRDbGFzcyhcInBhZ2luYXRpb24gcGFnaW5hdGlvbi1sZ1wiKTtcbiAgICAgICAgJC5nZXQoXCJzZXNzaW9uL3NpemVcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocGFyc2VJbnQoZGF0YSkgLyBnbG9iYWxzLlBBR0VfU0laRSkgKyAxO1xuICAgICAgICAgICAgdmFyIHByZXZEaXNhYmxlZCA9IChpbmRleCA9PT0gMCA/ICdkaXNhYmxlZCcgOiAnJyk7XG4gICAgICAgICAgICB2YXIgbmV4dERpc2FibGVkID0gKGluZGV4ID09PSBzaXplIC0gMSA/ICdkaXNhYmxlZCcgOiAnJyk7XG4gICAgICAgICAgICB2YXIgcHJldiA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgcHJldkRpc2FibGVkICsgJ1wiPjwvbGk+JykuYXBwZW5kKCc8YSBjbGFzcz1cInBhZ2UtbGlua1wiIGhyZWY9XCIjXCIgZGF0YS1uZXh0PVwiLTFcIiB0YWJpbmRleD1cIi0xXCI+UHJldmlvdXM8L2E+Jyk7XG4gICAgICAgICAgICB2YXIgbmV4dCA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgbmV4dERpc2FibGVkICsgJ1wiPjwvbGk+JykuYXBwZW5kKCc8YSBjbGFzcz1cInBhZ2UtbGlua1wiIGRhdGEtbmV4dD1cIjFcIiBocmVmPVwiI1wiPk5leHQ8L2E+Jyk7XG5cbiAgICAgICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZChwcmV2KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZSA9ICcnO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gaSkge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmUgPSBcImFjdGl2ZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgYWN0aXZlICsgJ1wiPjxhIGNsYXNzPVwicGFnZS1saW5rXCIgZGF0YS1pbmRleD1cIicgKyBpICsgJ1wiIGhyZWY9XCIjXCI+JyArIChpICsgMSkgKyAnPC9hPjwvbGk+Jyk7XG4gICAgICAgICAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kKG5leHQpO1xuICAgICAgICAgICAgJChwYWdlKS5odG1sKGh0bWxFbGVtZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlUm91dGVOYXZQYWdlKHBhZ2UsIGluZGV4KSB7XG4gICAgICAgIHZhciBodG1sRWxlbWVudCA9ICQoJzx1bCBpZD1cInJvdXRlLXBhZ2VcIiBkYXRhLWluZGV4PVwiJyArIGluZGV4ICsgJ1wiPjwvdWw+JykuYWRkQ2xhc3MoXCJwYWdpbmF0aW9uIHBhZ2luYXRpb24tbGdcIik7XG4gICAgICAgICQuZ2V0KFwicm91dGVzL3NpemVcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocGFyc2VJbnQoZGF0YSkgLyBnbG9iYWxzLlBBR0VfU0laRSkgKyAxO1xuICAgICAgICAgICAgdmFyIHByZXZEaXNhYmxlZCA9IChpbmRleCA9PT0gMCA/ICdkaXNhYmxlZCcgOiAnJyk7XG4gICAgICAgICAgICB2YXIgbmV4dERpc2FibGVkID0gKGluZGV4ID09PSBzaXplIC0gMSA/ICdkaXNhYmxlZCcgOiAnJyk7XG4gICAgICAgICAgICB2YXIgcHJldiA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgcHJldkRpc2FibGVkICsgJ1wiPjwvbGk+JykuYXBwZW5kKCc8YSBjbGFzcz1cInBhZ2UtbGlua1wiIGhyZWY9XCIjXCIgZGF0YS1uZXh0PVwiLTFcIiB0YWJpbmRleD1cIi0xXCI+UHJldmlvdXM8L2E+Jyk7XG4gICAgICAgICAgICB2YXIgbmV4dCA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgbmV4dERpc2FibGVkICsgJ1wiPjwvbGk+JykuYXBwZW5kKCc8YSBjbGFzcz1cInBhZ2UtbGlua1wiIGRhdGEtbmV4dD1cIjFcIiBocmVmPVwiI1wiPk5leHQ8L2E+Jyk7XG5cbiAgICAgICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZChwcmV2KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZSA9ICcnO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gaSkge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmUgPSBcImFjdGl2ZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgYWN0aXZlICsgJ1wiPjxhIGNsYXNzPVwicGFnZS1saW5rXCIgZGF0YS1pbmRleD1cIicgKyBpICsgJ1wiIGhyZWY9XCIjXCI+JyArIChpICsgMSkgKyAnPC9hPjwvbGk+Jyk7XG4gICAgICAgICAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kKG5leHQpO1xuICAgICAgICAgICAgJChwYWdlKS5odG1sKGh0bWxFbGVtZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIGNsaWNrU2Vzc2lvbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIG5hbWUgPSAkKHRoaXMpLmRhdGEoJ25hbWUnKTtcbiAgICAgICAgbG9hZFNlc3Npb24obmFtZSk7XG4gICAgfTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJyN1c2VyJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9hZFVzZXIoKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJyNoaXN0b3J5LXBhZ2UgYScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIG5leHQgPSBwYXJzZUludCgkKHRoaXMpLmRhdGEoJ25leHQnKSksIGluZGV4ID0gcGFyc2VJbnQoJCh0aGlzKS5kYXRhKCdpbmRleCcpKSxcbiAgICAgICAgICAgIG1haW5JbmRleCA9IHBhcnNlSW50KCQoJyNoaXN0b3J5LXBhZ2UnKS5kYXRhKCdpbmRleCcpKTtcbiAgICAgICAgaWYgKCFpc05hTihuZXh0KSkge1xuICAgICAgICAgICAgbWFpbkluZGV4ICs9IG5leHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKGluZGV4KSkge1xuICAgICAgICAgICAgbWFpbkluZGV4ID0gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgbG9hZEhpc3RvcnlMaXN0KCQoJyNoaXN0b3J5LXRhYmxlJyksIG1haW5JbmRleCk7XG4gICAgfSk7XG5cbiAgICAvL1RPRE86IHJlZmFjdG9yeVxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJyNyb3V0ZS1wYWdlIGEnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBuZXh0ID0gcGFyc2VJbnQoJCh0aGlzKS5kYXRhKCduZXh0JykpLCBpbmRleCA9IHBhcnNlSW50KCQodGhpcykuZGF0YSgnaW5kZXgnKSksXG4gICAgICAgICAgICBtYWluSW5kZXggPSBwYXJzZUludCgkKCcjcm91dGUtcGFnZScpLmRhdGEoJ2luZGV4JykpO1xuICAgICAgICBpZiAoIWlzTmFOKG5leHQpKSB7XG4gICAgICAgICAgICBtYWluSW5kZXggKz0gbmV4dDtcbiAgICAgICAgfSBlbHNlIGlmICghaXNOYU4oaW5kZXgpKSB7XG4gICAgICAgICAgICBtYWluSW5kZXggPSBpbmRleDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFnID0gJCgnI3JvdXRlcy10YWJsZScpLmZpbmQoJy5wYWdlJyk7XG4gICAgICAgIGNyZWF0ZVJvdXRlTmF2UGFnZShwYWdbMF0sIG1haW5JbmRleCk7XG4gICAgICAgIGxvYWRSb3V0ZVRhYmxlKG1haW5JbmRleCk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcubmF2LWxpbmsnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAkKCcjbWFpbi1uYXYnKS5maW5kKFwiLm5hdi1pdGVtXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQodGhpcykucGFyZW50KCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcuc2Vzc2lvbnMnLCBjbGlja1Nlc3Npb24pO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnYSNoaXN0b3J5JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9hZEhpc3RvcnlJbmRleCgwLCAwKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJ2Ejcm91dGUnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBsb2FkUm91dGUoMCk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBsb2FkUm91dGUobWFpbkluZGV4KSB7XG4gICAgICAgICQoJyNsb2FkJykubG9hZCgnL3JvdXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcjcm91dGVzLXQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsb2FkUm91dGVUYWJsZSgwKTtcbiAgICAgICAgICAgICAgICB2YXIgcGFnID0gJCgnI3JvdXRlcy10YWJsZScpLmZpbmQoJy5wYWdlJyk7XG4gICAgICAgICAgICAgICAgY3JlYXRlUm91dGVOYXZQYWdlKHBhZ1swXSwgbWFpbkluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkUm91dGVUYWJsZShtYWluSW5kZXgpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gbWFpbkluZGV4ICogZ2xvYmFscy5QQUdFX1NJWkUsIHN0b3AgPSAoKChtYWluSW5kZXggKyAxKSAqIGdsb2JhbHMuUEFHRV9TSVpFKSkgLSAxO1xuICAgICAgICAkLmdldCgnL3JvdXRlcy8nICsgc3RhcnQgKyAnLycgKyBzdG9wLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdmFyIGh0bWxUYWJsZSA9ICcnO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICBodG1sVGFibGUgPSBjcmVhdGVSb3V0ZVJlY29yZChodG1sVGFibGUsIGluZGV4ICsgKG1haW5JbmRleCAqIGdsb2JhbHMuUEFHRV9TSVpFKSwgcm91dGUpO1xuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnI3JvdXRlcy10YWJsZS1ib2R5JykuaHRtbChodG1sVGFibGUpO1xuICAgICAgICAgICAgJCgnI2FkZC1yb3V0ZS1tb2RhbCcpLm9uKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGxvYWRSb3V0ZSgwKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgJChkb2N1bWVudCkub24oXCJsb2FkLW1hcFwiLCAnLmdweC10cmFjaycsIGxvYWRHcHhNYXApO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnYnV0dG9uI3N0YXJ0Um93JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgcm91dGVzID0gJCgnI3JvdXRlcycpLnZhbCgpO1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICQuZ2V0KFwiL3Jvdy9zdGFydFwiLCB7IHJvdXRlczogcm91dGVzIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0YXJ0KHRoYXQpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHN0YXJ0KHN0YXJ0QnV0dG9uKSB7XG4gICAgICAgICQod2luZG93KS5zY3JvbGxUb3AoJCgnI21haW4nKS5vZmZzZXQoKS50b3ApOyAvL1Njcm9sbFxuICAgICAgICBnZXRfcm93SW5mbyh0cnVlLCBcIlJvd2luZ1wiKTtcbiAgICAgICAgbWFwVXRpbHMuY2xlYW5NYXAoKTtcbiAgICAgICAgJCgnI3JvdXRlcycpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICQoJyNzZXNzaW9uLXVzZXInKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAkKFwiI3N0YXJ0U2ltdWxhdG9yXCIpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICQoc3RhcnRCdXR0b24pLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICQoc3RhcnRCdXR0b24pLmh0bWwoJ1Jvd2luZy4uLicpO1xuICAgICAgICAkKHN0YXJ0QnV0dG9uKS5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICQoJyNzdG9wUm93JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgIH1cblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJ2J1dHRvbiNzdG9wUm93JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgdGhhdCA9ICQodGhpcyk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lT3V0KTtcbiAgICAgICAgcnVuID0gZmFsc2U7XG4gICAgICAgIHZhciByb3V0ZXMgPSAkKCcjcm91dGVzJykudmFsKCk7XG4gICAgICAgIHZhciB1c2VyID0gJCgnI3Nlc3Npb24tdXNlcicpLnZhbCgpO1xuICAgICAgICAkLmdldChcIi9yb3cvc3RvcFwiLCB7IHJvdXRlczogcm91dGVzLCB1c2VyOiB1c2VyIH0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAkKCcjdGFibGUtY29udGVudCcpLmh0bWwoZ2V0SHRtbChcIlN0b3BwZWRcIiwgZGF0YSwgZmFsc2UpKTtcbiAgICAgICAgICAgIHZhciBzdGFydFJvdyA9ICQoXCIjc3RhcnRSb3dcIik7XG4gICAgICAgICAgICBzdGFydFJvdy5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgc3RhcnRSb3cucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgc3RhcnRSb3cuaHRtbCgnU3RhcnQgcm93Jyk7XG4gICAgICAgICAgICB0aGF0LmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgICAgICQoJyNyb3V0ZXMnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgJCgnI3Nlc3Npb24tdXNlcicpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAkKFwiI3N0YXJ0U2ltdWxhdG9yXCIpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLmVkaXQtdXNlcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5kYXRhKCdpZCcpO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiAnL3VzZXJzLycgKyBpZCxcbiAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHZhciBmb3JtID0gJChcIiNhZGRVc2VyRm9ybVwiKTtcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJyNmaXJzdE5hbWUnKS52YWwocmVzdWx0LmZpcnN0TmFtZSk7XG4gICAgICAgICAgICAgICAgZm9ybS5maW5kKCcjbGFzdE5hbWUnKS52YWwocmVzdWx0Lmxhc3ROYW1lKTtcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJyN1c2VySWQnKS52YWwocmVzdWx0LmlkKTtcbiAgICAgICAgICAgICAgICAkLmdldCgnL3N0cmF2YS91cmwnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gZGF0YS51cmwucmVwbGFjZShcIiUyNFwiLCByZXN1bHQuaWQpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuc3RyYXZhLXVybCcpLmF0dHIoJ2hyZWYnLCB1cmwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBjb25uZWN0ID0gJChcIi5zdHJhdmEtY29ubmVjdFwiKTtcbiAgICAgICAgICAgICAgICBjb25uZWN0LnJlbW92ZUNsYXNzKFwic3Itb25seVwiKTtcbiAgICAgICAgICAgICAgICAkKCcjYWRkVXNlck1vZGFsJykubW9kYWwoJ3Nob3cnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLmVkaXQtcm91dGUnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBpZCA9ICQodGhpcykuZGF0YSgnaWQnKTtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDogJy9yb3V0ZXMvJyArIGlkLFxuICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGZvcm0gPSAkKFwiI2FkZFJvdXRlXCIpO1xuICAgICAgICAgICAgICAgIGZvcm0uZmluZCgnI25hbWUnKS52YWwocmVzdWx0Lm5hbWUpO1xuICAgICAgICAgICAgICAgIGZvcm0uZmluZCgnI21ldGVycycpLnZhbChyZXN1bHQubWV0ZXJzKTtcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJyNzZWdtZW50SWQnKS52YWwocmVzdWx0LnNlZ21lbnRJZCk7XG4gICAgICAgICAgICAgICAgZm9ybS5maW5kKCcjY291bnRyaWVzJykudmFsKHJlc3VsdC5jb3VudHJ5KTtcbiAgICAgICAgICAgICAgICAvL2dwcy5yZXBsYWNlKC8oLiopLCguKiksKC4qKS9nbSwgJ3sgXCJsYXRcIjogJDEsIFwibG9uXCI6ICQyLCBcImVsXCI6ICQzIH0sJyk7XG4gICAgICAgICAgICAgICAgdmFyIGdwc0N2cyA9IEpTT04uc3RyaW5naWZ5KHJlc3VsdC5ncHMpO1xuICAgICAgICAgICAgICAgIGZvcm0uZmluZCgnI2dwcycpLmFwcGVuZChncHNDdnMpO1xuICAgICAgICAgICAgICAgICQoJyNhZGQtcm91dGUtbW9kYWwnKS5tb2RhbCgnc2hvdycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5zdHJhdmEnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBocmVmID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG4gICAgICAgICQuZ2V0KGhyZWYsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgIGFsZXJ0KFwiVXBsb2FkZWQgdG8gc3RyYXZhIVwiKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcuZGVsLXNlc3Npb24nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBuYW1lID0gJCh0aGlzKS5kYXRhKCduYW1lJyk7XG4gICAgICAgIHZhciByZXN1bHQgPSBjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBzZXNzaW9uP1wiKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvc2Vzc2lvbi9kZWwvJyArIG5hbWUsXG4gICAgICAgICAgICAgICAgdHlwZTogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBhbGVydChcIlNlc3Npb24gZGVsZXRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgbG9hZEhpc3RvcnlJbmRleCgwLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIiNzYXZlLXJvdXRlXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgZm9ybSA9ICQoXCIjYWRkUm91dGVcIik7XG4gICAgICAgIHZhciByb3V0ZSA9IHt9O1xuICAgICAgICByb3V0ZS5uYW1lID0gZm9ybS5maW5kKCcjbmFtZScpLnZhbCgpO1xuICAgICAgICByb3V0ZS5tZXRlcnMgPSBmb3JtLmZpbmQoJyNtZXRlcnMnKS52YWwoKTtcbiAgICAgICAgcm91dGUuc3RyYXZhSWQgPSBmb3JtLmZpbmQoJyNzZWdtZW50SWQnKS52YWwoKTtcbiAgICAgICAgcm91dGUuY291bnRyeSA9IGZvcm0uZmluZCgnI2NvdW50cmllcycpLnZhbCgpO1xuICAgICAgICByb3V0ZS5ncHMgPSBmb3JtLmZpbmQoJ3RleHRhcmVhJykudmFsKCk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnUFVUJyxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgdXJsOiBcIi9yb3V0ZXMvYWRkXCIsXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShyb3V0ZSksXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJCgnI2FkZC1yb3V0ZS1tb2RhbCcpLm1vZGFsKCdoaWRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIiNzYXZlLXVzZXJcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBmb3JtID0gJChcIiNhZGRVc2VyRm9ybVwiKTtcbiAgICAgICAgdmFyIGZpcnN0TmFtZSA9IGZvcm0uZmluZCgnI2ZpcnN0TmFtZScpLnZhbCgpO1xuICAgICAgICB2YXIgbGFzdE5hbWUgPSBmb3JtLmZpbmQoJyNsYXN0TmFtZScpLnZhbCgpO1xuICAgICAgICB2YXIgaWQgPSBmb3JtLmZpbmQoJyN1c2VySWQnKS52YWwoKTtcbiAgICAgICAgdmFyIHVzZXIgPSB7fTtcbiAgICAgICAgdXNlci5maXJzdE5hbWUgPSBmaXJzdE5hbWU7XG4gICAgICAgIHVzZXIubGFzdE5hbWUgPSBsYXN0TmFtZTtcbiAgICAgICAgdXNlci5pZCA9IGlkO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogJ1BVVCcsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIHVybDogXCIvdXNlcnMvYWRkXCIsXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh1c2VyKSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKCcjYWRkVXNlck1vZGFsJykubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5kZWwtdXNlcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5kYXRhKCdpZCcpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGU/XCIpO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogJy91c2Vycy8nICsgaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBsb2FkVXNlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcuZGVsLXJvdXRlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XG4gICAgICAgIHZhciByZXN1bHQgPSBjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSByb3V0ZT9cIik7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3JvdXRlcy8nICsgaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBsb2FkUm91dGUoMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgJCgnI2xvYWQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcbiAgICAgICAgc3dpdGNoIChoYXNoKSB7XG4gICAgICAgICAgICBjYXNlICcjcm91dGUnOlxuICAgICAgICAgICAgICAgIGxvYWRSb3V0ZSgwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJyN1c2VyJzpcbiAgICAgICAgICAgICAgICBsb2FkVXNlcigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnI2hpc3RvcnknOlxuICAgICAgICAgICAgICAgIGxvYWRIaXN0b3J5KDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnI3Nlc3Npb24nOlxuICAgICAgICAgICAgICAgIGxvYWRTZXNzaW9uKFF1ZXJ5U3RyaW5nW1wibmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGZyb250LmxvYWRNYWluKCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoJyNyb3V0ZXMnKS5lYWNoKHJvdXRlLmxvYWRSb3V0ZXMpO1xuXG4gICAgJCgnI3Nlc3Npb24tdXNlcicpLmVhY2godXNlci5sb2FkVXNlcnMpO1xuXG4gICAgJChkb2N1bWVudCkub24oJ3Nob3cuYnMubW9kYWwnLCAnI3Nob3ctcm91dGUtbW9kYWwnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgbmFtZSA9ICQoZS5yZWxhdGVkVGFyZ2V0KS5kYXRhKCdyb3V0ZS1uYW1lJyk7XG4gICAgICAgIHZhciB0aGF0ID0gJCh0aGlzKTtcbiAgICAgICAgJC5nZXQoXCIvcm91dGVzL1wiICsgbmFtZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciB0aXRsZSA9IGRhdGEubmFtZTtcbiAgICAgICAgICAgIGlmIChkYXRhLnNlZ2VtZW50SWQpIHtcbiAgICAgICAgICAgICAgICB0aXRsZSA9ICc8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cHM6Ly93d3cuc3RyYXZhLmNvbS9zZWdtZW50cy8nICsgZGF0YS5zZWdlbWVudElkICsgJ1wiPicgKyB0aXRsZSArICcgPC9hPic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGF0LmZpbmQoJyNzaG93LXJvdXRlLW1vZGFsLXRpdGxlJykuaHRtbCh0aXRsZSk7XG4gICAgICAgICAgICB2YXIgaHRtbCA9ICc8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIj48aDUgY2xhc3M9XCJjYXJkLXRpdGxlXCI+RGlzcGxheSBMZW5naHQ6PC9oNT4nICsgZGF0YS5tZXRlcnMgKyAnIG08L2xpPic7XG4gICAgICAgICAgICBodG1sICs9ICc8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIj48aDUgY2xhc3M9XCJjYXJkLXRpdGxlXCI+R3BzIExlbmdodDo8L2g1PicgKyBkYXRhLmdwc0xlbmdodCArICcgbTwvbGk+JztcbiAgICAgICAgICAgIGh0bWwgKz0gJzxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiPjxoNSBjbGFzcz1cImNhcmQtdGl0bGVcIj5Db3VudHJ5OjwvaDU+JyArIGRhdGEuY291bnRyeSArICc8L2xpPic7XG4gICAgICAgICAgICB0aGF0LmZpbmQoJy5jYXJkIC5saXN0LWdyb3VwJykuaHRtbChodG1sKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbignc2hvd24uYnMubW9kYWwnLCAnI3Nob3ctcm91dGUtbW9kYWwnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgbmFtZSA9ICQoZS5yZWxhdGVkVGFyZ2V0KS5kYXRhKCdyb3V0ZS1uYW1lJyk7XG4gICAgICAgIGFkZFJvdXRlVHJhY2tUb01hcChuYW1lLCAkKFwiI2xpdmUtcm91dGUtbWFwXCIpKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2hhbmdlXCIsICcjcm91dGVzJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gJCgnI3JvdXRlcycpLmZpbmQoXCI6c2VsZWN0ZWRcIik7XG4gICAgICAgIG1hcFV0aWxzLmNsZWFuTWFwKCk7XG4gICAgICAgIHZhciBwID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZygkKHNlbGVjdGVkKS5kYXRhKFwibGF0XCIpLCAkKHNlbGVjdGVkKS5kYXRhKFwibG9uXCIpKTtcbiAgICAgICAgbWFwLmxpdmVNYXAucGFuVG8ocCk7XG4gICAgfSk7XG59KTtcblxuZnVuY3Rpb24gZ2V0X3Jvd0luZm8oY29udGludWVzLCB0aXRsZSkge1xuICAgIHJ1biA9IGNvbnRpbnVlcztcbiAgICAkLmdldChcIi9yb3dcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGh0bWwgPSBnZXRIdG1sKHRpdGxlLCBkYXRhKTtcbiAgICAgICAgaWYgKGh0bWwpIHtcbiAgICAgICAgICAgICQoJyN0YWJsZS1jb250ZW50JykuaHRtbChodG1sKTtcbiAgICAgICAgICAgICQoJyNsYXBzLWJvZHknKS5odG1sKGdldExhcEh0bWwodGl0bGUsIGRhdGEsIHRydWUpKTtcbiAgICAgICAgICAgIHZhciBsYXQgPSBkYXRhLmdwcy5sYXQ7XG4gICAgICAgICAgICB2YXIgbG9uID0gZGF0YS5ncHMubG9uO1xuICAgICAgICAgICAgdmFyIHAgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdCwgbG9uKTtcbiAgICAgICAgICAgIG1hcC5saXZlUG9pbnRzLnB1c2gocCk7XG4gICAgICAgICAgICBpZiAobWFwLmxpdmVCb3VuZHMpIHtcbiAgICAgICAgICAgICAgICBtYXAubGl2ZUJvdW5kcy5leHRlbmQocCk7XG4gICAgICAgICAgICAgICAgdmFyIHBvbHkgPSBtYXBVdGlscy5jcmVhdGVQb2x5TGluZShtYXAubGl2ZVBvaW50cyk7XG4gICAgICAgICAgICAgICAgcG9seS5zZXRNYXAobWFwLmxpdmVNYXApO1xuICAgICAgICAgICAgICAgIG1hcC5saXZlTWFwLmZpdEJvdW5kcyhtYXAubGl2ZUJvdW5kcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH0pLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocnVuKSB7XG4gICAgICAgICAgICB0aW1lT3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGdldF9yb3dJbmZvKHRydWUsIHRpdGxlKTsgfSwgVVBEQVRFX0ZSRVEpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGZtdE1TUyhzKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShudWxsKTtcbiAgICBkYXRlLnNldFNlY29uZHMocyk7IC8vIHNwZWNpZnkgdmFsdWUgZm9yIFNFQ09ORFMgaGVyZVxuICAgIHJldHVybiBkYXRlLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDExLCA4KTtcbn1cblxuZnVuY3Rpb24gZ2V0SHRtbChsYWJlbCwganNvbiwgZGF5KSB7XG4gICAgaWYgKHBhcnNlSW50KGpzb24ubWV0ZXJzKSA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBodG1sID0gJyc7XG4gICAgaWYgKGRheSkge1xuICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+RGF5PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBqc29uLnN0YXJ0LnN1YnN0cigyLCBqc29uLnN0YXJ0Lmxhc3RJbmRleE9mKCdUJykgLSAyKSArICc8L2Rpdj48L2Rpdj4nO1xuICAgIH1cbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+U3RhcnQ6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBqc29uLnN0YXJ0LnN1YnN0cihqc29uLnN0YXJ0Lmxhc3RJbmRleE9mKCdUJykgKyAxLCA4KSArICc8L2Rpdj48L2Rpdj4nO1xuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5UaW1lOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2xcIj4nICsgZm10TVNTKHBhcnNlSW50KGpzb24uc2Vjb25kcykpICsgJzwvZGl2PjwvZGl2Pic7XG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPkxlbmd0aDo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIHBhcnNlSW50KGpzb24ubWV0ZXJzKSArICcgbSAoJyArIHBhcnNlSW50KGpzb24ucm91dGVMYXApICsgJyk8L2Rpdj48L2Rpdj4nO1xuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5QYWNlOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2xcIj4nICsgTWF0aC5yb3VuZChwYXJzZUZsb2F0KGpzb24ucGFjZSkgKiAzLjYgKiAxMCkgLyAxMCArICcga20vdDwvZGl2PjwvZGl2Pic7XG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPjUwMG06PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBmbXRNU1MocGFyc2VJbnQoanNvbi5sYXBQYWNlKSkgKyAnPC9kaXY+PC9kaXY+JztcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+Mms6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBmbXRNU1MocGFyc2VJbnQoanNvbi50b3dLUGFjZSkpICsgJzwvZGl2PjwvZGl2Pic7XG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPkF2Zy5XOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2xcIj4nICsgTWF0aC5yb3VuZChwYXJzZUZsb2F0KGpzb24ud2F0dCkgKiAxMCkgLyAxMCArICd3PC9kaXY+PC9kaXY+JztcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+U1I6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoanNvbi5zdHJva2UpICogMTApIC8gMTAgKyAnPC9kaXY+PC9kaXY+JztcbiAgICBpZiAocGFyc2VJbnQoanNvbi5ocikgPiAwKSB7XG4gICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5IUjo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sICcgKyB1dGlscy5nZXRIZWFydFJhdGVDb2xvcihwYXJzZUludChqc29uLmhyKSkgKyAnXCI+JyArIHBhcnNlSW50KGpzb24uaHIpICsgKHBhcnNlSW50KGpzb24uYXZnSHIpID4gMCA/ICcoJyArIHBhcnNlSW50KGpzb24uYXZnSHIpICsgJyknIDogJycpICsgJzwvZGl2PjwvZGl2Pic7XG4gICAgfVxuICAgIGlmIChqc29uLmZpbGVOYW1lKSB7XG4gICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sXCI+QWN0aW9uczo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+PGEgaHJlZj1cIi9zZXNzaW9ucy8nICsganNvbi5maWxlTmFtZTtcbiAgICAgICAgaHRtbCArPSAnXCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmZpbGVfZG93bmxvYWQ8L2k+PGEgY2xhc3M9XCJzdHJhdmFcIiBocmVmPVwiL3N0cmF2YS91cGxvYWQvJyArIGpzb24ubmFtZTtcbiAgICAgICAgaHRtbCArPSAnXCI+PGkgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdGl0bGU9XCJVcGxvYWQgdG8gc3RyYXZhXCIgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmNsb3VkX3VwbG9hZDwvaT48L2E+JztcbiAgICAgICAgaHRtbCArPSAnPGEgY2xhc3M9XCJzZXNzaW9uc1wiIGRhdGEtbmFtZT1cIicgKyBqc29uLm5hbWUgKyAnXCIgaHJlZj1cIi9zZXNzaW9uc1wiPjxpIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHRpdGxlPVwiU2Vzc2lvblwiIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5maWJlcl9uZXc8L2k+PC9hPjwvZGl2PjwvZGl2Pic7XG4gICAgfVxuICAgIHJldHVybiBodG1sICsgXCJcIjtcbn1cblxuZnVuY3Rpb24gZ2V0TGFwSHRtbChsYWJlbCwganNvbiwgcmV2ZXJzZSkge1xuICAgIHZhciBodG1sID0gJyc7XG4gICAgaWYgKHBhcnNlSW50KGpzb24udG90YWxMYXBzKSA+IDApIHtcbiAgICAgICAgdmFyIGxhcE51bSA9IDE7XG4gICAgICAgIHZhciBsYXBzID0ganNvbi5sYXBzO1xuICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgbGFwcy5yZXZlcnNlKCk7XG4gICAgICAgICAgICBsYXBOdW0gPSBsYXBzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBsYXBzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8dHI+PHRoIHNjb3BlPVwicm93XCI+JyArIGxhcE51bSArICc8L3RoPjx0ZD4nICsgcGFyc2VJbnQodmFsdWUubWV0ZXJzKSArICc8L3RkPjx0ZD4nICsgZm10TVNTKHBhcnNlSW50KHZhbHVlLnNlY29uZHMpKSArICc8L3RkPic7XG4gICAgICAgICAgICBodG1sICs9ICc8dGQ+JyArIE1hdGgucm91bmQocGFyc2VGbG9hdCh2YWx1ZS53YXR0KSAqIDEwKSAvIDEwICsgJ3c8L3RkPjwvdHI+JztcbiAgICAgICAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgICAgICAgICAgbGFwTnVtLS07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxhcE51bSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBodG1sO1xufVxuXG5cbnZhciBjcmVhdGVDYXJkID0gZnVuY3Rpb24gKGh0bWxDYXJkcywgc2Vzc2lvbikge1xuICAgIGh0bWxDYXJkcyArPSAnPGRpdiBjbGFzcz1cImNhcmQgZ3B4LXRyYWNrXCIgZGF0YS1uYW1lPVwiJyArIHNlc3Npb24ubmFtZSArICdcIlwiPic7XG4gICAgaHRtbENhcmRzICs9ICc8ZGl2IGNsYXNzPVwiY2FyZC1ib2R5XCI+JztcbiAgICBodG1sQ2FyZHMgKz0gJzxkaXYgY2xhc3M9XCJjYXJkLW1hcC10b3AgXCI+PC9kaXY+JztcbiAgICBodG1sQ2FyZHMgKz0gJzxoNSBjbGFzcz1cImNhcmQtdGl0bGUgbXQtMlwiPjxhIGNsYXNzPVwic2Vzc2lvbnNcIiBkYXRhLW5hbWU9XCInICsgc2Vzc2lvbi5uYW1lICsgJ1wiIGhyZWY9XCIvc2Vzc2lvblwiPicgKyB1dGlscy5zZXNzaW9uTmFtZVRvUmVhZGFibGUoc2Vzc2lvbi5uYW1lKSArICc8L2E+PC9oNT4nO1xuICAgIGh0bWxDYXJkcyArPSAnPHAgY2xhc3M9XCJjYXJkLXRleHRcIj5MZW5ndGg6ICcgKyBwYXJzZUludChzZXNzaW9uLmVuZFN0YXRzLm1ldGVycykgKyAnbSwgVGltZTogJyArIGZtdE1TUyhwYXJzZUludChzZXNzaW9uLmVuZFN0YXRzLnNlY29uZHMpKSArICc8L3A+JztcbiAgICBodG1sQ2FyZHMgKz0gJzxhIGhyZWY9XCIvc3RyYXZhL3VwbG9hZC8nICsgc2Vzc2lvbi5uYW1lICsgJ1wiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IHN0cmF2YSBidG4tYmxvY2tcIj5VcGxvYWQgdG8gU3RyYXZhPC9hPic7XG4gICAgaHRtbENhcmRzICs9ICc8L2Rpdj4nO1xuICAgIGh0bWxDYXJkcyArPSAnPC9kaXY+JztcbiAgICByZXR1cm4gaHRtbENhcmRzO1xufTtcblxuXG52YXIgY3JlYXRlTGFwVGFibGVSZWNvcmQgPSBmdW5jdGlvbiAoaHRtbFRhYmxlLCBpbmRleCwgc2Vzc2lvbiwgdXNlck1hcCkge1xuICAgIHZhciB1c2VyID0gdXNlck1hcFtzZXNzaW9uLnVzZXJdO1xuICAgIGh0bWxUYWJsZSArPSAnPHRyPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGggc2NvcGU9XCJyb3dcIj4nICsgKGluZGV4ICsgMSkgKyAnPC90aD4nO1xuICAgIGh0bWxUYWJsZSArPSAnPHRkPjxhIGNsYXNzPVwic2Vzc2lvbnNcIiBkYXRhLW5hbWU9XCInICsgc2Vzc2lvbi5uYW1lICsgJ1wiIGhyZWY9XCIvP25hbWU9JytzZXNzaW9uLm5hbWUrJyNzZXNzaW9uXCI+JyArIHV0aWxzLnNlc3Npb25OYW1lVG9SZWFkYWJsZShzZXNzaW9uLm5hbWUpICsgJzwvYT48L3RkPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+TGVuZ3RoOiAnICsgcGFyc2VJbnQoc2Vzc2lvbi5lbmRTdGF0cy5tZXRlcnMpICsgJ208L3RkPic7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgICAgaHRtbFRhYmxlICs9ICc8dGQ+JyArIHVzZXIuZmlyc3ROYW1lICsgJyAnICsgdXNlci5sYXN0TmFtZSArICc8L3RkPic7IFxuICAgIH0gZWxzZSB7XG4gICAgICAgIGh0bWxUYWJsZSArPSAnPHRkPjwvdGQ+JzsgXG4gICAgfVxuICAgIGh0bWxUYWJsZSArPSAnPHRkPiA8YSBocmVmPVwiL3Nlc3Npb25zLycgKyBzZXNzaW9uLm5hbWUgKyAnLmdweFwiPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgbWQtMzZcIj5maWxlX2Rvd25sb2FkPC9pPjxhIGNsYXNzPVwic3RyYXZhXCIgaHJlZj1cIi9zdHJhdmEvdXBsb2FkLycgKyBzZXNzaW9uLm5hbWUgKyAnXCI+PGkgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdGl0bGU9XCJVcGxvYWQgdG8gU3RyYXZhXCIgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBtZC0zNlwiPmNsb3VkX3VwbG9hZDwvaT48L2E+IDxhIGNsYXNzPVwiZGVsLXNlc3Npb25cIiBocmVmPVwiI1wiIGRhdGEtbmFtZT1cIicgKyBzZXNzaW9uLm5hbWUgKyAnXCI+PGkgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdGl0bGU9XCJEZWxldGUgc2Vzc2lvbiBsb2NhbFwiIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgbWQtMzZcIj5kZWxldGU8L2k+PC9hPjwvdGQ+JztcbiAgICBodG1sVGFibGUgKz0gJzwvdHI+JztcbiAgICByZXR1cm4gaHRtbFRhYmxlO1xufTtcblxudmFyIGNyZWF0ZVJvdXRlUmVjb3JkID0gZnVuY3Rpb24gKGh0bWxUYWJsZSwgaW5kZXgsIHJvdXRlKSB7XG4gICAgaHRtbFRhYmxlICs9ICc8dHI+JztcbiAgICBodG1sVGFibGUgKz0gJzx0aCBzY29wZT1cInJvd1wiPicgKyAoaW5kZXggKyAxKSArICc8L3RoPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+PGEgZGF0YS10b2dnbGU9XCJtb2RhbFwiIGRhdGEtcm91dGUtbmFtZT1cIicgKyByb3V0ZS5uYW1lICsgJ1wiIGRhdGEtdGFyZ2V0PVwiI3Nob3ctcm91dGUtbW9kYWxcIiBocmVmPVwiL3JvdXRlcy8nICsgcm91dGUubmFtZSArICdcIj4nICsgcm91dGUubmFtZSArICc8L2E+PC90ZD4nO1xuICAgIGh0bWxUYWJsZSArPSAnPHRkPicgKyBwYXJzZUludChyb3V0ZS5tZXRlcnMpICsgJ208L3RkPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+JyArIHJvdXRlLmNvdW50cnkgKyAnPC90ZD4nO1xuICAgIGh0bWxUYWJsZSArPSAnPHRkPidcbiAgICBpZiAocm91dGUucGVybWFuZW50ICE9PSB0cnVlKSB7XG4gICAgICAgIGh0bWxUYWJsZSArPSAnPGEgY2xhc3M9XCJlZGl0LXJvdXRlXCIgaHJlZj1cIiNcIiBkYXRhLWlkPVwiJyArIHJvdXRlLm5hbWUgKyAnXCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmNyZWF0ZTwvaT48L2E+PGEgY2xhc3M9XCJkZWwtcm91dGVcIiBocmVmPVwiI1wiIGRhdGEtaWQ9XCInICsgcm91dGUubmFtZSArICdcIj48aSBhcmlhLWhpZGRlbj1cInRydWVcIiB0aXRsZT1cIkRlbGV0ZSByb3V0ZVwiIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5kZWxldGU8L2k+PC9hPicgKyAnPC90ZD4nO1xuICAgIH1cbiAgICBodG1sVGFibGUgKz0gJzwvdHI+JztcbiAgICByZXR1cm4gaHRtbFRhYmxlO1xufTtcblxudmFyIGFkZEdweFRyYWNrVG9NYXAgPSBmdW5jdGlvbiAobmFtZSwgZWxlbWVudCkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgdXJsOiAnL3Nlc3Npb25zLycgKyBuYW1lICsgJy5ncHgnLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHhtbCkge1xuICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChlbGVtZW50WzBdLCB7XG4gICAgICAgICAgICAgICAgICAgIHpvb206IDE2XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBtYXAuc2V0KCdzdHlsZXMnLCBtYXBVdGlscy5zdHlsZXMpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMoKTtcblxuICAgICAgICAgICAgICAgICQoeG1sKS5maW5kKFwidHJrcHRcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXQgPSAkKHRoaXMpLmF0dHIoXCJsYXRcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb24gPSAkKHRoaXMpLmF0dHIoXCJsb25cIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhsYXQsIGxvbik7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHApO1xuICAgICAgICAgICAgICAgICAgICBib3VuZHMuZXh0ZW5kKHApO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBvbHkgPSBtYXBVdGlscy5jcmVhdGVQb2x5TGluZShwb2ludHMpO1xuXG4gICAgICAgICAgICAgICAgcG9seS5zZXRNYXAobWFwKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpdCBib3VuZHMgdG8gdHJhY2tcbiAgICAgICAgICAgICAgICBtYXAuZml0Qm91bmRzKGJvdW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbnZhciBhZGRSb3V0ZVRyYWNrVG9NYXAgPSBmdW5jdGlvbiAobmFtZSwgZWxlbWVudCkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgdXJsOiAnL3JvdXRlcy8nICsgbmFtZSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGVsZW1lbnRbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgem9vbTogOCxcbiAgICAgICAgICAgICAgICAgICAgbWF4Wm9vbTogMTZcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIG1hcC5zZXQoJ3N0eWxlcycsIG1hcFV0aWxzLnN0eWxlcyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5ncHMuZm9yRWFjaChmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhdCA9IHBvaW50LmxhdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvbiA9IHBvaW50LmxvbjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdCwgbG9uKTtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2gocCk7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5leHRlbmQocCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcG9seSA9IG1hcFV0aWxzLmNyZWF0ZVBvbHlMaW5lKHBvaW50cyk7XG5cbiAgICAgICAgICAgICAgICBwb2x5LnNldE1hcChtYXApO1xuXG4gICAgICAgICAgICAgICAgLy8gZml0IGJvdW5kcyB0byB0cmFja1xuICAgICAgICAgICAgICAgIG1hcC5maXRCb3VuZHMoYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gYWRkR3JhcGgodGltZSwgaHIsIHN0YXJ0LCBzdHJva2VzKSB7XG4gICAgdmFyIHNwZWVkID0gW107XG4gICAgdmFyIHdhdHQgPSBbXTtcbiAgICB2YXIgc3Ryb2tlID0gW107XG4gICAgdmFyIHN0cm9rZUNvbnRlciA9IDE7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aW1lLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0aW1lVmFsID0gcGFyc2VJbnQodGltZVtpXSk7XG4gICAgICAgIHZhciBzdHJva2VUaW1lID0gcGFyc2VJbnQoc3Ryb2tlc1tzdHJva2VDb250ZXJdKTtcbiAgICAgICAgdmFyIHNlYyA9ICgodGltZVZhbCAtIHN0YXJ0KSAvIDEwMDApO1xuICAgICAgICB2YXIgbGVuZ2h0ID0gKGdsb2JhbHMuUkFUSU9OIC8gMTAwKTtcbiAgICAgICAgc3BlZWQucHVzaCgoKGxlbmdodCAvIHNlYykpICogMy42KTtcbiAgICAgICAgdmFyIHdhdHRWYWx1ZSA9IHV0aWxzLmNhbGNXYXR0KHNlYyAvIGxlbmdodCk7XG4gICAgICAgIHdhdHQucHVzaCh3YXR0VmFsdWUpO1xuICAgICAgICBzdHJva2UucHVzaCgxMDAwKjYwIC8gKHN0cm9rZVRpbWUgLSBwYXJzZUludChzdHJva2VzW3N0cm9rZUNvbnRlci0xXSkpKTtcbiAgICAgICAgc3RhcnQgPSBwYXJzZUludCh0aW1lW2ldKTtcbiAgICAgICAgaWYgKHRpbWVWYWwgPiBzdHJva2VUaW1lKSB7XG4gICAgICAgICAgICBzdHJva2VDb250ZXIrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vUmVtb3ZlIGV2ZXIgc2Vjb25kIGVsZW1lbnRcbiAgICB2YXIgc3BlZWRNZXJnZWQgPSBbXTtcbiAgICB2YXIgaHJNZXJnZWQgPSBbXTtcbiAgICB2YXIgd2F0dE1lcmdlZCA9IFtdO1xuICAgIHZhciBzdHJva2VNZXJnZWQgPSBbXTtcbiAgICB2YXIgbGFiZWxzTWVyZ2VkID0gW107XG4gICAgdmFyIG1lcmdlU2l6ZSA9IDEwO1xuICAgIGlmICh0aW1lLmxlbmd0aCA+IDEwMDApIHtcbiAgICAgICAgbWVyZ2VTaXplID0gMjA7XG4gICAgfVxuXG4gICAgd2hpbGUgKHRpbWUubGVuZ3RoKSB7XG4gICAgICAgIHZhciBhID0gdGltZS5zcGxpY2UoMCwgbWVyZ2VTaXplKTtcbiAgICAgICAgdmFyIHRpbWVWID0gcGFyc2VJbnQoYS5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKyBiOyB9KSAvIGEubGVuZ3RoKTtcbiAgICAgICAgbGFiZWxzTWVyZ2VkLnB1c2gobmV3IERhdGUodGltZVYpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKG5ldyBEYXRlKHRpbWVWKS50b0lTT1N0cmluZygpLmxhc3RJbmRleE9mKCdUJykgKyAxLCA4KSk7XG4gICAgICAgIGlmIChocikge1xuICAgICAgICAgICAgdmFyIGggPSBoci5zcGxpY2UoMCwgbWVyZ2VTaXplKTtcbiAgICAgICAgICAgIGlmIChoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBock1lcmdlZC5wdXNoKHBhcnNlSW50KGgucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICsgYjsgfSkgLyBoLmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJva2UpIHtcbiAgICAgICAgICAgIHZhciBoID0gc3Ryb2tlLnNwbGljZSgwLCBtZXJnZVNpemUpO1xuICAgICAgICAgICAgaWYgKGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHN0cm9rZU1lcmdlZC5wdXNoKE1hdGgucm91bmQocGFyc2VGbG9hdChoLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSArIGI7IH0pIC8gaC5sZW5ndGgpICogMTApIC8gMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzcGVlZCkge1xuICAgICAgICAgICAgdmFyIHMgPSBzcGVlZC5zcGxpY2UoMCwgbWVyZ2VTaXplKTtcbiAgICAgICAgICAgIHZhciB3ID0gd2F0dC5zcGxpY2UoMCwgbWVyZ2VTaXplKTtcbiAgICAgICAgICAgIGlmIChzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzcGVlZE1lcmdlZC5wdXNoKE1hdGgucm91bmQocGFyc2VGbG9hdChzLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSArIGI7IH0pIC8gcy5sZW5ndGgpICogMTApIC8gMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHdhdHRNZXJnZWQucHVzaChNYXRoLnJvdW5kKHBhcnNlRmxvYXQody5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKyBiOyB9KSAvIHcubGVuZ3RoKSAqIDEwKSAvIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjdHggPSAkKCcjaHItZ3JhcGgnKTtcbiAgICB2YXIgbGluZUNoYXJ0RGF0YSA9IHtcbiAgICAgICAgbGFiZWxzOiBsYWJlbHNNZXJnZWQsXG4gICAgICAgIGRhdGFzZXRzOiBbe1xuICAgICAgICAgICAgbGFiZWw6ICdIZWFydCByYXRlIChicG0pJyxcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnI2RjMzU0NScsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZGMzNTQ1JyxcbiAgICAgICAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgICAgICAgZGF0YTogaHJNZXJnZWQsXG4gICAgICAgICAgIC8vIGN1YmljSW50ZXJwb2xhdGlvbk1vZGU6ICdtb25vdG9uZScsXG4gICAgICAgICAgICB5QXhpc0lEOiAneS1heGlzLTEnLFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBsYWJlbDogJ1NwZWVkIChrbS90KScsXG4gICAgICAgICAgICBib3JkZXJDb2xvcjogJyMwMDdiZmYnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwN2JmZicsXG4gICAgICAgICAgICBmaWxsOiBmYWxzZSxcbiAgICAgICAgICAgIGRhdGE6IHNwZWVkTWVyZ2VkLFxuICAgICAgICAgICAgLy9jdWJpY0ludGVycG9sYXRpb25Nb2RlOiAnbW9ub3RvbmUnLFxuICAgICAgICAgICAgeUF4aXNJRDogJ3ktYXhpcy0yJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBsYWJlbDogJ1dhdHQnLFxuICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjNGJjMGMwJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM0YmMwYzAnLFxuICAgICAgICAgICAgZmlsbDogZmFsc2UsXG4gICAgICAgICAgICBkYXRhOiB3YXR0TWVyZ2VkLFxuICAgICAgICAgICAgbGluZVRlbnNpb246IDAsXG4gICAgICAgICAgICAvL2N1YmljSW50ZXJwb2xhdGlvbk1vZGU6ICdtb25vdG9uZScsXG4gICAgICAgICAgICB5QXhpc0lEOiAneS1heGlzLTMnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxhYmVsOiAnU3Ryb2tlIHJhdGUgKHNwbSknLFxuICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjOTk2NkZGJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM5OTY2RkYnLFxuICAgICAgICAgICAgZmlsbDogZmFsc2UsXG4gICAgICAgICAgICBkYXRhOiBzdHJva2VNZXJnZWQsXG4gICAgICAgICAgICB5QXhpc0lEOiAneS1heGlzLTQnXG4gICAgICAgIH1dXG4gICAgfTtcbiAgICB2YXIgbXlMaW5lQ2hhcnQgPSBDaGFydC5MaW5lKGN0eCwge1xuICAgICAgICBkYXRhOiBsaW5lQ2hhcnREYXRhLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxuICAgICAgICAgICAgaG92ZXJNb2RlOiAnaW5kZXgnLFxuICAgICAgICAgICAgc3RhY2tlZDogZmFsc2UsXG4gICAgICAgICAgICBzY2FsZXM6IHtcbiAgICAgICAgICAgICAgICB5QXhlczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcicsIC8vIG9ubHkgbGluZWFyIGJ1dCBhbGxvdyBzY2FsZSB0eXBlIHJlZ2lzdHJhdGlvbi4gVGhpcyBhbGxvd3MgZXh0ZW5zaW9ucyB0byBleGlzdCBzb2xlbHkgZm9yIGxvZyBzY2FsZSBmb3IgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdsZWZ0JyxcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICd5LWF4aXMtMScsXG4gICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0ZWRNaW46IDMwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcFNpemU6IDVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcicsIC8vIG9ubHkgbGluZWFyIGJ1dCBhbGxvdyBzY2FsZSB0eXBlIHJlZ2lzdHJhdGlvbi4gVGhpcyBhbGxvd3MgZXh0ZW5zaW9ucyB0byBleGlzdCBzb2xlbHkgZm9yIGxvZyBzY2FsZSBmb3IgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyaWdodCcsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAneS1heGlzLTInLFxuICAgICAgICAgICAgICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcFNpemU6IDJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZ3JpZCBsaW5lIHNldHRpbmdzXG4gICAgICAgICAgICAgICAgICAgIGdyaWRMaW5lczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd09uQ2hhcnRBcmVhOiBmYWxzZSAvLyBvbmx5IHdhbnQgdGhlIGdyaWQgbGluZXMgZm9yIG9uZSBheGlzIHRvIHNob3cgdXBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZWFyJywgLy8gb25seSBsaW5lYXIgYnV0IGFsbG93IHNjYWxlIHR5cGUgcmVnaXN0cmF0aW9uLiBUaGlzIGFsbG93cyBleHRlbnNpb25zIHRvIGV4aXN0IHNvbGVseSBmb3IgbG9nIHNjYWxlIGZvciBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICd5LWF4aXMtMycsXG4gICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwU2l6ZTogMjVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZ3JpZCBsaW5lIHNldHRpbmdzXG4gICAgICAgICAgICAgICAgICAgIGdyaWRMaW5lczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd09uQ2hhcnRBcmVhOiBmYWxzZSAvLyBvbmx5IHdhbnQgdGhlIGdyaWQgbGluZXMgZm9yIG9uZSBheGlzIHRvIHNob3cgdXBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZWFyJywgLy8gb25seSBsaW5lYXIgYnV0IGFsbG93IHNjYWxlIHR5cGUgcmVnaXN0cmF0aW9uLiBUaGlzIGFsbG93cyBleHRlbnNpb25zIHRvIGV4aXN0IHNvbGVseSBmb3IgbG9nIHNjYWxlIGZvciBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICd5LWF4aXMtNCcsXG4gICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwU2l6ZTogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RlZE1pbjogMTAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIGdyaWQgbGluZSBzZXR0aW5nc1xuICAgICAgICAgICAgICAgICAgICBncmlkTGluZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdPbkNoYXJ0QXJlYTogZmFsc2UgLy8gb25seSB3YW50IHRoZSBncmlkIGxpbmVzIGZvciBvbmUgYXhpcyB0byBzaG93IHVwXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9