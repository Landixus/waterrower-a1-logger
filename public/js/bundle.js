!function(e){var t={};function a(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";a.r(t);const s=2.8;var n={calcWatt:function(e){return s/Math.pow(e,3)},sessionNameToReadable:function(e){return moment(e.slice(0,13)+":"+e.slice(13,15)+":"+e.slice(15)).format("YYYY-MM-DD hh:mm:ss")},getHeartRateColor:function(e){return e<125?"text-success":e<150?"text-primary":e<175?"text-warning":"text-danger"},getUrlParameter:function(e){var t,a,s=decodeURIComponent(window.location.search.substring(1)).split("&");for(a=0;a<s.length;a++)if((t=s[a].split("="))[0]===e)return void 0===t[1]||t[1]},fmtMSS:function(e){var t=new Date(null);return t.setSeconds(e),t.toISOString().substr(11,8)},QueryString:function(e){for(var t={},a=(e.split("?")[1]||"").split("&"),s=0;s<a.length;s++){var n=a[s].split("=");if(void 0===t[n[0]])t[n[0]]=decodeURIComponent(n[1]);else if("string"==typeof t[n[0]]){var o=[t[n[0]],decodeURIComponent(n[1])];t[n[0]]=o}else t[n[0]].push(decodeURIComponent(n[1]))}return t}},o={livePoints:[],liveMap:void 0,liveBounds:void 0};const i=[{featureType:"landscape",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]}];function r(){var e=document.getElementById("live-map");e&&(o.liveMap=new google.maps.Map(e,{zoom:8,maxZoom:16}),o.liveBounds=new google.maps.LatLngBounds,o.liveMap.set("styles",i))}function l(e){return new google.maps.Polyline({path:e,strokeColor:"#FF00AA",strokeOpacity:.7,strokeWeight:4})}var d=function(e,t){e&&$.ajax({type:"GET",url:"/sessions/"+e+".gpx",success:function(e){var a=[],s=new google.maps.Map(t[0],{zoom:16});s.set("styles",i);var n=new google.maps.LatLngBounds;$(e).find("trkpt").each(function(){var e=$(this).attr("lat"),t=$(this).attr("lon"),s=new google.maps.LatLng(e,t);a.push(s),n.extend(s)}),l(a).setMap(s),s.fitBounds(n)}})};var c={cleanMap:function(){r(),o.livePoints=[],l(o.livePoints).setMap(o.liveMap),"function"==typeof o.liveMap.fitBounds&&o.liveMap.fitBounds(o.liveBounds)},initMap:r,styles:i,addRouteTrackToMap:function(e,t){e&&$.ajax({type:"GET",url:"/routes/"+e,success:function(e){var a=[],s=new google.maps.Map(t[0],{zoom:8,maxZoom:16});s.set("styles",i);var n=new google.maps.LatLngBounds;e.gps.forEach(function(e){var t=e.lat,s=e.lon,o=new google.maps.LatLng(t,s);a.push(o),n.extend(o)}),l(a).setMap(s),s.fitBounds(n)}})},addGpxTrackToMap:d,loadGpxMap:function(){var e=$(this).data("name"),t=$(this).find(".card-map-top");d(e,t)},createPolyLine:l};const u=100/4.805*6,p=10;var f={RATION:u,PAGE_SIZE:p,UPDATE_FREQ:1e3,run:!1};var v={addGraph:function(e,t,a,s){for(var o=[],i=[],r=[],l=1,d=1;d<e.length;d++){var c=parseInt(e[d]),p=parseInt(s[l]),f=(c-a)/1e3,v=u/100;o.push(v/f*3.6);var m=n.calcWatt(f/v);i.push(m),r.push(6e4/(p-parseInt(s[l-1]))),a=parseInt(e[d]),c>p&&l++}var h=[],g=[],y=[],b=[],w=[],x=10;for(e.length>1e3&&(x=20);e.length;){var I,S=e.splice(0,x),k=parseInt(S.reduce(function(e,t){return e+t})/S.length);if(w.push(new Date(k).toISOString().substr(new Date(k).toISOString().lastIndexOf("T")+1,8)),t&&(I=t.splice(0,x)).length>0&&g.push(parseInt(I.reduce(function(e,t){return e+t})/I.length)),r&&(I=r.splice(0,x)).length>0&&b.push(Math.round(10*parseFloat(I.reduce(function(e,t){return e+t})/I.length))/10),o){var R=o.splice(0,x),M=i.splice(0,x);R.length>0&&h.push(Math.round(10*parseFloat(R.reduce(function(e,t){return e+t})/R.length))/10),M.length>0&&y.push(Math.round(10*parseFloat(M.reduce(function(e,t){return e+t})/M.length))/10)}}var T=$("#hr-graph"),U={labels:w,datasets:[{label:"Heart rate (bpm)",borderColor:"#dc3545",backgroundColor:"#dc3545",fill:!1,data:g,yAxisID:"y-axis-1"},{label:"Speed (km/t)",borderColor:"#007bff",backgroundColor:"#007bff",fill:!1,data:h,yAxisID:"y-axis-2"},{label:"Watt",borderColor:"#4bc0c0",backgroundColor:"#4bc0c0",fill:!1,data:y,lineTension:0,yAxisID:"y-axis-3"},{label:"Stroke rate (spm)",borderColor:"#9966FF",backgroundColor:"#9966FF",fill:!1,data:b,yAxisID:"y-axis-4"}]};Chart.Line(T,{data:U,options:{responsive:!0,hoverMode:"index",stacked:!1,scales:{yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1",ticks:{suggestedMin:30,min:0,stepSize:5}},{type:"linear",display:!0,position:"right",id:"y-axis-2",ticks:{stepSize:2},gridLines:{drawOnChartArea:!1}},{type:"linear",display:!0,position:"right",id:"y-axis-3",ticks:{stepSize:25},gridLines:{drawOnChartArea:!1}},{type:"linear",display:!0,position:"right",id:"y-axis-4",ticks:{stepSize:2,suggestedMin:10},gridLines:{drawOnChartArea:!1}}]}}})}},m=function(e,t,a){return e+="<tr>",e+='<th scope="row">'+(t+1)+"</th>",e+='<td><a data-toggle="modal" data-route-name="'+a.name+'" data-target="#show-route-modal" href="/routes/'+a.name+'">'+a.name+"</a></td>",e+="<td>"+parseInt(a.meters)+"m</td>",e+="<td>"+a.country+"</td>",e+="<td>",!0!==a.permanent?e+='<a class="edit-route" href="#" data-id="'+a.name+'"><i class="material-icons">create</i></a><a class="del-route" href="#" data-id="'+a.name+'"><i aria-hidden="true" title="Delete route" class="material-icons">delete</i></a></td>':e+="<i>Default</i>",e+="</tr>"};function h(e){$("#load").load("/route",function(){$(this).find("#routes-t").each(function(){y(0),g($("#routes-table").find(".page")[0],e)})})}function g(e,t){var a=$('<ul id="route-page" data-index="'+t+'"></ul>').addClass("pagination pagination-lg");$.get("routes/size",function(s){var n=parseInt(parseInt(s)/p)+1,o=t===n-1?"disabled":"",i=$('<li class="page-item '+(0===t?"disabled":"")+'"></li>').append('<a class="page-link" href="#" data-next="-1" tabindex="-1">Previous</a>'),r=$('<li class="page-item '+o+'"></li>').append('<a class="page-link" data-next="1" href="#">Next</a>');a.append(i);for(var l=0;l<n;l++){var d="";t===l&&(d="active");var c=$('<li class="page-item '+d+'"><a class="page-link" data-index="'+l+'" href="#">'+(l+1)+"</a></li>");a.append(c)}a.append(r),$(e).html(a)})}function y(e){var t=e*p,a=(e+1)*p-1;$.get("/routes/"+t+"/"+a,function(t){var a="",s=0;t.forEach(function(t){a=m(a,s+e*p,t),s++}),$("#routes-table-body").html(a),$("#add-route-modal").on("hidden.bs.modal",function(e){h(0)})})}function b(){var e=$("#routes").find(":selected");c.cleanMap();var t=e.data("name");c.addRouteTrackToMap(t,$("#live-map"))}var w={loadRoutes:function(){var e=this;$.get("/row/routes",function(t){var a="",s="";t.sort(function(e,t){return e.country>t.country?1:t.country>e.country?-1:0});var n='selected="selected"';t.forEach(function(e){e.country!==s&&(a+='<optgroup label="'+e.country+'">',s=e.country),a+="<option "+n+' value="'+e.index+'" data-name="'+e.name+'" data-lat="'+e.gps[0].lat+'" data-lon="'+e.gps[0].lon+'">'+e.name+" ("+e.meters+"m)</option>",n=""}),$(e).html(a),b()})},createRouteRecord:m,loadRoute:h,loadRouteTable:y,createRouteNavPage:g,editRoute:function(e){e.preventDefault();var t=$(this).data("id");$.ajax({url:"/routes/"+t,type:"GET",success:function(e){var t=$("#addRoute");t.find("#name").val(e.name),t.find("#meters").val(e.meters),t.find("#segmentId").val(e.segmentId),t.find("#countries").val(e.country);var a=JSON.stringify(e.gps);t.find("#gps").append(a),$("#add-route-modal").modal("show")}})},showRouteModal:function(e){var t=$(e.relatedTarget).data("route-name"),a=$(this);$.get("/routes/"+t,function(e){var t=e.name;e.segementId&&(t='<a class="strava-segment" target="_blank" href="https://www.strava.com/segments/'+e.segementId+' title="Strava Segment Url" ">'+t+" </a>"),a.find("#show-route-modal-title").html(t);var s='<li class="list-group-item"><h5 class="card-title">Display Lenght:</h5>'+e.meters+" m</li>";s+='<li class="list-group-item"><h5 class="card-title">Gps Lenght:</h5>'+e.gpsLenght+" m</li>",s+='<li class="list-group-item"><h5 class="card-title">Country:</h5>'+e.country+"</li>",a.find(".card .list-group").html(s)})},changeRouteSelect:b,deleteRoute:function(e){e.preventDefault();var t=$(this).data("id");confirm("Are you sure you want to delete route?")&&$.ajax({url:"/routes/"+t,type:"DELETE",success:function(e){route.loadRoute(0)}})},saveRoute:function(e){e.preventDefault();var t=$("#addRoute"),a={};a.name=t.find("#name").val(),a.meters=t.find("#meters").val(),a.stravaId=t.find("#segmentId").val(),a.country=t.find("#countries").val(),a.gps=t.find("textarea").val(),$.ajax({type:"PUT",contentType:"application/json",dataType:"json",url:"/routes/add",data:JSON.stringify(a),success:function(){$("#add-route-modal").modal("hide")}})},openRoute:function(e){e.preventDefault();var t=parseInt($(this).data("next")),a=parseInt($(this).data("index")),s=parseInt($("#route-page").data("index"));isNaN(t)?isNaN(a)||(s=a):s+=t,g($("#routes-table").find(".page")[0],s),y(s)}};var x={loadUsers:function(){var e=this;$.get("/users",function(t){var a="";t.forEach(function(e){a+='<option value="'+e.id+'">'+e.firstName+" "+e.lastName+"</option>"}),$(e).html(a)})},loadUser:function e(){$("#load").load("/user",function(){$(this).find("#users-body").each(function(){var t=this;$.get("/users/",function(a){for(var s="",n=0;n<a.length;n++){var o=a[n];s+='<tr><td><a href="#" data-toggle="modal" data-target="#userStatsModal" data-id="'+o.id+'">'+(n+1)+"</a></td><td>"+o.firstName+"</td><td>"+o.lastName+"</td>",s+='<td><a class="edit-user" href="#" data-id="'+o.id+'"><i class="material-icons">create</i></a><a class="del-user" href="#" data-id="'+o.id+'"><i aria-hidden="true" title="Delete user" class="material-icons">delete</i></a></td></tr>'}$(t).html(s),$("#addUserModal").on("hidden.bs.modal",function(t){e()})})})})},editUser:function(e){e.preventDefault();var t=$(this).data("id");$.ajax({url:"/users/"+t,type:"GET",success:function(e){var t=$("#addUserForm");t.find("#firstName").val(e.firstName),t.find("#lastName").val(e.lastName),t.find("#userId").val(e.id),$.get("/strava/url",function(t){var a=t.url.replace("%24",e.id);$(".strava-url").attr("href",a)}),$(".strava-connect").removeClass("sr-only"),$("#addUserModal").modal("show")}})},saveUser:function(e){e.preventDefault();var t=$("#addUserForm"),a=t.find("#firstName").val(),s=t.find("#lastName").val(),n=t.find("#userId").val(),o={};o.firstName=a,o.lastName=s,o.id=n,$.ajax({type:"PUT",contentType:"application/json",dataType:"json",url:"/users/add",data:JSON.stringify(o),success:function(){$("#addUserModal").modal("hide")}})},deleteUser:function(e){e.preventDefault();var t=$(this).data("id");confirm("Are you sure you want to delete?")&&$.ajax({url:"/users/"+t,type:"DELETE",success:function(e){user.loadUser()}})}};function I(e){$("#load").load("/history",function(){$(this).find("#history").each(function(){$.get("/session/0/2",function(e){var t="";e.forEach(function(e){t=k(t,e)}),$("#cards").html('<div class="col"><div class="card-deck">'+t+"</div></div>"),$(".gpx-track").each(function(){$(this).trigger("load-map",this)})}),S($(this),e)})})}function S(e,t){var a=t*p,s=(t+1)*p-1;$.get("/session/"+a+"/"+s,function(a){$.get("/users",function(s){var n="",o=0,i=s.reduce(function(e,t){return e[t.id]=t,e},{});a.forEach(function(e){n=R(n,o+t*p,e,i),o++}),$("#histor-table-body").html(n),function(e,t){var a=$('<ul id="history-page" data-index="'+t+'"></ul>').addClass("pagination pagination-lg");$.get("session/size",function(s){var n=parseInt(parseInt(s)/p)+1,o=0===t?"disabled":"",i=t===n-1?"disabled":"",r=$('<li class="page-item '+o+'"></li>').append('<a class="page-link" href="#" data-next="-1" tabindex="-1">Previous</a>'),l=$('<li class="page-item '+i+'"></li>').append('<a class="page-link" data-next="1" href="#">Next</a>');a.append(r);for(var d=0;d<n;d++){var c="";t===d&&(c="active");var u=$('<li class="page-item '+c+'"><a class="page-link" data-index="'+d+'" href="#">'+(d+1)+"</a></li>");a.append(u)}a.append(l),$(e).html(a)})}(e.find(".page"),t)})})}var k=function(e,t){return e+='<div class="card gpx-track" data-name="'+t.name+'"">',e+='<div class="card-body">',e+='<div class="card-map-top "></div>',e+='<h5 class="card-title mt-2"><a class="sessions" data-name="'+t.name+'" href="/session">'+n.sessionNameToReadable(t.name)+"</a></h5>",e+='<p class="card-text">Length: '+parseInt(t.endStats.meters)+"m, Time: "+n.fmtMSS(parseInt(t.endStats.seconds))+"</p>",e+='<a href="/strava/upload/'+t.name+'" class="btn btn-primary strava btn-block">Upload to Strava</a>',e+="</div>",e+="</div>"},R=function(e,t,a,s){var o=s[a.user];return e+="<tr>",e+='<th scope="row">'+(t+1)+"</th>",e+='<td><a class="sessions" data-name="'+a.name+'" href="/?name='+a.name+'#session">'+n.sessionNameToReadable(a.name)+"</a></td>",e+="<td>Length: "+parseInt(a.endStats.meters)+"m</td>",e+=o?"<td>"+o.firstName+" "+o.lastName+"</td>":"<td></td>",e+='<td> <a href="/sessions/'+a.name+'.gpx"><i class="material-icons md-36">file_download</i><a class="strava" href="/strava/upload/'+a.name+'"><i aria-hidden="true" title="Upload to Strava" class="material-icons md-36 strava-icon">cloud_upload</i></a> <a class="del-session" href="#" data-name="'+a.name+'"><i aria-hidden="true" title="Delete session local" class="material-icons md-36">delete</i></a></td>',e+="</tr>"};var M={loadHistoryIndex:function(e){I(e)},loadHistory:I,loadHistoryList:S,openHistory:function(e){e.preventDefault();var t=parseInt($(this).data("next")),a=parseInt($(this).data("index")),s=parseInt($("#history-page").data("index"));isNaN(t)?isNaN(a)||(s=a):s+=t,S($("#history-table"),s)}};function T(e){$("#load").load("/sessions",function(){$(this).find("#routes").each(w.loadRoutes),$(this).find("#session-user").each(x.loadUsers),$(this).find("#history-session").each(function(){$.get("/session/"+e,function(t){var a=A.getHtml("History",t.endStats,!0);$("#routes").val(t.route),$("#session-user").val(t.user),a&&($("#table-content").html(a),$("#laps-body").html(U("History",t.endStats)),c.addGpxTrackToMap(e,$("#live-map"))),v.addGraph(t.raw,t.rawHr,parseInt(t.start),t.stroke)})})})}function U(e,t,a){var s="";if(parseInt(t.totalLaps)>0){var o=1,i=t.laps;a&&(i.reverse(),o=i.length),i.forEach(function(e){s+='<tr><th scope="row">'+o+"</th><td>"+parseInt(e.meters)+"</td><td>"+n.fmtMSS(parseInt(e.seconds))+"</td>",s+="<td>"+Math.round(10*parseFloat(e.watt))/10+"w</td></tr>",a?o--:o++})}return s}var N,D={loadSession:T,clickSession:function(e){e.preventDefault(),T($(this).data("name"))},getLapHtml:U,deleteSession:function(e){e.preventDefault();var t=$(this).data("name");confirm("Are you sure you want to delete session?")&&$.ajax({url:"/session/del/"+t,type:"DELETE",success:function(e){alert("Session deleted"),M.loadHistoryIndex(0,0)}})}};function C(){$("#load").load("/main",function(){$(this).find("#routes").each(w.loadRoutes),$(this).find("#session-user").each(x.loadUsers),$.get("/row/status",function(e){if("ROWING"===e.status){var t=$("#startRow");n.getUrlParameter("test")&&(t=$("#startSimulator")),L(t)}}),n.getUrlParameter("test")&&$("#startRow").attr("id","startSimulator")})}function L(e){$(window).scrollTop($("#main").offset().top),E(!0,"Rowing"),c.cleanMap(),$("#routes").attr("disabled","disabled"),$("#session-user").attr("disabled","disabled"),$("#startSimulator").attr("disabled","disabled"),$(e).attr("disabled","disabled"),$(e).html("Rowing..."),$(e).addClass("d-none"),$("#stopRow").removeClass("d-none")}function E(e,t){f.run=e,$.get("/row",function(e){var a=P(t,e);if(a){$("#table-content").html(a),$("#laps-body").html(D.getLapHtml(t,e,!0));var s=e.gps.lat,n=e.gps.lon,i=new google.maps.LatLng(s,n);if(o.livePoints.push(i),o.liveBounds)o.liveBounds.extend(i),c.createPolyLine(o.livePoints).setMap(o.liveMap),o.liveMap.fitBounds(o.liveBounds)}}).done(function(){f.run&&(N=setTimeout(function(){E(!0,t)},f.UPDATE_FREQ))})}function P(e,t,a){if(0!==parseInt(t.meters)){var s="";return a&&(s+='<div class="row"><div class="col-sm-4">Day</div><div class="col">'+t.start.substr(2,t.start.lastIndexOf("T")-2)+"</div></div>"),s+='<div class="row"><div class="col-sm-4">Start:</div><div class="col">'+t.start.substr(t.start.lastIndexOf("T")+1,8)+"</div></div>",s+='<div class="row"><div class="col-sm-4">Time:</div><div class="col">'+n.fmtMSS(parseInt(t.seconds))+"</div></div>",s+='<div class="row"><div class="col-sm-4">Length:</div><div class="col">'+parseInt(t.meters)+" m ("+parseInt(t.routeLap)+")</div></div>",s+='<div class="row"><div class="col-sm-4">Pace:</div><div class="col">'+Math.round(3.6*parseFloat(t.pace)*10)/10+" km/t</div></div>",s+='<div class="row"><div class="col-sm-4">500m:</div><div class="col">'+n.fmtMSS(parseInt(t.lapPace))+"</div></div>",s+='<div class="row"><div class="col-sm-4">2k:</div><div class="col">'+n.fmtMSS(parseInt(t.towKPace))+"</div></div>",s+='<div class="row"><div class="col-sm-4">Avg.W:</div><div class="col">'+Math.round(10*parseFloat(t.watt))/10+"w</div></div>",s+='<div class="row"><div class="col-sm-4">SR:</div><div class="col">'+Math.round(10*parseFloat(t.stroke))/10+"</div></div>",parseInt(t.hr)>0&&(s+='<div class="row"><div class="col-sm-4">HR:</div><div class="col '+n.getHeartRateColor(parseInt(t.hr))+'">'+parseInt(t.hr)+(parseInt(t.avgHr)>0?"("+parseInt(t.avgHr)+")":"")+"</div></div>"),t.fileName&&(s+='<div class="row"><div class="col-sm-4">Actions:</div><div class="col"><a href="/sessions/'+t.fileName,s+='"><i class="material-icons">file_download</i><a class="strava" href="/strava/upload/'+t.name,s+='"><i aria-hidden="true" title="Upload to strava" class="material-icons">cloud_upload</i></a>',s+='<a class="sessions" data-name="'+t.name+'" href="/sessions"><i aria-hidden="true" title="Session" class="material-icons">fiber_new</i></a></div></div>'),s+""}}var A={loadMain:C,start:L,get_rowInfo:E,getHtml:P,startRow:function(e){e.preventDefault();var t=$("#routes").val(),a=this;$.get("/row/start",{routes:t},function(){L(a)})},stopRow:function(e){e.preventDefault();var t=$(this);clearTimeout(N),f.run=!1;var a=$("#routes").val(),s=$("#session-user").val();$.get("/row/stop",{routes:a,user:s},function(e){$("#table-content").html(P(0,e,!1));var a=$("#startRow");a.removeAttr("disabled"),a.removeClass("d-none"),a.html("Start row"),t.addClass("d-none"),$("#routes").removeAttr("disabled"),$("#session-user").removeAttr("disabled"),$("#startSimulator").removeAttr("disabled")})},load:function(){switch(window.location.hash){case"#route":w.loadRoute(0);break;case"#user":x.loadUser();break;case"#history":M.loadHistory(0);break;case"#session":D.loadSession(n.QueryString.name);break;default:C()}},uploadToStrava:function(e){e.preventDefault();var t=$(this).attr("href");$.get(t,function(e){console.log(e),alert("Uploaded to strava!")})}};window.QueryString=function(){for(var e={},t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var s=t[a].split("=");if(void 0===e[s[0]])e[s[0]]=decodeURIComponent(s[1]);else if("string"==typeof e[s[0]]){var n=[e[s[0]],decodeURIComponent(s[1])];e[s[0]]=n}else e[s[0]].push(decodeURIComponent(s[1]))}return e}(),$(function(){A.get_rowInfo(!1,""),$(document).on("click",".main",function(e){A.loadMain()}),$(document).on("click","#user",function(e){x.loadUser()}),$(document).on("click","#history-page a",M.openHistory),$(document).on("click","#route-page a",w.openRoute),$(document).on("click",".nav-link",function(e){$("#main-nav").find(".nav-item").each(function(){$(this).removeClass("active")}),$(this).parent().addClass("active")}),$(document).on("click",".sessions",D.clickSession),$(document).on("click","a#history",function(e){M.loadHistoryIndex(0,0)}),$(document).on("click","a#route",function(e){w.loadRoute(0)}),$(document).on("load-map",".gpx-track",c.loadGpxMap),$(document).on("click","button#startRow",A.startRow),$(document).on("click","button#stopRow",A.stopRow),$(document).on("click",".edit-user",x.editUser),$(document).on("click",".edit-route",w.editRoute),$(document).on("click",".strava",A.uploadToStrava),$(document).on("click",".del-session",D.deleteSession),$(document).on("click","#save-route",w.saveRoute),$(document).on("click","#save-user",x.saveUser),$(document).on("click",".del-user",x.deleteUser),$(document).on("click",".del-route",w.deleteRoute),$("#load").each(A.load),$("#routes").each(w.loadRoutes),$("#session-user").each(x.loadUsers),$(document).on("show.bs.modal","#show-route-modal",w.showRouteModal),$(document).on("shown.bs.modal","#show-route-modal",function(e){var t=$(e.relatedTarget).data("route-name");c.addRouteTrackToMap(t,$("#live-route-map"))}),$(document).on("change","#routes",w.changeRouteSelect)})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL21hcC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3V0aWxzL21hcFV0aWxzLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvdXRpbHMvZ2xvYmFscy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3V0aWxzL2dyYXBoVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy9yb3V0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3VzZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy9oaXN0b3J5L2luZGV4LmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvc2Vzc2lvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL2Zyb250L2luZGV4LmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvbWFpbi5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIldBVFRfUkFUSU9OIiwidXRpbHMiLCJjYWxjV2F0dCIsInBhY2UiLCJNYXRoIiwicG93Iiwic2Vzc2lvbk5hbWVUb1JlYWRhYmxlIiwibW9tZW50Iiwic2xpY2UiLCJmb3JtYXQiLCJnZXRIZWFydFJhdGVDb2xvciIsImhyIiwiZ2V0VXJsUGFyYW1ldGVyIiwic1BhcmFtIiwic1BhcmFtZXRlck5hbWUiLCJzVVJMVmFyaWFibGVzIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJzdWJzdHJpbmciLCJzcGxpdCIsImxlbmd0aCIsInVuZGVmaW5lZCIsImZtdE1TUyIsImRhdGUiLCJEYXRlIiwic2V0U2Vjb25kcyIsInRvSVNPU3RyaW5nIiwic3Vic3RyIiwiUXVlcnlTdHJpbmciLCJVUkwiLCJxdWVyeV9zdHJpbmciLCJ2YXJzIiwicGFpciIsImFyciIsInB1c2giLCJtYXAiLCJsaXZlUG9pbnRzIiwibGl2ZU1hcCIsImxpdmVCb3VuZHMiLCJzdHlsZXMiLCJmZWF0dXJlVHlwZSIsInN0eWxlcnMiLCJzYXR1cmF0aW9uIiwibGlnaHRuZXNzIiwidmlzaWJpbGl0eSIsImVsZW1lbnRUeXBlIiwiaHVlIiwiaW5pdE1hcCIsIm1hcERpdiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnb29nbGUiLCJtYXBzIiwiTWFwIiwiem9vbSIsIm1heFpvb20iLCJMYXRMbmdCb3VuZHMiLCJzZXQiLCJjcmVhdGVQb2x5TGluZSIsInBvaW50cyIsIlBvbHlsaW5lIiwicGF0aCIsInN0cm9rZUNvbG9yIiwic3Ryb2tlT3BhY2l0eSIsInN0cm9rZVdlaWdodCIsImFkZEdweFRyYWNrVG9NYXAiLCJlbGVtZW50IiwiJCIsImFqYXgiLCJ0eXBlIiwidXJsIiwic3VjY2VzcyIsInhtbCIsImJvdW5kcyIsImZpbmQiLCJlYWNoIiwibGF0IiwidGhpcyIsImF0dHIiLCJsb24iLCJMYXRMbmciLCJleHRlbmQiLCJzZXRNYXAiLCJmaXRCb3VuZHMiLCJtYXBVdGlscyIsImNsZWFuTWFwIiwiYWRkUm91dGVUcmFja1RvTWFwIiwiZGF0YSIsImdwcyIsImZvckVhY2giLCJwb2ludCIsImxvYWRHcHhNYXAiLCJSQVRJT04iLCJQQUdFX1NJWkUiLCJnbG9iYWxzIiwiVVBEQVRFX0ZSRVEiLCJydW4iLCJncmFwaFV0aWxzIiwiYWRkR3JhcGgiLCJ0aW1lIiwic3RhcnQiLCJzdHJva2VzIiwic3BlZWQiLCJ3YXR0Iiwic3Ryb2tlIiwic3Ryb2tlQ29udGVyIiwidGltZVZhbCIsInBhcnNlSW50Iiwic3Ryb2tlVGltZSIsInNlYyIsImxlbmdodCIsIndhdHRWYWx1ZSIsInNwZWVkTWVyZ2VkIiwiaHJNZXJnZWQiLCJ3YXR0TWVyZ2VkIiwic3Ryb2tlTWVyZ2VkIiwibGFiZWxzTWVyZ2VkIiwibWVyZ2VTaXplIiwiaCIsImEiLCJzcGxpY2UiLCJ0aW1lViIsInJlZHVjZSIsImIiLCJsYXN0SW5kZXhPZiIsInJvdW5kIiwicGFyc2VGbG9hdCIsInciLCJjdHgiLCJsaW5lQ2hhcnREYXRhIiwibGFiZWxzIiwiZGF0YXNldHMiLCJsYWJlbCIsImJvcmRlckNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwiZmlsbCIsInlBeGlzSUQiLCJsaW5lVGVuc2lvbiIsIkNoYXJ0IiwiTGluZSIsIm9wdGlvbnMiLCJyZXNwb25zaXZlIiwiaG92ZXJNb2RlIiwic3RhY2tlZCIsInNjYWxlcyIsInlBeGVzIiwiZGlzcGxheSIsInBvc2l0aW9uIiwiaWQiLCJ0aWNrcyIsInN1Z2dlc3RlZE1pbiIsIm1pbiIsInN0ZXBTaXplIiwiZ3JpZExpbmVzIiwiZHJhd09uQ2hhcnRBcmVhIiwiY3JlYXRlUm91dGVSZWNvcmQiLCJodG1sVGFibGUiLCJpbmRleCIsInJvdXRlIiwibWV0ZXJzIiwiY291bnRyeSIsInBlcm1hbmVudCIsImxvYWRSb3V0ZSIsIm1haW5JbmRleCIsImxvYWQiLCJsb2FkUm91dGVUYWJsZSIsImNyZWF0ZVJvdXRlTmF2UGFnZSIsInBhZ2UiLCJodG1sRWxlbWVudCIsImFkZENsYXNzIiwic2l6ZSIsIm5leHREaXNhYmxlZCIsInByZXYiLCJhcHBlbmQiLCJuZXh0IiwiYWN0aXZlIiwiaXRlbSIsImh0bWwiLCJzdG9wIiwib24iLCJlIiwiY2hhbmdlUm91dGVTZWxlY3QiLCJzZWxlY3RlZCIsInNyY19yb3V0ZSIsImxvYWRSb3V0ZXMiLCJ0aGF0IiwiZ3JvdXAiLCJzb3J0IiwiZWRpdFJvdXRlIiwicHJldmVudERlZmF1bHQiLCJyZXN1bHQiLCJmb3JtIiwidmFsIiwic2VnbWVudElkIiwiZ3BzQ3ZzIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1vZGFsIiwic2hvd1JvdXRlTW9kYWwiLCJyZWxhdGVkVGFyZ2V0IiwidGl0bGUiLCJzZWdlbWVudElkIiwiZ3BzTGVuZ2h0IiwiZGVsZXRlUm91dGUiLCJjb25maXJtIiwic2F2ZVJvdXRlIiwiZXZlbnQiLCJzdHJhdmFJZCIsImNvbnRlbnRUeXBlIiwiZGF0YVR5cGUiLCJvcGVuUm91dGUiLCJpc05hTiIsInNyY191c2VyIiwibG9hZFVzZXJzIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJsb2FkVXNlciIsInVzZXIiLCJlZGl0VXNlciIsInJlcGxhY2UiLCJyZW1vdmVDbGFzcyIsInNhdmVVc2VyIiwiZGVsZXRlVXNlciIsImxvYWRIaXN0b3J5IiwiaHRtbENhcmRzIiwic2Vzc2lvbiIsImNyZWF0ZUNhcmQiLCJ0cmlnZ2VyIiwibG9hZEhpc3RvcnlMaXN0IiwidXNlcnMiLCJ1c2VyTWFwIiwib2JqIiwiY3JlYXRlTGFwVGFibGVSZWNvcmQiLCJwcmV2RGlzYWJsZWQiLCJjcmVhdGVIaXN0b3J5TmF2UGFnZSIsImVuZFN0YXRzIiwic2Vjb25kcyIsInNyY19oaXN0b3J5IiwibG9hZEhpc3RvcnlJbmRleCIsIm9wZW5IaXN0b3J5IiwibG9hZFNlc3Npb24iLCJmcm9udCIsImdldEh0bWwiLCJnZXRMYXBIdG1sIiwicmF3IiwicmF3SHIiLCJqc29uIiwicmV2ZXJzZSIsInRvdGFsTGFwcyIsImxhcE51bSIsImxhcHMiLCJ0aW1lT3V0Iiwic3JjX3Nlc3Npb24iLCJjbGlja1Nlc3Npb24iLCJkZWxldGVTZXNzaW9uIiwiYWxlcnQiLCJsb2FkTWFpbiIsInN0YXR1cyIsInN0YXJ0QnV0dG9uIiwiZnJvbnRfc3RhcnQiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJnZXRfcm93SW5mbyIsImNvbnRpbnVlcyIsImRvbmUiLCJzZXRUaW1lb3V0IiwiZGF5Iiwicm91dGVMYXAiLCJsYXBQYWNlIiwidG93S1BhY2UiLCJhdmdIciIsImZpbGVOYW1lIiwic3RhcnRSb3ciLCJyb3V0ZXMiLCJzdG9wUm93IiwiY2xlYXJUaW1lb3V0IiwicmVtb3ZlQXR0ciIsImhhc2giLCJ1cGxvYWRUb1N0cmF2YSIsImhyZWYiLCJjb25zb2xlIiwibG9nIiwicGFyZW50Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4sRUFBQXJCLEVBQUFVLEVBQUFlLEVBQUFFLEVBQUEsU0FBQUEsR0FBZ0gsT0FBQU4sRUFBQU0sSUFBcUJDLEtBQUEsS0FBQUQsSUFDckksT0FBQUYsR0FJQXpCLEVBQUE2QixFQUFBLFNBQUExQixHQUNBLElBQUFTLEVBQUFULEtBQUFxQixXQUNBLFdBQTJCLE9BQUFyQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBaUIsRUFBQUMsR0FBc0QsT0FBQWpCLE9BQUFrQixVQUFBQyxlQUFBMUIsS0FBQXVCLEVBQUFDLElBR3REL0IsRUFBQWtDLEVBQUEsR0FJQWxDLElBQUFtQyxFQUFBLHlDQ2xGQSxNQUFBQyxFQUFBLElBNEVlLElBQUFDLEdBQUNDLFNBMUVoQixTQUFBQyxHQUNBLE9BQUFILEVBQUFJLEtBQUFDLElBQUFGLEVBQUEsSUF5RWdCRyxzQkF0RWhCLFNBQUEvQixHQUNBLE9BQUFnQyxPQUFBaEMsRUFBQWlDLE1BQUEsVUFBQWpDLEVBQUFpQyxNQUFBLFdBQUFqQyxFQUFBaUMsTUFBQSxLQUFBQyxPQUFBLHdCQXFFZ0JDLGtCQWxFaEIsU0FBQUMsR0FDQSxPQUFBQSxFQUFBLElBQ0EsZUFDS0EsRUFBQSxJQUNMLGVBQ0tBLEVBQUEsSUFDTCxlQUVBLGVBMERnQkMsZ0JBdERoQixTQUFBQyxHQUNBLElBRUFDLEVBQ0E5QyxFQUZBK0MsRUFEQUMsbUJBQUFDLE9BQUFDLFNBQUFDLE9BQUFDLFVBQUEsSUFDQUMsTUFBQSxLQUlBLElBQUFyRCxFQUFBLEVBQWVBLEVBQUErQyxFQUFBTyxPQUEwQnRELElBR3pDLElBRkE4QyxFQUFBQyxFQUFBL0MsR0FBQXFELE1BQUEsTUFFQSxLQUFBUixFQUNBLFlBQUFVLElBQUFULEVBQUEsSUFBQUEsRUFBQSxJQTRDZ0JVLE9BdkNoQixTQUFBekIsR0FDQSxJQUFBMEIsRUFBQSxJQUFBQyxLQUFBLE1BRUEsT0FEQUQsRUFBQUUsV0FBQTVCLEdBQ0EwQixFQUFBRyxjQUFBQyxPQUFBLE9BcUNBQyxZQTVCQSxTQUFBQyxHQVFBLElBTEEsSUFBQUMsS0FHQUMsR0FGQUYsRUFBQVYsTUFBQSxTQUNBLElBQ0FBLE1BQUEsS0FFQXJELEVBQUEsRUFBbUJBLEVBQUFpRSxFQUFBWCxPQUFpQnRELElBQUEsQ0FDcEMsSUFBQWtFLEVBQUFELEVBQUFqRSxHQUFBcUQsTUFBQSxLQUdBLFlBQUFXLEVBQUFFLEVBQUEsSUFDQUYsRUFBQUUsRUFBQSxJQUFBbEIsbUJBQUFrQixFQUFBLFNBRVMsb0JBQUFGLEVBQUFFLEVBQUEsS0FDVCxJQUFBQyxHQUFBSCxFQUFBRSxFQUFBLElBQUFsQixtQkFBQWtCLEVBQUEsS0FDQUYsRUFBQUUsRUFBQSxJQUFBQyxPQUdBSCxFQUFBRSxFQUFBLElBQUFFLEtBQUFwQixtQkFBQWtCLEVBQUEsS0FJQSxPQUFBRixJQ3BFZUssR0FBQ0MsY0FBQUMsYUFKaEJBLEVBSWdCQyxnQkFIaEJBLEdDQUEsTUFBQUMsSUFDQUMsWUFBQSxZQUFBQyxVQUE2Q0MsWUFBQSxNQUF3QkMsVUFBQSxLQUM1REMsV0FBQSxTQUVUSixZQUFBLE1BQUFDLFVBQXVDQyxZQUFBLE1BQXdCQyxVQUFBLEtBQ3REQyxXQUFBLGlCQUVUSixZQUFBLGVBQUFDLFVBQWdEQyxZQUFBLE1BQ3ZDRSxXQUFBLGlCQUVUSixZQUFBLGdCQUFBQyxVQUFpREMsWUFBQSxNQUN4Q0MsVUFBQSxLQUFxQkMsV0FBQSxTQUU5QkosWUFBQSxhQUFBQyxVQUE4Q0MsWUFBQSxNQUNyQ0MsVUFBQSxLQUFxQkMsV0FBQSxTQUU5QkosWUFBQSxVQUFBQyxVQUEyQ0MsWUFBQSxNQUNsQ0UsV0FBQSxpQkFDTEosWUFBQSwwQkFBQUMsVUFBd0RHLFdBQUEsVUFDdkRKLFlBQUEsUUFBQUssWUFBQSxTQUFBSixVQUErREcsV0FBQSxPQUF3QkQsV0FBQSxLQUFzQkQsWUFBQSxRQUM3R0YsWUFBQSxRQUFBSyxZQUFBLFdBQUFKLFVBQWlFSyxJQUFBLFlBQXNCSCxXQUFBLEtBQXNCRCxZQUFBLE9BZWxILFNBQUFLLElBQ0EsSUFBQUMsRUFBQUMsU0FBQUMsZUFBQSxZQUNBRixJQUNRYixFQUFHRSxRQUFBLElBQUFjLE9BQUFDLEtBQUFDLElBQUFMLEdBQ1hNLEtBQUEsRUFDQUMsUUFBQSxLQUVRcEIsRUFBR0csV0FBQSxJQUFBYSxPQUFBQyxLQUFBSSxhQUNIckIsRUFBR0UsUUFBQW9CLElBQUEsU0FBQWxCLElBS1gsU0FBQW1CLEVBQUFDLEdBQ0EsV0FBQVIsT0FBQUMsS0FBQVEsVUFDQUMsS0FBQUYsRUFDQUcsWUFBQSxVQUNBQyxjQUFBLEdBQ0FDLGFBQUEsSUFJQSxJQW1DQUMsRUFBQSxTQUFBNUYsRUFBQTZGLEdBQ0E3RixHQUNBOEYsRUFBQUMsTUFDQUMsS0FBQSxNQUNBQyxJQUFBLGFBQUFqRyxFQUFBLE9BQ0FrRyxRQUFBLFNBQUFDLEdBQ0EsSUFBQWIsS0FDQXhCLEVBQUEsSUFBQWdCLE9BQUFDLEtBQUFDLElBQUFhLEVBQUEsSUFDQVosS0FBQSxLQUdBbkIsRUFBQXNCLElBQUEsU0FBQWxCLEdBRUEsSUFBQWtDLEVBQUEsSUFBQXRCLE9BQUFDLEtBQUFJLGFBRUFXLEVBQUFLLEdBQUFFLEtBQUEsU0FBQUMsS0FBQSxXQUNBLElBQUFDLEVBQUFULEVBQUFVLE1BQUFDLEtBQUEsT0FDQUMsRUFBQVosRUFBQVUsTUFBQUMsS0FBQSxPQUNBbEYsRUFBQSxJQUFBdUQsT0FBQUMsS0FBQTRCLE9BQUFKLEVBQUFHLEdBQ0FwQixFQUFBekIsS0FBQXRDLEdBQ0E2RSxFQUFBUSxPQUFBckYsS0FHQThELEVBQUFDLEdBRUF1QixPQUFBL0MsR0FHQUEsRUFBQWdELFVBQUFWLE9BYWUsSUFBQVcsR0FBQ0MsU0EvR2hCLFdBQ0F0QyxJQUNJWixFQUFHQyxjQUNQc0IsRUFBOEJ2QixFQUFHQyxZQUNqQzhDLE9BQWdCL0MsRUFBR0UsU0FHRCxtQkFBSEYsRUFBR0UsUUFBQThDLFdBQ1ZoRCxFQUFHRSxRQUFBOEMsVUFBbUJoRCxFQUFHRyxhQXVHakJTLFVBQUFSLFNBQUErQyxtQkE1RWhCLFNBQUFqSCxFQUFBNkYsR0FDQTdGLEdBQ0E4RixFQUFBQyxNQUNBQyxLQUFBLE1BQ0FDLElBQUEsV0FBQWpHLEVBQ0FrRyxRQUFBLFNBQUFnQixHQUNBLElBQUE1QixLQUNBeEIsRUFBQSxJQUFBZ0IsT0FBQUMsS0FBQUMsSUFBQWEsRUFBQSxJQUNBWixLQUFBLEVBQ0FDLFFBQUEsS0FHQXBCLEVBQUFzQixJQUFBLFNBQUFsQixHQUVBLElBQUFrQyxFQUFBLElBQUF0QixPQUFBQyxLQUFBSSxhQUVBK0IsRUFBQUMsSUFBQUMsUUFBQSxTQUFBQyxHQUNBLElBQUFkLEVBQUFjLEVBQUFkLElBQ0FHLEVBQUFXLEVBQUFYLElBQ0FuRixFQUFBLElBQUF1RCxPQUFBQyxLQUFBNEIsT0FBQUosRUFBQUcsR0FDQXBCLEVBQUF6QixLQUFBdEMsR0FDQTZFLEVBQUFRLE9BQUFyRixLQUdBOEQsRUFBQUMsR0FFQXVCLE9BQUEvQyxHQUdBQSxFQUFBZ0QsVUFBQVYsT0ErQ2dCUixtQkFBQTBCLFdBUGhCLFdBQ0EsSUFBQXRILEVBQUE4RixFQUFBVSxNQUFBVSxLQUFBLFFBQ0FyQixFQUFBQyxFQUFBVSxNQUFBSCxLQUFBLGlCQUNBVCxFQUFBNUYsRUFBQTZGLElBS0FSLGtCQ3hJTyxNQUFBa0MsRUFBQSxZQUNBQyxFQUFBLEdBRUEsSUFHUUMsR0FBQ0YsU0FBQUMsWUFBQUUsWUFKVCxJQUlTQyxLQUhULEdDZ0tRLElBQUFDLEdBQUNDLFNBaEtoQixTQUFBQyxFQUFBMUYsRUFBQTJGLEVBQUFDLEdBS0EsSUFKQSxJQUFBQyxLQUNBQyxLQUNBQyxLQUNBQyxFQUFBLEVBQ0EzSSxFQUFBLEVBQW1CQSxFQUFBcUksRUFBQS9FLE9BQWlCdEQsSUFBQSxDQUNwQyxJQUFBNEksRUFBQUMsU0FBQVIsRUFBQXJJLElBQ0E4SSxFQUFBRCxTQUFBTixFQUFBSSxJQUNBSSxHQUFBSCxFQUFBTixHQUFBLElBQ0FVLEVBQXNCbEIsRUFBTSxJQUM1QlUsRUFBQXBFLEtBQUE0RSxFQUFBRCxFQUFBLEtBQ0EsSUFBQUUsRUFBd0JoSCxFQUFLQyxTQUFBNkcsRUFBQUMsR0FDN0JQLEVBQUFyRSxLQUFBNkUsR0FDQVAsRUFBQXRFLEtBQUEsS0FBQTBFLEVBQUFELFNBQUFOLEVBQUFJLEVBQUEsTUFDQUwsRUFBQU8sU0FBQVIsRUFBQXJJLElBQ0E0SSxFQUFBRSxHQUNBSCxJQUtBLElBQUFPLEtBQ0FDLEtBQ0FDLEtBQ0FDLEtBQ0FDLEtBQ0FDLEVBQUEsR0FLQSxJQUpBbEIsRUFBQS9FLE9BQUEsTUFDQWlHLEVBQUEsSUFHQWxCLEVBQUEvRSxRQUFBLENBQ0EsSUFVQWtHLEVBVkFDLEVBQUFwQixFQUFBcUIsT0FBQSxFQUFBSCxHQUNBSSxFQUFBZCxTQUFBWSxFQUFBRyxPQUFBLFNBQUFILEVBQUFJLEdBQXVELE9BQUFKLEVBQUFJLElBQWdCSixFQUFBbkcsUUFjdkUsR0FiQWdHLEVBQUFsRixLQUFBLElBQUFWLEtBQUFpRyxHQUFBL0YsY0FBQUMsT0FBQSxJQUFBSCxLQUFBaUcsR0FBQS9GLGNBQUFrRyxZQUFBLFdBQ0FuSCxJQUNBNkcsRUFBQTdHLEVBQUErRyxPQUFBLEVBQUFILElBQ0FqRyxPQUFBLEdBQ0E2RixFQUFBL0UsS0FBQXlFLFNBQUFXLEVBQUFJLE9BQUEsU0FBQUgsRUFBQUksR0FBaUUsT0FBQUosRUFBQUksSUFBZ0JMLEVBQUFsRyxTQUdqRm9GLElBQ0FjLEVBQUFkLEVBQUFnQixPQUFBLEVBQUFILElBQ0FqRyxPQUFBLEdBQ0ErRixFQUFBakYsS0FBQWhDLEtBQUEySCxNQUFrRyxHQUFsR0MsV0FBQVIsRUFBQUksT0FBQSxTQUFBSCxFQUFBSSxHQUFrRixPQUFBSixFQUFBSSxJQUFnQkwsRUFBQWxHLFNBQUEsSUFHbEdrRixFQUFBLENBQ0EsSUFBQXpHLEVBQUF5RyxFQUFBa0IsT0FBQSxFQUFBSCxHQUNBVSxFQUFBeEIsRUFBQWlCLE9BQUEsRUFBQUgsR0FDQXhILEVBQUF1QixPQUFBLEdBQ0E0RixFQUFBOUUsS0FBQWhDLEtBQUEySCxNQUFpRyxHQUFqR0MsV0FBQWpJLEVBQUE2SCxPQUFBLFNBQUFILEVBQUFJLEdBQWlGLE9BQUFKLEVBQUFJLElBQWdCOUgsRUFBQXVCLFNBQUEsSUFFakcyRyxFQUFBM0csT0FBQSxHQUNBOEYsRUFBQWhGLEtBQUFoQyxLQUFBMkgsTUFBZ0csR0FBaEdDLFdBQUFDLEVBQUFMLE9BQUEsU0FBQUgsRUFBQUksR0FBZ0YsT0FBQUosRUFBQUksSUFBZ0JJLEVBQUEzRyxTQUFBLEtBS2hHLElBQUE0RyxFQUFBN0QsRUFBQSxhQUNBOEQsR0FDQUMsT0FBQWQsRUFDQWUsV0FDQUMsTUFBQSxtQkFDQUMsWUFBQSxVQUNBQyxnQkFBQSxVQUNBQyxNQUFBLEVBQ0FoRCxLQUFBMEIsRUFFQXVCLFFBQUEsYUFFQUosTUFBQSxlQUNBQyxZQUFBLFVBQ0FDLGdCQUFBLFVBQ0FDLE1BQUEsRUFDQWhELEtBQUF5QixFQUVBd0IsUUFBQSxhQUdBSixNQUFBLE9BQ0FDLFlBQUEsVUFDQUMsZ0JBQUEsVUFDQUMsTUFBQSxFQUNBaEQsS0FBQTJCLEVBQ0F1QixZQUFBLEVBRUFELFFBQUEsYUFHQUosTUFBQSxvQkFDQUMsWUFBQSxVQUNBQyxnQkFBQSxVQUNBQyxNQUFBLEVBQ0FoRCxLQUFBNEIsRUFDQXFCLFFBQUEsY0FHQUUsTUFBQUMsS0FBQVgsR0FDQXpDLEtBQUEwQyxFQUNBVyxTQUNBQyxZQUFBLEVBQ0FDLFVBQUEsUUFDQUMsU0FBQSxFQUNBQyxRQUNBQyxRQUNBNUUsS0FBQSxTQUNBNkUsU0FBQSxFQUNBQyxTQUFBLE9BQ0FDLEdBQUEsV0FDQUMsT0FDQUMsYUFBQSxHQUNBQyxJQUFBLEVBQ0FDLFNBQUEsS0FHQW5GLEtBQUEsU0FDQTZFLFNBQUEsRUFDQUMsU0FBQSxRQUNBQyxHQUFBLFdBQ0FDLE9BQ0FHLFNBQUEsR0FHQUMsV0FDQUMsaUJBQUEsS0FJQXJGLEtBQUEsU0FDQTZFLFNBQUEsRUFDQUMsU0FBQSxRQUNBQyxHQUFBLFdBQ0FDLE9BQ0FHLFNBQUEsSUFHQUMsV0FDQUMsaUJBQUEsS0FJQXJGLEtBQUEsU0FDQTZFLFNBQUEsRUFDQUMsU0FBQSxRQUNBQyxHQUFBLFdBQ0FDLE9BQ0FHLFNBQUEsRUFDQUYsYUFBQSxJQUdBRyxXQUNBQyxpQkFBQSxXQzFIQUMsRUFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQWVBLE9BZEFGLEdBQUEsT0FDQUEsR0FBQSxvQkFBQUMsRUFBQSxXQUNBRCxHQUFBLCtDQUFBRSxFQUFBekwsS0FBQSxtREFBQXlMLEVBQUF6TCxLQUFBLEtBQUF5TCxFQUFBekwsS0FBQSxZQUNBdUwsR0FBQSxPQUFBakQsU0FBQW1ELEVBQUFDLFFBQUEsU0FDQUgsR0FBQSxPQUFBRSxFQUFBRSxRQUFBLFFBQ0FKLEdBQUEsUUFDQSxJQUFBRSxFQUFBRyxVQUNBTCxHQUFBLDJDQUFBRSxFQUFBekwsS0FBQSxvRkFDQXlMLEVBQUF6TCxLQUFBLDBGQUdBdUwsR0FBQSxpQkFFQUEsR0FBQSxTQUlBLFNBQUFNLEVBQUFDLEdBQ0FoRyxFQUFBLFNBQUFpRyxLQUFBLG9CQUNBakcsRUFBQVUsTUFBQUgsS0FBQSxhQUFBQyxLQUFBLFdBQ0EwRixFQUFBLEdBRUFDLEVBREFuRyxFQUFBLGlCQUFBTyxLQUFBLFNBQ0EsR0FBQXlGLE9BS0EsU0FBQUcsRUFBQUMsRUFBQVYsR0FDQSxJQUFBVyxFQUFBckcsRUFBQSxtQ0FBQTBGLEVBQUEsV0FBQVksU0FBQSw0QkFDQXRHLEVBQUF4RixJQUFBLHVCQUFBNEcsR0FDQSxJQUFBbUYsRUFBQS9ELGtCQUFBcEIsR0FBNkNNLEdBQVMsRUFFdEQ4RSxFQUFBZCxJQUFBYSxFQUFBLGdCQUNBRSxFQUFBekcsRUFBQSx5QkFGQSxJQUFBMEYsRUFBQSxlQUVBLFdBQUFnQixPQUFBLDJFQUNBQyxFQUFBM0csRUFBQSx3QkFBQXdHLEVBQUEsV0FBQUUsT0FBQSx3REFFQUwsRUFBQUssT0FBQUQsR0FDQSxRQUFBOU0sRUFBQSxFQUF1QkEsRUFBQTRNLEVBQVU1TSxJQUFBLENBQ2pDLElBQUFpTixFQUFBLEdBQ0FsQixJQUFBL0wsSUFDQWlOLEVBQUEsVUFFQSxJQUFBQyxFQUFBN0csRUFBQSx3QkFBQTRHLEVBQUEsc0NBQUFqTixFQUFBLGVBQUFBLEVBQUEsZ0JBQ0EwTSxFQUFBSyxPQUFBRyxHQUVBUixFQUFBSyxPQUFBQyxHQUNBM0csRUFBQW9HLEdBQUFVLEtBQUFULEtBSUEsU0FBQUgsRUFBQUYsR0FDQSxJQUFBL0QsRUFBQStELEVBQTRCdEUsRUFBU3FGLEdBQUFmLEVBQUEsR0FBNkJ0RSxFQUFTLEVBQzNFMUIsRUFBQXhGLElBQUEsV0FBQXlILEVBQUEsSUFBQThFLEVBQUEsU0FBQTNGLEdBQ0EsSUFBQXFFLEVBQUEsR0FDQUMsRUFBQSxFQUNBdEUsRUFBQUUsUUFBQSxTQUFBcUUsR0FDQUYsRUFBQUQsRUFBQUMsRUFBQUMsRUFBQU0sRUFBMEV0RSxFQUFTaUUsR0FDbkZELE1BR0ExRixFQUFBLHNCQUFBOEcsS0FBQXJCLEdBQ0F6RixFQUFBLG9CQUFBZ0gsR0FBQSwyQkFBQUMsR0FDQWxCLEVBQUEsT0F5Q0EsU0FBQW1CLElBQ0EsSUFBQUMsRUFBQW5ILEVBQUEsV0FBQU8sS0FBQSxhQUNJVSxFQUFRQyxXQUNaLElBQUFoSCxFQUFBaU4sRUFBQS9GLEtBQUEsUUFDSUgsRUFBUUUsbUJBQUFqSCxFQUFBOEYsRUFBQSxjQXFERyxJQUFBb0gsR0FBQ0MsV0EzTGhCLFdBQ0EsSUFBQUMsRUFBQTVHLEtBQ0FWLEVBQUF4RixJQUFBLHVCQUFBNEcsR0FDQSxJQUFBMEYsRUFBQSxHQUVBUyxFQUFBLEdBQ0FuRyxFQUFBb0csS0FBQSxTQUFBcEUsRUFBQUksR0FBbUMsT0FBQUosRUFBQXlDLFFBQUFyQyxFQUFBcUMsUUFBQSxFQUFBckMsRUFBQXFDLFFBQUF6QyxFQUFBeUMsU0FBQSxNQUVuQyxJQUFBc0IsRUFBQSxzQkFDQS9GLEVBQUFFLFFBQUEsU0FBQTFHLEdBQ0FBLEVBQUFpTCxVQUFBMEIsSUFDQVQsR0FBQSxvQkFBQWxNLEVBQUFpTCxRQUFBLEtBQ0EwQixFQUFBM00sRUFBQWlMLFNBRUFpQixHQUFBLFdBQUFLLEVBQUEsV0FBQXZNLEVBQUE4SyxNQUFBLGdCQUFBOUssRUFBQVYsS0FBQSxlQUNBVSxFQUFBeUcsSUFBQSxHQUFBWixJQUFBLGVBQUE3RixFQUFBeUcsSUFBQSxHQUFBVCxJQUFBLEtBQUFoRyxFQUFBVixLQUFBLEtBQUFVLEVBQUFnTCxPQUFBLGNBQ0F1QixFQUFBLEtBR0FuSCxFQUFBc0gsR0FBQVIsUUFFQUksT0FzS2dCMUIsb0JBQUFPLFlBQUFHLGlCQUNoQkMscUJBQUFzQixVQTlGQSxTQUFBUixHQUNBQSxFQUFBUyxpQkFDQSxJQUFBekMsRUFBQWpGLEVBQUFVLE1BQUFVLEtBQUEsTUFDQXBCLEVBQUFDLE1BQ0FFLElBQUEsV0FBQThFLEVBQ0EvRSxLQUFBLE1BQ0FFLFFBQUEsU0FBQXVILEdBQ0EsSUFBQUMsRUFBQTVILEVBQUEsYUFDQTRILEVBQUFySCxLQUFBLFNBQUFzSCxJQUFBRixFQUFBek4sTUFDQTBOLEVBQUFySCxLQUFBLFdBQUFzSCxJQUFBRixFQUFBL0IsUUFDQWdDLEVBQUFySCxLQUFBLGNBQUFzSCxJQUFBRixFQUFBRyxXQUNBRixFQUFBckgsS0FBQSxjQUFBc0gsSUFBQUYsRUFBQTlCLFNBRUEsSUFBQWtDLEVBQUFDLEtBQUFDLFVBQUFOLEVBQUF0RyxLQUNBdUcsRUFBQXJILEtBQUEsUUFBQW1HLE9BQUFxQixHQUNBL0gsRUFBQSxvQkFBQWtJLE1BQUEsWUErRUFDLGVBMUVBLFNBQUFsQixHQUNBLElBQUEvTSxFQUFBOEYsRUFBQWlILEVBQUFtQixlQUFBaEgsS0FBQSxjQUNBa0csRUFBQXRILEVBQUFVLE1BQ0FWLEVBQUF4RixJQUFBLFdBQUFOLEVBQUEsU0FBQWtILEdBQ0EsSUFBQWlILEVBQUFqSCxFQUFBbEgsS0FDQWtILEVBQUFrSCxhQUNBRCxFQUFBLG1GQUFBakgsRUFBQWtILFdBQUEsaUNBQUFELEVBQUEsU0FFQWYsRUFBQS9HLEtBQUEsMkJBQUF1RyxLQUFBdUIsR0FDQSxJQUFBdkIsRUFBQSwwRUFBQTFGLEVBQUF3RSxPQUFBLFVBQ0FrQixHQUFBLHNFQUFBMUYsRUFBQW1ILFVBQUEsVUFDQXpCLEdBQUEsbUVBQUExRixFQUFBeUUsUUFBQSxRQUNBeUIsRUFBQS9HLEtBQUEscUJBQUF1RyxXQThEQUksb0JBQUFzQixZQW5EQSxTQUFBdkIsR0FDQUEsRUFBQVMsaUJBQ0EsSUFBQXpDLEVBQUFqRixFQUFBVSxNQUFBVSxLQUFBLE1BQ0FxSCxRQUFBLDJDQUVBekksRUFBQUMsTUFDQUUsSUFBQSxXQUFBOEUsRUFDQS9FLEtBQUEsU0FDQUUsUUFBQSxTQUFBdUgsR0FDQWhDLE1BQUFJLFVBQUEsT0EyQ0EyQyxVQXJDQSxTQUFBQyxHQUNBQSxFQUFBakIsaUJBQ0EsSUFBQUUsRUFBQTVILEVBQUEsYUFDQTJGLEtBQ0FBLEVBQUF6TCxLQUFBME4sRUFBQXJILEtBQUEsU0FBQXNILE1BQ0FsQyxFQUFBQyxPQUFBZ0MsRUFBQXJILEtBQUEsV0FBQXNILE1BQ0FsQyxFQUFBaUQsU0FBQWhCLEVBQUFySCxLQUFBLGNBQUFzSCxNQUNBbEMsRUFBQUUsUUFBQStCLEVBQUFySCxLQUFBLGNBQUFzSCxNQUNBbEMsRUFBQXRFLElBQUF1RyxFQUFBckgsS0FBQSxZQUFBc0gsTUFDQTdILEVBQUFDLE1BQ0FDLEtBQUEsTUFDQTJJLFlBQUEsbUJBQ0FDLFNBQUEsT0FDQTNJLElBQUEsY0FDQWlCLEtBQUE0RyxLQUFBQyxVQUFBdEMsR0FDQXZGLFFBQUEsV0FDQUosRUFBQSxvQkFBQWtJLE1BQUEsWUFxQkFhLFVBaEJBLFNBQUE5QixHQUNBQSxFQUFBUyxpQkFDQSxJQUFBZixFQUFBbkUsU0FBQXhDLEVBQUFVLE1BQUFVLEtBQUEsU0FBQXNFLEVBQUFsRCxTQUFBeEMsRUFBQVUsTUFBQVUsS0FBQSxVQUNBNEUsRUFBQXhELFNBQUF4QyxFQUFBLGVBQUFvQixLQUFBLFVBQ0E0SCxNQUFBckMsR0FFS3FDLE1BQUF0RCxLQUNMTSxFQUFBTixHQUZBTSxHQUFBVyxFQUtBUixFQURBbkcsRUFBQSxpQkFBQU8sS0FBQSxTQUNBLEdBQUF5RixHQUNBRSxFQUFBRixLQ2xHZSxJQUFBaUQsR0FBQ0MsVUE1RmhCLFdBQ0EsSUFBQTVCLEVBQUE1RyxLQUNBVixFQUFBeEYsSUFBQSxrQkFBQTRHLEdBQ0EsSUFBQTBGLEVBQUEsR0FDQTFGLEVBQUFFLFFBQUEsU0FBQTFHLEdBQ0FrTSxHQUFBLGtCQUFBbE0sRUFBQXFLLEdBQUEsS0FBQXJLLEVBQUF1TyxVQUFBLElBQUF2TyxFQUFBd08sU0FBQSxjQUVBcEosRUFBQXNILEdBQUFSLFdBcUZnQnVDLFNBM0RoQixTQUFBQSxJQUNBckosRUFBQSxTQUFBaUcsS0FBQSxtQkFDQWpHLEVBQUFVLE1BQUFILEtBQUEsZUFBQUMsS0FBQSxXQUNBLElBQUE4RyxFQUFBNUcsS0FDQVYsRUFBQXhGLElBQUEsbUJBQUE0RyxHQUVBLElBREEsSUFBQTBGLEVBQUEsR0FDQW5OLEVBQUEsRUFBK0JBLEVBQUF5SCxFQUFBbkUsT0FBaUJ0RCxJQUFBLENBQ2hELElBQUEyUCxFQUFBbEksRUFBQXpILEdBQ0FtTixHQUFBLGtGQUFBd0MsRUFBQXJFLEdBQUEsTUFBQXRMLEVBQUEsbUJBQUEyUCxFQUFBSCxVQUFBLFlBQUFHLEVBQUFGLFNBQUEsUUFDQXRDLEdBQUEsOENBQUF3QyxFQUFBckUsR0FBQSxtRkFBQXFFLEVBQUFyRSxHQUFBLDhGQUVBakYsRUFBQXNILEdBQUFSLFFBQ0E5RyxFQUFBLGlCQUFBZ0gsR0FBQSwyQkFBQUMsR0FDQW9DLGFBOENnQkUsU0FqRmhCLFNBQUF0QyxHQUNBQSxFQUFBUyxpQkFDQSxJQUFBekMsRUFBQWpGLEVBQUFVLE1BQUFVLEtBQUEsTUFDQXBCLEVBQUFDLE1BQ0FFLElBQUEsVUFBQThFLEVBQ0EvRSxLQUFBLE1BQ0FFLFFBQUEsU0FBQXVILEdBQ0EsSUFBQUMsRUFBQTVILEVBQUEsZ0JBQ0E0SCxFQUFBckgsS0FBQSxjQUFBc0gsSUFBQUYsRUFBQXdCLFdBQ0F2QixFQUFBckgsS0FBQSxhQUFBc0gsSUFBQUYsRUFBQXlCLFVBQ0F4QixFQUFBckgsS0FBQSxXQUFBc0gsSUFBQUYsRUFBQTFDLElBQ0FqRixFQUFBeEYsSUFBQSx1QkFBQTRHLEdBQ0EsSUFBQWpCLEVBQUFpQixFQUFBakIsSUFBQXFKLFFBQUEsTUFBQTdCLEVBQUExQyxJQUNBakYsRUFBQSxlQUFBVyxLQUFBLE9BQUFSLEtBRUFILEVBQUEsbUJBQ0F5SixZQUFBLFdBQ0F6SixFQUFBLGlCQUFBa0ksTUFBQSxZQWdFZ0J3QixTQXZDaEIsU0FBQWYsR0FDQUEsRUFBQWpCLGlCQUNBLElBQUFFLEVBQUE1SCxFQUFBLGdCQUNBbUosRUFBQXZCLEVBQUFySCxLQUFBLGNBQUFzSCxNQUNBdUIsRUFBQXhCLEVBQUFySCxLQUFBLGFBQUFzSCxNQUNBNUMsRUFBQTJDLEVBQUFySCxLQUFBLFdBQUFzSCxNQUNBeUIsS0FDQUEsRUFBQUgsWUFDQUcsRUFBQUYsV0FDQUUsRUFBQXJFLEtBQ0FqRixFQUFBQyxNQUNBQyxLQUFBLE1BQ0EySSxZQUFBLG1CQUNBQyxTQUFBLE9BQ0EzSSxJQUFBLGFBQ0FpQixLQUFBNEcsS0FBQUMsVUFBQXFCLEdBQ0FsSixRQUFBLFdBQ0FKLEVBQUEsaUJBQUFrSSxNQUFBLFlBc0JnQnlCLFdBaEJoQixTQUFBMUMsR0FDQUEsRUFBQVMsaUJBQ0EsSUFBQXpDLEVBQUFqRixFQUFBVSxNQUFBVSxLQUFBLE1BQ0FxSCxRQUFBLHFDQUVBekksRUFBQUMsTUFDQUUsSUFBQSxVQUFBOEUsRUFDQS9FLEtBQUEsU0FDQUUsUUFBQSxTQUFBdUgsR0FDQTJCLEtBQUFELGdCQzlFQSxTQUFBTyxFQUFBNUQsR0FDQWhHLEVBQUEsU0FBQWlHLEtBQUEsc0JBQ0FqRyxFQUFBVSxNQUFBSCxLQUFBLFlBQUFDLEtBQUEsV0FRQVIsRUFBQXhGLElBQUEsd0JBQUE0RyxHQUNBLElBQUF5SSxFQUFBLEdBQ0F6SSxFQUFBRSxRQUFBLFNBQUF3SSxHQUNBRCxFQUFBRSxFQUFBRixFQUFBQyxLQUdBOUosRUFBQSxVQUFBOEcsS0FBQSwyQ0FBQStDLEVBQUEsZ0JBQ0E3SixFQUFBLGNBQUFRLEtBQUEsV0FDQVIsRUFBQVUsTUFBQXNKLFFBQUEsV0FBQXRKLFVBZEF1SixFQUFBakssRUFBQVUsTUFBQXNGLE9BbUJBLFNBQUFpRSxFQUFBM0MsRUFBQXRCLEdBQ0EsSUFBQS9ELEVBQUErRCxFQUE0QnRFLEVBQVNxRixHQUFBZixFQUFBLEdBQTZCdEUsRUFBUyxFQUMzRTFCLEVBQUF4RixJQUFBLFlBQUF5SCxFQUFBLElBQUE4RSxFQUFBLFNBQUEzRixHQUNBcEIsRUFBQXhGLElBQUEsa0JBQUEwUCxHQUNBLElBQUF6RSxFQUFBLEdBQUFDLEVBQUEsRUFDQXlFLEVBQUFELEVBQUEzRyxPQUFBLFNBQUF2RixFQUFBb00sR0FFQSxPQURBcE0sRUFBQW9NLEVBQUFuRixJQUFBbUYsRUFDQXBNLE9BRUFvRCxFQUFBRSxRQUFBLFNBQUF3SSxHQUNBckUsRUFBQTRFLEVBQUE1RSxFQUFBQyxFQUFBTSxFQUFpRnRFLEVBQVNvSSxFQUFBSyxHQUMxRnpFLE1BR0ExRixFQUFBLHNCQUFBOEcsS0FBQXJCLEdBa0RBLFNBQUFXLEVBQUFWLEdBQ0EsSUFBQVcsRUFBQXJHLEVBQUEscUNBQUEwRixFQUFBLFdBQUFZLFNBQUEsNEJBQ0F0RyxFQUFBeEYsSUFBQSx3QkFBQTRHLEdBQ0EsSUFBQW1GLEVBQUEvRCxrQkFBQXBCLEdBQTZDTSxHQUFTLEVBQ3RENEksRUFBQSxJQUFBNUUsRUFBQSxjQUNBYyxFQUFBZCxJQUFBYSxFQUFBLGdCQUNBRSxFQUFBekcsRUFBQSx3QkFBQXNLLEVBQUEsV0FBQTVELE9BQUEsMkVBQ0FDLEVBQUEzRyxFQUFBLHdCQUFBd0csRUFBQSxXQUFBRSxPQUFBLHdEQUVBTCxFQUFBSyxPQUFBRCxHQUNBLFFBQUE5TSxFQUFBLEVBQXVCQSxFQUFBNE0sRUFBVTVNLElBQUEsQ0FDakMsSUFBQWlOLEVBQUEsR0FDQWxCLElBQUEvTCxJQUNBaU4sRUFBQSxVQUVBLElBQUFDLEVBQUE3RyxFQUFBLHdCQUFBNEcsRUFBQSxzQ0FBQWpOLEVBQUEsZUFBQUEsRUFBQSxnQkFDQTBNLEVBQUFLLE9BQUFHLEdBRUFSLEVBQUFLLE9BQUFDLEdBQ0EzRyxFQUFBb0csR0FBQVUsS0FBQVQsS0FuRUFrRSxDQURBakQsRUFBQS9HLEtBQUEsU0FDQXlGLE9Ba0JBLElBQUErRCxFQUFBLFNBQUFGLEVBQUFDLEdBU0EsT0FSQUQsR0FBQSwwQ0FBQUMsRUFBQTVQLEtBQUEsTUFDQTJQLEdBQUEsMEJBQ0FBLEdBQUEsb0NBQ0FBLEdBQUEsOERBQUFDLEVBQUE1UCxLQUFBLHFCQUF1SDBCLEVBQUtLLHNCQUFBNk4sRUFBQTVQLE1BQUEsWUFDNUgyUCxHQUFBLGdDQUFBckgsU0FBQXNILEVBQUFVLFNBQUE1RSxRQUFBLFlBQXFHaEssRUFBS3VCLE9BQUFxRixTQUFBc0gsRUFBQVUsU0FBQUMsVUFBQSxPQUMxR1osR0FBQSwyQkFBQUMsRUFBQTVQLEtBQUEsa0VBQ0EyUCxHQUFBLFNBQ0FBLEdBQUEsVUFJQVEsRUFBQSxTQUFBNUUsRUFBQUMsRUFBQW9FLEVBQUFLLEdBQ0EsSUFBQWIsRUFBQWEsRUFBQUwsRUFBQVIsTUFjQSxPQWJBN0QsR0FBQSxPQUNBQSxHQUFBLG9CQUFBQyxFQUFBLFdBQ0FELEdBQUEsc0NBQUFxRSxFQUFBNVAsS0FBQSxrQkFBQTRQLEVBQUE1UCxLQUFBLGFBQXNIMEIsRUFBS0ssc0JBQUE2TixFQUFBNVAsTUFBQSxZQUMzSHVMLEdBQUEsZUFBQWpELFNBQUFzSCxFQUFBVSxTQUFBNUUsUUFBQSxTQUVBSCxHQURBNkQsRUFDQSxPQUFBQSxFQUFBSCxVQUFBLElBQUFHLEVBQUFGLFNBQUEsUUFFQSxZQUVBM0QsR0FBQSwyQkFBQXFFLEVBQUE1UCxLQUFBLGlHQUFBNFAsRUFBQTVQLEtBQUEsNkpBQ0E0UCxFQUFBNVAsS0FBQSx3R0FFQXVMLEdBQUEsU0E0QmUsSUFBQWlGLEdBQUNDLGlCQW5IaEIsU0FBQWpGLEdBQ0FrRSxFQUFBbEUsSUFrSGdCa0UsY0FBQUssa0JBQUFXLFlBbkVoQixTQUFBM0QsR0FDQUEsRUFBQVMsaUJBQ0EsSUFBQWYsRUFBQW5FLFNBQUF4QyxFQUFBVSxNQUFBVSxLQUFBLFNBQUFzRSxFQUFBbEQsU0FBQXhDLEVBQUFVLE1BQUFVLEtBQUEsVUFDQTRFLEVBQUF4RCxTQUFBeEMsRUFBQSxpQkFBQW9CLEtBQUEsVUFDQTRILE1BQUFyQyxHQUVLcUMsTUFBQXRELEtBQ0xNLEVBQUFOLEdBRkFNLEdBQUFXLEVBSUFzRCxFQUFBakssRUFBQSxrQkFBQWdHLEtDbERBLFNBQUE2RSxFQUFBM1EsR0FDQThGLEVBQUEsU0FBQWlHLEtBQUEsdUJBQ0FqRyxFQUFBVSxNQUFBSCxLQUFBLFdBQUFDLEtBQXFDNEcsRUFBS0MsWUFDMUNySCxFQUFBVSxNQUFBSCxLQUFBLGlCQUFBQyxLQUEyQ3lJLEVBQUlDLFdBQy9DbEosRUFBQVUsTUFBQUgsS0FBQSxvQkFBQUMsS0FBQSxXQUVBUixFQUFBeEYsSUFBQSxZQUFBTixFQUFBLFNBQUFrSCxHQUNBLElBQUEwRixFQUEyQmdFLEVBQUtDLFFBRmhDLFVBRWdDM0osRUFBQW9KLFVBQUEsR0FDaEN4SyxFQUFBLFdBQUE2SCxJQUFBekcsRUFBQXVFLE9BQ0EzRixFQUFBLGlCQUFBNkgsSUFBQXpHLEVBQUFrSSxNQUNBeEMsSUFDQTlHLEVBQUEsa0JBQUE4RyxRQUNBOUcsRUFBQSxjQUFBOEcsS0FBQWtFLEVBUEEsVUFPQTVKLEVBQUFvSixXQUNvQnZKLEVBQVFuQixpQkFBQTVGLEVBQUE4RixFQUFBLGVBRVo4QixFQUFVQyxTQUFBWCxFQUFBNkosSUFBQTdKLEVBQUE4SixNQUFBMUksU0FBQXBCLEVBQUFhLE9BQUFiLEVBQUFpQixjQU0xQixTQUFBMkksRUFBQS9HLEVBQUFrSCxFQUFBQyxHQUNBLElBQUF0RSxFQUFBLEdBQ0EsR0FBQXRFLFNBQUEySSxFQUFBRSxXQUFBLEdBQ0EsSUFBQUMsRUFBQSxFQUNBQyxFQUFBSixFQUFBSSxLQUNBSCxJQUNBRyxFQUFBSCxVQUNBRSxFQUFBQyxFQUFBdE8sUUFFQXNPLEVBQUFqSyxRQUFBLFNBQUExRyxHQUNBa00sR0FBQSx1QkFBQXdFLEVBQUEsWUFBQTlJLFNBQUE1SCxFQUFBZ0wsUUFBQSxZQUErR2hLLEVBQUt1QixPQUFBcUYsU0FBQTVILEVBQUE2UCxVQUFBLFFBQ3BIM0QsR0FBQSxPQUFBL0ssS0FBQTJILE1BQUEsR0FBQUMsV0FBQS9JLEVBQUF3SCxPQUFBLGlCQUNBZ0osRUFDQUUsSUFFQUEsTUFLQSxPQUFBeEUsRUEwQmUsSUNyRWYwRSxFRHFFZUMsR0FBQ1osY0FBQWEsYUF0QmhCLFNBQUF6RSxHQUNBQSxFQUFBUyxpQkFFQW1ELEVBREE3SyxFQUFBVSxNQUFBVSxLQUFBLFVBb0JnQjRKLGFBQUFXLGNBaEJoQixTQUFBMUUsR0FDQUEsRUFBQVMsaUJBQ0EsSUFBQXhOLEVBQUE4RixFQUFBVSxNQUFBVSxLQUFBLFFBQ0FxSCxRQUFBLDZDQUVBekksRUFBQUMsTUFDQUUsSUFBQSxnQkFBQWpHLEVBQ0FnRyxLQUFBLFNBQ0FFLFFBQUEsU0FBQXVILEdBQ0FpRSxNQUFBLG1CQUNnQmxCLEVBQU9DLGlCQUFBLFVDN0R2QixTQUFBa0IsSUFDQTdMLEVBQUEsU0FBQWlHLEtBQUEsbUJBQ0FqRyxFQUFBVSxNQUFBSCxLQUFBLFdBQUFDLEtBQXFDNEcsRUFBS0MsWUFDMUNySCxFQUFBVSxNQUFBSCxLQUFBLGlCQUFBQyxLQUEyQ3lJLEVBQUlDLFdBQy9DbEosRUFBQXhGLElBQUEsdUJBQUE0RyxHQUNBLGNBQUFBLEVBQUEwSyxPQUFBLENBQ0EsSUFBQUMsRUFBQS9MLEVBQUEsYUFDb0JwRSxFQUFLVyxnQkFBQSxVQUN6QndQLEVBQUEvTCxFQUFBLG9CQUVnQmdNLEVBQUtELE1BS1RuUSxFQUFLVyxnQkFBQSxTQUNqQnlELEVBQUEsYUFBQVcsS0FBQSx5QkEyQ0EsU0FBU3FMLEVBQUtELEdBQ2QvTCxFQUFBcEQsUUFBQXFQLFVBQUFqTSxFQUFBLFNBQUFrTSxTQUFBQyxLQUNBQyxHQUFBLFlBQ0luTCxFQUFRQyxXQUNabEIsRUFBQSxXQUFBVyxLQUFBLHVCQUNBWCxFQUFBLGlCQUFBVyxLQUFBLHVCQUNBWCxFQUFBLG1CQUFBVyxLQUFBLHVCQUNBWCxFQUFBK0wsR0FBQXBMLEtBQUEsdUJBQ0FYLEVBQUErTCxHQUFBakYsS0FBQSxhQUNBOUcsRUFBQStMLEdBQUF6RixTQUFBLFVBQ0F0RyxFQUFBLFlBQUF5SixZQUFBLFVBR0EsU0FBQTJDLEVBQUFDLEVBQUFoRSxHQUNJMUcsRUFBT0UsSUFBQXdLLEVBQ1hyTSxFQUFBeEYsSUFBQSxnQkFBQTRHLEdBQ0EsSUFBQTBGLEVBQUFpRSxFQUFBMUMsRUFBQWpILEdBQ0EsR0FBQTBGLEVBQUEsQ0FDQTlHLEVBQUEsa0JBQUE4RyxRQUNBOUcsRUFBQSxjQUFBOEcsS0FBaUMyRSxFQUFPVCxXQUFBM0MsRUFBQWpILEdBQUEsSUFDeEMsSUFBQVgsRUFBQVcsRUFBQUMsSUFBQVosSUFDQUcsRUFBQVEsRUFBQUMsSUFBQVQsSUFDQW5GLEVBQUEsSUFBQXVELE9BQUFDLEtBQUE0QixPQUFBSixFQUFBRyxHQUVBLEdBRFk1QyxFQUFHQyxXQUFBRixLQUFBdEMsR0FDQ3VDLEVBQUdHLFdBQ0hILEVBQUdHLFdBQUEyQyxPQUFBckYsR0FDUXdGLEVBQVExQixlQUFnQnZCLEVBQUdDLFlBQ3REOEMsT0FBNEIvQyxFQUFHRSxTQUNmRixFQUFHRSxRQUFBOEMsVUFBbUJoRCxFQUFHRyxlQUlwQ21PLEtBQUEsV0FDTzNLLEVBQU9FLE1BQ25CMkosRUFBQWUsV0FBQSxXQUE4Q0gsR0FBQSxFQUFBL0QsSUFBOEIxRyxFQUFPQyxnQkEwQm5GLFNBQUFtSixFQUFBOUcsRUFBQWtILEVBQUFxQixHQUNBLE9BQUFoSyxTQUFBMkksRUFBQXZGLFFBQUEsQ0FHQSxJQUFBa0IsRUFBQSxHQXFCQSxPQXBCQTBGLElBQ0ExRixHQUFBLG9FQUFBcUUsRUFBQWxKLE1BQUF6RSxPQUFBLEVBQUEyTixFQUFBbEosTUFBQXdCLFlBQUEsd0JBRUFxRCxHQUFBLHVFQUFBcUUsRUFBQWxKLE1BQUF6RSxPQUFBMk4sRUFBQWxKLE1BQUF3QixZQUFBLHlCQUNBcUQsR0FBQSxzRUFBb0ZsTCxFQUFLdUIsT0FBQXFGLFNBQUEySSxFQUFBVixVQUFBLGVBQ3pGM0QsR0FBQSx3RUFBQXRFLFNBQUEySSxFQUFBdkYsUUFBQSxPQUFBcEQsU0FBQTJJLEVBQUFzQixVQUFBLGdCQUNBM0YsR0FBQSxzRUFBQS9LLEtBQUEySCxNQUFBLElBQUFDLFdBQUF3SCxFQUFBclAsTUFBQSwyQkFDQWdMLEdBQUEsc0VBQW9GbEwsRUFBS3VCLE9BQUFxRixTQUFBMkksRUFBQXVCLFVBQUEsZUFDekY1RixHQUFBLG9FQUFrRmxMLEVBQUt1QixPQUFBcUYsU0FBQTJJLEVBQUF3QixXQUFBLGVBQ3ZGN0YsR0FBQSx1RUFBQS9LLEtBQUEySCxNQUFBLEdBQUFDLFdBQUF3SCxFQUFBL0ksT0FBQSxtQkFDQTBFLEdBQUEsb0VBQUEvSyxLQUFBMkgsTUFBQSxHQUFBQyxXQUFBd0gsRUFBQTlJLFNBQUEsa0JBQ0FHLFNBQUEySSxFQUFBN08sSUFBQSxJQUNBd0ssR0FBQSxtRUFBcUZsTCxFQUFLUyxrQkFBQW1HLFNBQUEySSxFQUFBN08sS0FBQSxLQUFBa0csU0FBQTJJLEVBQUE3TyxLQUFBa0csU0FBQTJJLEVBQUF5QixPQUFBLE1BQUFwSyxTQUFBMkksRUFBQXlCLE9BQUEsd0JBRTFGekIsRUFBQTBCLFdBQ0EvRixHQUFBLDRGQUFBcUUsRUFBQTBCLFNBQ0EvRixHQUFBLHVGQUFBcUUsRUFBQWpSLEtBQ0E0TSxHQUFBLCtGQUNBQSxHQUFBLGtDQUFBcUUsRUFBQWpSLEtBQUEsaUhBRUE0TSxFQUFBLElBSWUsSUFBQWdFLEdBQUNlLFdBQUE1SixNQUFnQitKLEVBQUFJLGNBQUFyQixVQUFBK0IsU0F0SGhDLFNBQUE3RixHQUNBQSxFQUFBUyxpQkFDQSxJQUFBcUYsRUFBQS9NLEVBQUEsV0FBQTZILE1BQ0FQLEVBQUE1RyxLQUNBVixFQUFBeEYsSUFBQSxjQUF5QnVTLFVBQWlCLFdBQ2xDZixFQUFLMUUsTUFpSG1CMEYsUUE3R2hDLFNBQUEvRixHQUNBQSxFQUFBUyxpQkFDQSxJQUFBSixFQUFBdEgsRUFBQVUsTUFDQXVNLGFBQUF6QixHQUNJN0osRUFBT0UsS0FBQSxFQUNYLElBQUFrTCxFQUFBL00sRUFBQSxXQUFBNkgsTUFDQXlCLEVBQUF0SixFQUFBLGlCQUFBNkgsTUFDQTdILEVBQUF4RixJQUFBLGFBQXdCdVMsU0FBQXpELFFBQTZCLFNBQUFsSSxHQUNyRHBCLEVBQUEsa0JBQUE4RyxLQUFBaUUsRUFBQSxFQUFBM0osR0FBQSxJQUNBLElBQUEwTCxFQUFBOU0sRUFBQSxhQUNBOE0sRUFBQUksV0FBQSxZQUNBSixFQUFBckQsWUFBQSxVQUNBcUQsRUFBQWhHLEtBQUEsYUFDQVEsRUFBQWhCLFNBQUEsVUFDQXRHLEVBQUEsV0FBQWtOLFdBQUEsWUFDQWxOLEVBQUEsaUJBQUFrTixXQUFBLFlBQ0FsTixFQUFBLG1CQUFBa04sV0FBQSxlQTZGZ0NqSCxLQWxEaEMsV0FFQSxPQURBckosT0FBQUMsU0FBQXNRLE1BRUEsYUFDWS9GLEVBQUtyQixVQUFBLEdBQ2pCLE1BQ0EsWUFDWWtELEVBQUlJLFdBQ2hCLE1BQ0EsZUFDWXFCLEVBQU9kLFlBQUEsR0FDbkIsTUFDQSxlQUNZNkIsRUFBT1osWUFBYWpQLEVBQUs2QixZQUFBLE1BQ3JDLE1BQ0EsUUFDQW9PLE1Ba0NnQ3VCLGVBL0hoQyxTQUFBbkcsR0FDQUEsRUFBQVMsaUJBQ0EsSUFBQTJGLEVBQUFyTixFQUFBVSxNQUFBQyxLQUFBLFFBQ0FYLEVBQUF4RixJQUFBNlMsRUFBQSxTQUFBak0sR0FDQWtNLFFBQUFDLElBQUFuTSxHQUNBd0ssTUFBQSwyQkN6QkFoUCxPQUFBYSxZQUFBLFdBT0EsSUFKQSxJQUFBRSxLQUVBQyxFQURBaEIsT0FBQUMsU0FBQUMsT0FBQUMsVUFBQSxHQUNBQyxNQUFBLEtBRUFyRCxFQUFBLEVBQW1CQSxFQUFBaUUsRUFBQVgsT0FBaUJ0RCxJQUFBLENBQ3BDLElBQUFrRSxFQUFBRCxFQUFBakUsR0FBQXFELE1BQUEsS0FHQSxZQUFBVyxFQUFBRSxFQUFBLElBQ0FGLEVBQUFFLEVBQUEsSUFBQWxCLG1CQUFBa0IsRUFBQSxTQUVTLG9CQUFBRixFQUFBRSxFQUFBLEtBQ1QsSUFBQUMsR0FBQUgsRUFBQUUsRUFBQSxJQUFBbEIsbUJBQUFrQixFQUFBLEtBQ0FGLEVBQUFFLEVBQUEsSUFBQUMsT0FHQUgsRUFBQUUsRUFBQSxJQUFBRSxLQUFBcEIsbUJBQUFrQixFQUFBLEtBSUEsT0FBQUYsRUF2QkEsR0EwQkFxQyxFQUFBLFdBR0k4SyxFQUFLc0IsYUFBQSxNQUVUcE0sRUFBQWxCLFVBQUFrSSxHQUFBLHlCQUFBQyxHQUNRNkQsRUFBS2UsYUFHYjdMLEVBQUFsQixVQUFBa0ksR0FBQSx5QkFBQUMsR0FDUWdDLEVBQUlJLGFBR1pySixFQUFBbEIsVUFBQWtJLEdBQUEsMEJBQStDMEQsRUFBT0UsYUFHdEQ1SyxFQUFBbEIsVUFBQWtJLEdBQUEsd0JBQTZDSSxFQUFLMkIsV0FFbEQvSSxFQUFBbEIsVUFBQWtJLEdBQUEsNkJBQUFDLEdBQ0FqSCxFQUFBLGFBQUFPLEtBQUEsYUFBQUMsS0FBQSxXQUNBUixFQUFBVSxNQUFBK0ksWUFBQSxZQUVBekosRUFBQVUsTUFBQThNLFNBQUFsSCxTQUFBLFlBR0F0RyxFQUFBbEIsVUFBQWtJLEdBQUEsb0JBQXlDeUUsRUFBT0MsY0FFaEQxTCxFQUFBbEIsVUFBQWtJLEdBQUEsNkJBQUFDLEdBQ1F5RCxFQUFPQyxpQkFBQSxPQUdmM0ssRUFBQWxCLFVBQUFrSSxHQUFBLDJCQUFBQyxHQUNRRyxFQUFLckIsVUFBQSxLQUdiL0YsRUFBQWxCLFVBQUFrSSxHQUFBLHdCQUE2Qy9GLEVBQVFPLFlBRXJEeEIsRUFBQWxCLFVBQUFrSSxHQUFBLDBCQUErQzhELEVBQUtnQyxVQUVwRDlNLEVBQUFsQixVQUFBa0ksR0FBQSx5QkFBOEM4RCxFQUFLa0MsU0FFbkRoTixFQUFBbEIsVUFBQWtJLEdBQUEscUJBQTBDaUMsRUFBSU0sVUFFOUN2SixFQUFBbEIsVUFBQWtJLEdBQUEsc0JBQTJDSSxFQUFLSyxXQUVoRHpILEVBQUFsQixVQUFBa0ksR0FBQSxrQkFBdUM4RCxFQUFLc0MsZ0JBRTVDcE4sRUFBQWxCLFVBQUFrSSxHQUFBLHVCQUE0Q3lFLEVBQU9FLGVBRW5EM0wsRUFBQWxCLFVBQUFrSSxHQUFBLHNCQUEyQ0ksRUFBS3NCLFdBRWhEMUksRUFBQWxCLFVBQUFrSSxHQUFBLHFCQUEwQ2lDLEVBQUlTLFVBRTlDMUosRUFBQWxCLFVBQUFrSSxHQUFBLG9CQUF5Q2lDLEVBQUlVLFlBRTdDM0osRUFBQWxCLFVBQUFrSSxHQUFBLHFCQUEwQ0ksRUFBS29CLGFBRS9DeEksRUFBQSxTQUFBUSxLQUFvQnNLLEVBQUs3RSxNQUV6QmpHLEVBQUEsV0FBQVEsS0FBc0I0RyxFQUFLQyxZQUUzQnJILEVBQUEsaUJBQUFRLEtBQTRCeUksRUFBSUMsV0FFaENsSixFQUFBbEIsVUFBQWtJLEdBQUEsb0NBQXlESSxFQUFLZSxnQkFFOURuSSxFQUFBbEIsVUFBQWtJLEdBQUEsOENBQUFDLEdBQ0EsSUFBQS9NLEVBQUE4RixFQUFBaUgsRUFBQW1CLGVBQUFoSCxLQUFBLGNBQ1FILEVBQVFFLG1CQUFBakgsRUFBQThGLEVBQUEsc0JBR2hCQSxFQUFBbEIsVUFBQWtJLEdBQUEsbUJBQXdDSSxFQUFLRiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJjb25zdCBXQVRUX1JBVElPTiA9IDIuODA7XG5cbmZ1bmN0aW9uIGNhbGNXYXR0KHBhY2UpIHtcbiAgICByZXR1cm4gV0FUVF9SQVRJT04gLyBNYXRoLnBvdyhwYWNlLCAzKTtcbn1cblxuZnVuY3Rpb24gc2Vzc2lvbk5hbWVUb1JlYWRhYmxlKG5hbWUpIHtcbiAgICByZXR1cm4gbW9tZW50KG5hbWUuc2xpY2UoMCwgMTMpICsgJzonICsgbmFtZS5zbGljZSgxMywxNSkgKyAnOicgKyBuYW1lLnNsaWNlKDE1KSkuZm9ybWF0KFwiWVlZWS1NTS1ERCBoaDptbTpzc1wiKTtcbn1cblxuZnVuY3Rpb24gZ2V0SGVhcnRSYXRlQ29sb3IoaHIpIHtcbiAgICBpZiAoaHIgPCAxMjUpIHtcbiAgICAgICAgcmV0dXJuICd0ZXh0LXN1Y2Nlc3MnXG4gICAgfSBlbHNlIGlmIChociA8IDE1MCkge1xuICAgICAgICByZXR1cm4gJ3RleHQtcHJpbWFyeSdcbiAgICB9IGVsc2UgaWYgKGhyIDwgMTc1KSB7XG4gICAgICAgIHJldHVybiAndGV4dC13YXJuaW5nJztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ3RleHQtZGFuZ2VyJztcbiAgICB9XG59XG5cbnZhciBnZXRVcmxQYXJhbWV0ZXIgPSBmdW5jdGlvbiBnZXRVcmxQYXJhbWV0ZXIoc1BhcmFtKSB7XG4gICAgdmFyIHNQYWdlVVJMID0gZGVjb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpKSxcbiAgICAgICAgc1VSTFZhcmlhYmxlcyA9IHNQYWdlVVJMLnNwbGl0KCcmJyksXG4gICAgICAgIHNQYXJhbWV0ZXJOYW1lLFxuICAgICAgICBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHNVUkxWYXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc1BhcmFtZXRlck5hbWUgPSBzVVJMVmFyaWFibGVzW2ldLnNwbGl0KCc9Jyk7XG5cbiAgICAgICAgaWYgKHNQYXJhbWV0ZXJOYW1lWzBdID09PSBzUGFyYW0pIHtcbiAgICAgICAgICAgIHJldHVybiBzUGFyYW1ldGVyTmFtZVsxXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHNQYXJhbWV0ZXJOYW1lWzFdO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuZnVuY3Rpb24gZm10TVNTKHMpIHtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKG51bGwpO1xuICAgIGRhdGUuc2V0U2Vjb25kcyhzKTsgLy8gc3BlY2lmeSB2YWx1ZSBmb3IgU0VDT05EUyBoZXJlXG4gICAgcmV0dXJuIGRhdGUudG9JU09TdHJpbmcoKS5zdWJzdHIoMTEsIDgpO1xufVxuXG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGV2ZXJ5IGdldCBwYXJhbWV0ZXIgZnJvbSBhIFVSTCAoZmlyc3QgYXJndW1lbnQpIGFzIGEgcHJvcGVydHlcbiAqIFxuICogQHBhcmFtIFVSTCB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBRdWVyeVN0cmluZyhVUkwpIHtcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIGFub255bW91cywgaXMgZXhlY3V0ZWQgaW1tZWRpYXRlbHkgYW5kIFxuICAgIC8vIHRoZSByZXR1cm4gdmFsdWUgaXMgYXNzaWduZWQgdG8gUXVlcnlTdHJpbmchXG4gICAgdmFyIHF1ZXJ5X3N0cmluZyA9IHt9O1xuICAgIHZhciB1c2VmdWxQYXJhbSA9IFVSTC5zcGxpdChcIj9cIilbMV0gfHwgXCJcIjtcbiAgICB2YXIgcXVlcnkgPSB1c2VmdWxQYXJhbSB8fCBcIlwiO1xuICAgIHZhciB2YXJzID0gcXVlcnkuc3BsaXQoXCImXCIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwYWlyID0gdmFyc1tpXS5zcGxpdChcIj1cIik7XG4gICAgICAgIFxuICAgICAgICAvLyBJZiBmaXJzdCBlbnRyeSB3aXRoIHRoaXMgbmFtZVxuICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgICAgICAgICAgLy8gSWYgc2Vjb25kIGVudHJ5IHdpdGggdGhpcyBuYW1lXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdmFyIGFyciA9IFtxdWVyeV9zdHJpbmdbcGFpclswXV0sIGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKV07XG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0gPSBhcnI7XG4gICAgICAgICAgICAvLyBJZiB0aGlyZCBvciBsYXRlciBlbnRyeSB3aXRoIHRoaXMgbmFtZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcXVlcnlfc3RyaW5nW3BhaXJbMF1dLnB1c2goZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBxdWVyeV9zdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgY2FsY1dhdHQsIHNlc3Npb25OYW1lVG9SZWFkYWJsZSwgZ2V0SGVhcnRSYXRlQ29sb3IsIGdldFVybFBhcmFtZXRlciwgZm10TVNTLCBcbiAgICBRdWVyeVN0cmluZyB9XG5cbiIsInZhciBsaXZlUG9pbnRzID0gW107XG52YXIgbGl2ZU1hcDtcbnZhciBsaXZlQm91bmRzO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHsgbGl2ZVBvaW50cywgbGl2ZU1hcCwgbGl2ZUJvdW5kcyB9IiwiaW1wb3J0IG1hcCBmcm9tICcuLi9tYXAvaW5kZXgnXG5cbmNvbnN0IHN0eWxlcyA9IFt7XG4gICAgXCJmZWF0dXJlVHlwZVwiOiBcImxhbmRzY2FwZVwiLCBcInN0eWxlcnNcIjogW3sgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfSwgeyBcImxpZ2h0bmVzc1wiOiA2NSB9LFxuICAgICAgICB7IFwidmlzaWJpbGl0eVwiOiBcIm9uXCIgfV1cbn0sIHtcbiAgICBcImZlYXR1cmVUeXBlXCI6IFwicG9pXCIsIFwic3R5bGVyc1wiOiBbeyBcInNhdHVyYXRpb25cIjogLTEwMCB9LCB7IFwibGlnaHRuZXNzXCI6IDUxIH0sXG4gICAgICAgIHsgXCJ2aXNpYmlsaXR5XCI6IFwic2ltcGxpZmllZFwiIH1dXG59LCB7XG4gICAgXCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuaGlnaHdheVwiLCBcInN0eWxlcnNcIjogW3sgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfSxcbiAgICAgICAgeyBcInZpc2liaWxpdHlcIjogXCJzaW1wbGlmaWVkXCIgfV1cbn0sIHtcbiAgICBcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5hcnRlcmlhbFwiLCBcInN0eWxlcnNcIjogW3sgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfSxcbiAgICAgICAgeyBcImxpZ2h0bmVzc1wiOiAzMCB9LCB7IFwidmlzaWJpbGl0eVwiOiBcIm9uXCIgfV1cbn0sIHtcbiAgICBcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5sb2NhbFwiLCBcInN0eWxlcnNcIjogW3sgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfSxcbiAgICAgICAgeyBcImxpZ2h0bmVzc1wiOiA0MCB9LCB7IFwidmlzaWJpbGl0eVwiOiBcIm9uXCIgfV1cbn0sIHtcbiAgICBcImZlYXR1cmVUeXBlXCI6IFwidHJhbnNpdFwiLCBcInN0eWxlcnNcIjogW3sgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfSxcbiAgICAgICAgeyBcInZpc2liaWxpdHlcIjogXCJzaW1wbGlmaWVkXCIgfV1cbn0sIHsgXCJmZWF0dXJlVHlwZVwiOiBcImFkbWluaXN0cmF0aXZlLnByb3ZpbmNlXCIsIFwic3R5bGVyc1wiOiBbeyBcInZpc2liaWxpdHlcIjogXCJvZmZcIiB9XSB9LFxuICAgIHsgXCJmZWF0dXJlVHlwZVwiOiBcIndhdGVyXCIsIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHNcIiwgXCJzdHlsZXJzXCI6IFt7IFwidmlzaWJpbGl0eVwiOiBcIm9uXCIgfSwgeyBcImxpZ2h0bmVzc1wiOiAtMjUgfSwgeyBcInNhdHVyYXRpb25cIjogLTEwMCB9XSB9LFxuICAgIHsgXCJmZWF0dXJlVHlwZVwiOiBcIndhdGVyXCIsIFwiZWxlbWVudFR5cGVcIjogXCJnZW9tZXRyeVwiLCBcInN0eWxlcnNcIjogW3sgXCJodWVcIjogXCIjZmZmZjAwXCIgfSwgeyBcImxpZ2h0bmVzc1wiOiAtMjUgfSwgeyBcInNhdHVyYXRpb25cIjogLTk3IH1dIH1dO1xuXG5mdW5jdGlvbiBjbGVhbk1hcCgpIHtcbiAgICBpbml0TWFwKCk7XG4gICAgbWFwLmxpdmVQb2ludHMgPSBbXTtcbiAgICB2YXIgcG9seSA9IGNyZWF0ZVBvbHlMaW5lKG1hcC5saXZlUG9pbnRzKTtcbiAgICBwb2x5LnNldE1hcChtYXAubGl2ZU1hcCk7XG5cbiAgICAvLyBmaXQgYm91bmRzIHRvIHRyYWNrXG4gICAgaWYgKHR5cGVvZiBtYXAubGl2ZU1hcC5maXRCb3VuZHMgPT09ICdmdW5jdGlvbicgKSB7XG4gICAgICAgIG1hcC5saXZlTWFwLmZpdEJvdW5kcyhtYXAubGl2ZUJvdW5kcyk7XG4gICAgfVxuICAgXG59XG5cbmZ1bmN0aW9uIGluaXRNYXAoKSB7XG4gICAgdmFyIG1hcERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXZlLW1hcCcpO1xuICAgIGlmIChtYXBEaXYpIHtcbiAgICAgICAgbWFwLmxpdmVNYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKG1hcERpdiwge1xuICAgICAgICAgICAgem9vbTogOCxcbiAgICAgICAgICAgIG1heFpvb206IDE2XG4gICAgICAgIH0pO1xuICAgICAgICBtYXAubGl2ZUJvdW5kcyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMoKTtcbiAgICAgICAgbWFwLmxpdmVNYXAuc2V0KCdzdHlsZXMnLCBzdHlsZXMpO1xuICAgIH1cbn1cblxuLy9UT0RPOiBDaGFuZ2UgY29sb3IgYnkgc3BlZWQgb3IgaHIuXG5mdW5jdGlvbiBjcmVhdGVQb2x5TGluZShwb2ludHMpIHtcbiAgICByZXR1cm4gbmV3IGdvb2dsZS5tYXBzLlBvbHlsaW5lKHtcbiAgICAgICAgcGF0aDogcG9pbnRzLFxuICAgICAgICBzdHJva2VDb2xvcjogXCIjRkYwMEFBXCIsXG4gICAgICAgIHN0cm9rZU9wYWNpdHk6IC43LFxuICAgICAgICBzdHJva2VXZWlnaHQ6IDRcbiAgICB9KTtcbn1cblxudmFyIGFkZFJvdXRlVHJhY2tUb01hcCA9IGZ1bmN0aW9uIChuYW1lLCBlbGVtZW50KSB7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgICAgICAgICB1cmw6ICcvcm91dGVzLycgKyBuYW1lLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZWxlbWVudFswXSwge1xuICAgICAgICAgICAgICAgICAgICB6b29tOiA4LFxuICAgICAgICAgICAgICAgICAgICBtYXhab29tOiAxNlxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbWFwLnNldCgnc3R5bGVzJywgc3R5bGVzKTtcblxuICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKCk7XG5cbiAgICAgICAgICAgICAgICBkYXRhLmdwcy5mb3JFYWNoKGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGF0ID0gcG9pbnQubGF0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG9uID0gcG9pbnQubG9uO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobGF0LCBsb24pO1xuICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChwKTtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLmV4dGVuZChwKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBwb2x5ID0gY3JlYXRlUG9seUxpbmUocG9pbnRzKTtcblxuICAgICAgICAgICAgICAgIHBvbHkuc2V0TWFwKG1hcCk7XG5cbiAgICAgICAgICAgICAgICAvLyBmaXQgYm91bmRzIHRvIHRyYWNrXG4gICAgICAgICAgICAgICAgbWFwLmZpdEJvdW5kcyhib3VuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG52YXIgYWRkR3B4VHJhY2tUb01hcCA9IGZ1bmN0aW9uIChuYW1lLCBlbGVtZW50KSB7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgICAgICAgICB1cmw6ICcvc2Vzc2lvbnMvJyArIG5hbWUgKyAnLmdweCcsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoeG1sKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGVsZW1lbnRbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgem9vbTogMTZcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIG1hcC5zZXQoJ3N0eWxlcycsIHN0eWxlcyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpO1xuXG4gICAgICAgICAgICAgICAgJCh4bWwpLmZpbmQoXCJ0cmtwdFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhdCA9ICQodGhpcykuYXR0cihcImxhdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvbiA9ICQodGhpcykuYXR0cihcImxvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdCwgbG9uKTtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2gocCk7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5leHRlbmQocCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcG9seSA9IGNyZWF0ZVBvbHlMaW5lKHBvaW50cyk7XG5cbiAgICAgICAgICAgICAgICBwb2x5LnNldE1hcChtYXApO1xuXG4gICAgICAgICAgICAgICAgLy8gZml0IGJvdW5kcyB0byB0cmFja1xuICAgICAgICAgICAgICAgIG1hcC5maXRCb3VuZHMoYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gbG9hZEdweE1hcCgpIHtcbiAgICB2YXIgbmFtZSA9ICQodGhpcykuZGF0YSgnbmFtZScpO1xuICAgIHZhciBlbGVtZW50ID0gJCh0aGlzKS5maW5kKCcuY2FyZC1tYXAtdG9wJyk7XG4gICAgYWRkR3B4VHJhY2tUb01hcChuYW1lLCBlbGVtZW50KTtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCB7IGNsZWFuTWFwLCBpbml0TWFwLCBzdHlsZXMsIGFkZFJvdXRlVHJhY2tUb01hcCwgYWRkR3B4VHJhY2tUb01hcCwgbG9hZEdweE1hcCxcbiAgICBjcmVhdGVQb2x5TGluZSB9IiwiZXhwb3J0IGNvbnN0IFJBVElPTiA9ICgxMDAgLyA0LjgwNSkgKiA2O1xuZXhwb3J0IGNvbnN0IFBBR0VfU0laRSA9IDEwO1xuZXhwb3J0IGNvbnN0IFVQREFURV9GUkVRID0gMTAwMDtcbmV4cG9ydCB2YXIgcnVuID0gZmFsc2U7XG5cblxuZXhwb3J0IGRlZmF1bHQgeyBSQVRJT04sIFBBR0VfU0laRSwgVVBEQVRFX0ZSRVEsIHJ1biB9IiwiaW1wb3J0IHsgVVBEQVRFX0ZSRVEsIFBBR0VfU0laRSwgUkFUSU9OLCBydW4gfSBmcm9tICcuLi91dGlscy9nbG9iYWxzJztcbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy91dGlscyc7XG5cbmZ1bmN0aW9uIGFkZEdyYXBoKHRpbWUsIGhyLCBzdGFydCwgc3Ryb2tlcykge1xuICAgIHZhciBzcGVlZCA9IFtdO1xuICAgIHZhciB3YXR0ID0gW107XG4gICAgdmFyIHN0cm9rZSA9IFtdO1xuICAgIHZhciBzdHJva2VDb250ZXIgPSAxO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGltZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdGltZVZhbCA9IHBhcnNlSW50KHRpbWVbaV0pO1xuICAgICAgICB2YXIgc3Ryb2tlVGltZSA9IHBhcnNlSW50KHN0cm9rZXNbc3Ryb2tlQ29udGVyXSk7XG4gICAgICAgIHZhciBzZWMgPSAoKHRpbWVWYWwgLSBzdGFydCkgLyAxMDAwKTtcbiAgICAgICAgdmFyIGxlbmdodCA9IChSQVRJT04gLyAxMDApO1xuICAgICAgICBzcGVlZC5wdXNoKCgobGVuZ2h0IC8gc2VjKSkgKiAzLjYpO1xuICAgICAgICB2YXIgd2F0dFZhbHVlID0gdXRpbHMuY2FsY1dhdHQoc2VjIC8gbGVuZ2h0KTtcbiAgICAgICAgd2F0dC5wdXNoKHdhdHRWYWx1ZSk7XG4gICAgICAgIHN0cm9rZS5wdXNoKDEwMDAqNjAgLyAoc3Ryb2tlVGltZSAtIHBhcnNlSW50KHN0cm9rZXNbc3Ryb2tlQ29udGVyLTFdKSkpO1xuICAgICAgICBzdGFydCA9IHBhcnNlSW50KHRpbWVbaV0pO1xuICAgICAgICBpZiAodGltZVZhbCA+IHN0cm9rZVRpbWUpIHtcbiAgICAgICAgICAgIHN0cm9rZUNvbnRlcisrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy9SZW1vdmUgZXZlciBzZWNvbmQgZWxlbWVudFxuICAgIHZhciBzcGVlZE1lcmdlZCA9IFtdO1xuICAgIHZhciBock1lcmdlZCA9IFtdO1xuICAgIHZhciB3YXR0TWVyZ2VkID0gW107XG4gICAgdmFyIHN0cm9rZU1lcmdlZCA9IFtdO1xuICAgIHZhciBsYWJlbHNNZXJnZWQgPSBbXTtcbiAgICB2YXIgbWVyZ2VTaXplID0gMTA7XG4gICAgaWYgKHRpbWUubGVuZ3RoID4gMTAwMCkge1xuICAgICAgICBtZXJnZVNpemUgPSAyMDtcbiAgICB9XG5cbiAgICB3aGlsZSAodGltZS5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGEgPSB0aW1lLnNwbGljZSgwLCBtZXJnZVNpemUpO1xuICAgICAgICB2YXIgdGltZVYgPSBwYXJzZUludChhLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSArIGI7IH0pIC8gYS5sZW5ndGgpO1xuICAgICAgICBsYWJlbHNNZXJnZWQucHVzaChuZXcgRGF0ZSh0aW1lVikudG9JU09TdHJpbmcoKS5zdWJzdHIobmV3IERhdGUodGltZVYpLnRvSVNPU3RyaW5nKCkubGFzdEluZGV4T2YoJ1QnKSArIDEsIDgpKTtcbiAgICAgICAgaWYgKGhyKSB7XG4gICAgICAgICAgICB2YXIgaCA9IGhyLnNwbGljZSgwLCBtZXJnZVNpemUpO1xuICAgICAgICAgICAgaWYgKGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGhyTWVyZ2VkLnB1c2gocGFyc2VJbnQoaC5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKyBiOyB9KSAvIGgubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cm9rZSkge1xuICAgICAgICAgICAgdmFyIGggPSBzdHJva2Uuc3BsaWNlKDAsIG1lcmdlU2l6ZSk7XG4gICAgICAgICAgICBpZiAoaC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgc3Ryb2tlTWVyZ2VkLnB1c2goTWF0aC5yb3VuZChwYXJzZUZsb2F0KGgucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICsgYjsgfSkgLyBoLmxlbmd0aCkgKiAxMCkgLyAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNwZWVkKSB7XG4gICAgICAgICAgICB2YXIgcyA9IHNwZWVkLnNwbGljZSgwLCBtZXJnZVNpemUpO1xuICAgICAgICAgICAgdmFyIHcgPSB3YXR0LnNwbGljZSgwLCBtZXJnZVNpemUpO1xuICAgICAgICAgICAgaWYgKHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHNwZWVkTWVyZ2VkLnB1c2goTWF0aC5yb3VuZChwYXJzZUZsb2F0KHMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICsgYjsgfSkgLyBzLmxlbmd0aCkgKiAxMCkgLyAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAody5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgd2F0dE1lcmdlZC5wdXNoKE1hdGgucm91bmQocGFyc2VGbG9hdCh3LnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSArIGI7IH0pIC8gdy5sZW5ndGgpICogMTApIC8gMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGN0eCA9ICQoJyNoci1ncmFwaCcpO1xuICAgIHZhciBsaW5lQ2hhcnREYXRhID0ge1xuICAgICAgICBsYWJlbHM6IGxhYmVsc01lcmdlZCxcbiAgICAgICAgZGF0YXNldHM6IFt7XG4gICAgICAgICAgICBsYWJlbDogJ0hlYXJ0IHJhdGUgKGJwbSknLFxuICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjZGMzNTQ1JyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNkYzM1NDUnLFxuICAgICAgICAgICAgZmlsbDogZmFsc2UsXG4gICAgICAgICAgICBkYXRhOiBock1lcmdlZCxcbiAgICAgICAgICAgIC8vIGN1YmljSW50ZXJwb2xhdGlvbk1vZGU6ICdtb25vdG9uZScsXG4gICAgICAgICAgICB5QXhpc0lEOiAneS1heGlzLTEnLFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBsYWJlbDogJ1NwZWVkIChrbS90KScsXG4gICAgICAgICAgICBib3JkZXJDb2xvcjogJyMwMDdiZmYnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwN2JmZicsXG4gICAgICAgICAgICBmaWxsOiBmYWxzZSxcbiAgICAgICAgICAgIGRhdGE6IHNwZWVkTWVyZ2VkLFxuICAgICAgICAgICAgLy9jdWJpY0ludGVycG9sYXRpb25Nb2RlOiAnbW9ub3RvbmUnLFxuICAgICAgICAgICAgeUF4aXNJRDogJ3ktYXhpcy0yJ1xuICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnV2F0dCcsXG4gICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjNGJjMGMwJyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNGJjMGMwJyxcbiAgICAgICAgICAgICAgICBmaWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkYXRhOiB3YXR0TWVyZ2VkLFxuICAgICAgICAgICAgICAgIGxpbmVUZW5zaW9uOiAwLFxuICAgICAgICAgICAgICAgIC8vY3ViaWNJbnRlcnBvbGF0aW9uTW9kZTogJ21vbm90b25lJyxcbiAgICAgICAgICAgICAgICB5QXhpc0lEOiAneS1heGlzLTMnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnU3Ryb2tlIHJhdGUgKHNwbSknLFxuICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzk5NjZGRicsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzk5NjZGRicsXG4gICAgICAgICAgICAgICAgZmlsbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGF0YTogc3Ryb2tlTWVyZ2VkLFxuICAgICAgICAgICAgICAgIHlBeGlzSUQ6ICd5LWF4aXMtNCdcbiAgICAgICAgICAgIH1dXG4gICAgfTtcbiAgICB2YXIgbXlMaW5lQ2hhcnQgPSBDaGFydC5MaW5lKGN0eCwge1xuICAgICAgICBkYXRhOiBsaW5lQ2hhcnREYXRhLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxuICAgICAgICAgICAgaG92ZXJNb2RlOiAnaW5kZXgnLFxuICAgICAgICAgICAgc3RhY2tlZDogZmFsc2UsXG4gICAgICAgICAgICBzY2FsZXM6IHtcbiAgICAgICAgICAgICAgICB5QXhlczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcicsIC8vIG9ubHkgbGluZWFyIGJ1dCBhbGxvdyBzY2FsZSB0eXBlIHJlZ2lzdHJhdGlvbi4gVGhpcyBhbGxvd3MgZXh0ZW5zaW9ucyB0byBleGlzdCBzb2xlbHkgZm9yIGxvZyBzY2FsZSBmb3IgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdsZWZ0JyxcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICd5LWF4aXMtMScsXG4gICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0ZWRNaW46IDMwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcFNpemU6IDVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcicsIC8vIG9ubHkgbGluZWFyIGJ1dCBhbGxvdyBzY2FsZSB0eXBlIHJlZ2lzdHJhdGlvbi4gVGhpcyBhbGxvd3MgZXh0ZW5zaW9ucyB0byBleGlzdCBzb2xlbHkgZm9yIGxvZyBzY2FsZSBmb3IgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyaWdodCcsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAneS1heGlzLTInLFxuICAgICAgICAgICAgICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcFNpemU6IDJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZ3JpZCBsaW5lIHNldHRpbmdzXG4gICAgICAgICAgICAgICAgICAgIGdyaWRMaW5lczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd09uQ2hhcnRBcmVhOiBmYWxzZSAvLyBvbmx5IHdhbnQgdGhlIGdyaWQgbGluZXMgZm9yIG9uZSBheGlzIHRvIHNob3cgdXBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lYXInLCAvLyBvbmx5IGxpbmVhciBidXQgYWxsb3cgc2NhbGUgdHlwZSByZWdpc3RyYXRpb24uIFRoaXMgYWxsb3dzIGV4dGVuc2lvbnMgdG8gZXhpc3Qgc29sZWx5IGZvciBsb2cgc2NhbGUgZm9yIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyaWdodCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3ktYXhpcy0zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcFNpemU6IDI1XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ3JpZCBsaW5lIHNldHRpbmdzXG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkTGluZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3T25DaGFydEFyZWE6IGZhbHNlIC8vIG9ubHkgd2FudCB0aGUgZ3JpZCBsaW5lcyBmb3Igb25lIGF4aXMgdG8gc2hvdyB1cFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZWFyJywgLy8gb25seSBsaW5lYXIgYnV0IGFsbG93IHNjYWxlIHR5cGUgcmVnaXN0cmF0aW9uLiBUaGlzIGFsbG93cyBleHRlbnNpb25zIHRvIGV4aXN0IHNvbGVseSBmb3IgbG9nIHNjYWxlIGZvciBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICd5LWF4aXMtNCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBTaXplOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RlZE1pbjogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ3JpZCBsaW5lIHNldHRpbmdzXG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkTGluZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3T25DaGFydEFyZWE6IGZhbHNlIC8vIG9ubHkgd2FudCB0aGUgZ3JpZCBsaW5lcyBmb3Igb25lIGF4aXMgdG8gc2hvdyB1cFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgYWRkR3JhcGggfVxuIiwiaW1wb3J0IG1hcFV0aWxzIGZyb20gJy4uL3V0aWxzL21hcFV0aWxzJ1xuaW1wb3J0IG1hcCBmcm9tICcuLi9tYXAvaW5kZXgnXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IGdyYXBoVXRpbHMgZnJvbSAnLi4vdXRpbHMvZ3JhcGhVdGlscyc7XG5pbXBvcnQgeyBVUERBVEVfRlJFUSwgUEFHRV9TSVpFLCBSQVRJT04sIHJ1biB9IGZyb20gJy4uL3V0aWxzL2dsb2JhbHMnO1xuXG4vKiogQWxsIGxvYWQgZnVuY3Rpb25zICovXG52YXIgbG9hZFJvdXRlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgJC5nZXQoXCIvcm93L3JvdXRlc1wiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgaHRtbCA9ICcnO1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgZ3JvdXAgPSAnJztcbiAgICAgICAgZGF0YS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiAoYS5jb3VudHJ5ID4gYi5jb3VudHJ5KSA/IDEgOiAoKGIuY291bnRyeSA+IGEuY291bnRyeSkgPyAtMSA6IDApOyB9KTtcblxuICAgICAgICB2YXIgc2VsZWN0ZWQgPSAnc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiJztcbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlLmNvdW50cnkgIT09IGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSAnPG9wdGdyb3VwIGxhYmVsPVwiJyArIHZhbHVlLmNvdW50cnkgKyAnXCI+JztcbiAgICAgICAgICAgICAgICBncm91cCA9IHZhbHVlLmNvdW50cnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBodG1sICs9ICc8b3B0aW9uICcgKyBzZWxlY3RlZCArICcgdmFsdWU9XCInICsgdmFsdWUuaW5kZXggKyAnXCIgZGF0YS1uYW1lPVwiJyArIHZhbHVlLm5hbWUgKyAnXCIgZGF0YS1sYXQ9XCInICtcbiAgICAgICAgICAgICAgICB2YWx1ZS5ncHNbMF0ubGF0ICsgJ1wiIGRhdGEtbG9uPVwiJyArIHZhbHVlLmdwc1swXS5sb24gKyAnXCI+JyArIHZhbHVlLm5hbWUgKyAnICgnICsgdmFsdWUubWV0ZXJzICsgJ20pPC9vcHRpb24+JztcbiAgICAgICAgICAgIHNlbGVjdGVkID0gJyc7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9KTtcbiAgICAgICAgJCh0aGF0KS5odG1sKGh0bWwpO1xuXG4gICAgICAgIGNoYW5nZVJvdXRlU2VsZWN0KCk7XG4gICAgfSk7XG5cbn07XG5cbnZhciBjcmVhdGVSb3V0ZVJlY29yZCA9IGZ1bmN0aW9uIChodG1sVGFibGUsIGluZGV4LCByb3V0ZSkge1xuICAgIGh0bWxUYWJsZSArPSAnPHRyPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGggc2NvcGU9XCJyb3dcIj4nICsgKGluZGV4ICsgMSkgKyAnPC90aD4nO1xuICAgIGh0bWxUYWJsZSArPSAnPHRkPjxhIGRhdGEtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLXJvdXRlLW5hbWU9XCInICsgcm91dGUubmFtZSArICdcIiBkYXRhLXRhcmdldD1cIiNzaG93LXJvdXRlLW1vZGFsXCIgaHJlZj1cIi9yb3V0ZXMvJyArIHJvdXRlLm5hbWUgKyAnXCI+JyArIHJvdXRlLm5hbWUgKyAnPC9hPjwvdGQ+JztcbiAgICBodG1sVGFibGUgKz0gJzx0ZD4nICsgcGFyc2VJbnQocm91dGUubWV0ZXJzKSArICdtPC90ZD4nO1xuICAgIGh0bWxUYWJsZSArPSAnPHRkPicgKyByb3V0ZS5jb3VudHJ5ICsgJzwvdGQ+JztcbiAgICBodG1sVGFibGUgKz0gJzx0ZD4nXG4gICAgaWYgKHJvdXRlLnBlcm1hbmVudCAhPT0gdHJ1ZSkge1xuICAgICAgICBodG1sVGFibGUgKz0gJzxhIGNsYXNzPVwiZWRpdC1yb3V0ZVwiIGhyZWY9XCIjXCIgZGF0YS1pZD1cIicgKyByb3V0ZS5uYW1lICsgJ1wiPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jcmVhdGU8L2k+PC9hPicgK1xuICAgICAgICAgICAgJzxhIGNsYXNzPVwiZGVsLXJvdXRlXCIgaHJlZj1cIiNcIiBkYXRhLWlkPVwiJyArIHJvdXRlLm5hbWUgKyAnXCI+JyArXG4gICAgICAgICAgICAnPGkgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdGl0bGU9XCJEZWxldGUgcm91dGVcIiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZGVsZXRlPC9pPjwvYT4nICsgJzwvdGQ+JztcbiAgICB9IGVsc2Uge1xuICAgICAgICBodG1sVGFibGUgKz0gJzxpPkRlZmF1bHQ8L2k+JztcbiAgICB9XG4gICAgaHRtbFRhYmxlICs9ICc8L3RyPic7XG4gICAgcmV0dXJuIGh0bWxUYWJsZTtcbn07XG5cbmZ1bmN0aW9uIGxvYWRSb3V0ZShtYWluSW5kZXgpIHtcbiAgICAkKCcjbG9hZCcpLmxvYWQoJy9yb3V0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5maW5kKCcjcm91dGVzLXQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxvYWRSb3V0ZVRhYmxlKDApO1xuICAgICAgICAgICAgdmFyIHBhZyA9ICQoJyNyb3V0ZXMtdGFibGUnKS5maW5kKCcucGFnZScpO1xuICAgICAgICAgICAgY3JlYXRlUm91dGVOYXZQYWdlKHBhZ1swXSwgbWFpbkluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlTmF2UGFnZShwYWdlLCBpbmRleCkge1xuICAgIHZhciBodG1sRWxlbWVudCA9ICQoJzx1bCBpZD1cInJvdXRlLXBhZ2VcIiBkYXRhLWluZGV4PVwiJyArIGluZGV4ICsgJ1wiPjwvdWw+JykuYWRkQ2xhc3MoXCJwYWdpbmF0aW9uIHBhZ2luYXRpb24tbGdcIik7XG4gICAgJC5nZXQoXCJyb3V0ZXMvc2l6ZVwiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgc2l6ZSA9IHBhcnNlSW50KHBhcnNlSW50KGRhdGEpIC8gUEFHRV9TSVpFKSArIDE7XG4gICAgICAgIHZhciBwcmV2RGlzYWJsZWQgPSAoaW5kZXggPT09IDAgPyAnZGlzYWJsZWQnIDogJycpO1xuICAgICAgICB2YXIgbmV4dERpc2FibGVkID0gKGluZGV4ID09PSBzaXplIC0gMSA/ICdkaXNhYmxlZCcgOiAnJyk7XG4gICAgICAgIHZhciBwcmV2ID0gJCgnPGxpIGNsYXNzPVwicGFnZS1pdGVtICcgKyBwcmV2RGlzYWJsZWQgKyAnXCI+PC9saT4nKS5hcHBlbmQoJzxhIGNsYXNzPVwicGFnZS1saW5rXCIgaHJlZj1cIiNcIiBkYXRhLW5leHQ9XCItMVwiIHRhYmluZGV4PVwiLTFcIj5QcmV2aW91czwvYT4nKTtcbiAgICAgICAgdmFyIG5leHQgPSAkKCc8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gJyArIG5leHREaXNhYmxlZCArICdcIj48L2xpPicpLmFwcGVuZCgnPGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBkYXRhLW5leHQ9XCIxXCIgaHJlZj1cIiNcIj5OZXh0PC9hPicpO1xuXG4gICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZChwcmV2KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhY3RpdmUgPSAnJztcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gaSkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IFwiYWN0aXZlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaXRlbSA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgYWN0aXZlICsgJ1wiPjxhIGNsYXNzPVwicGFnZS1saW5rXCIgZGF0YS1pbmRleD1cIicgKyBpICsgJ1wiIGhyZWY9XCIjXCI+JyArIChpICsgMSkgKyAnPC9hPjwvbGk+Jyk7XG4gICAgICAgICAgICBodG1sRWxlbWVudC5hcHBlbmQoaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kKG5leHQpO1xuICAgICAgICAkKHBhZ2UpLmh0bWwoaHRtbEVsZW1lbnQpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkUm91dGVUYWJsZShtYWluSW5kZXgpIHtcbiAgICB2YXIgc3RhcnQgPSBtYWluSW5kZXggKiBQQUdFX1NJWkUsIHN0b3AgPSAoKChtYWluSW5kZXggKyAxKSAqIFBBR0VfU0laRSkpIC0gMTtcbiAgICAkLmdldCgnL3JvdXRlcy8nICsgc3RhcnQgKyAnLycgKyBzdG9wLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgaHRtbFRhYmxlID0gJyc7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHtcbiAgICAgICAgICAgIGh0bWxUYWJsZSA9IGNyZWF0ZVJvdXRlUmVjb3JkKGh0bWxUYWJsZSwgaW5kZXggKyAobWFpbkluZGV4ICogUEFHRV9TSVpFKSwgcm91dGUpO1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnI3JvdXRlcy10YWJsZS1ib2R5JykuaHRtbChodG1sVGFibGUpO1xuICAgICAgICAkKCcjYWRkLXJvdXRlLW1vZGFsJykub24oJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBsb2FkUm91dGUoMCk7XG4gICAgICAgIH0pXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGVkaXRSb3V0ZShlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBpZCA9ICQodGhpcykuZGF0YSgnaWQnKTtcbiAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6ICcvcm91dGVzLycgKyBpZCxcbiAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHZhciBmb3JtID0gJChcIiNhZGRSb3V0ZVwiKTtcbiAgICAgICAgICAgIGZvcm0uZmluZCgnI25hbWUnKS52YWwocmVzdWx0Lm5hbWUpO1xuICAgICAgICAgICAgZm9ybS5maW5kKCcjbWV0ZXJzJykudmFsKHJlc3VsdC5tZXRlcnMpO1xuICAgICAgICAgICAgZm9ybS5maW5kKCcjc2VnbWVudElkJykudmFsKHJlc3VsdC5zZWdtZW50SWQpO1xuICAgICAgICAgICAgZm9ybS5maW5kKCcjY291bnRyaWVzJykudmFsKHJlc3VsdC5jb3VudHJ5KTtcbiAgICAgICAgICAgIC8vZ3BzLnJlcGxhY2UoLyguKiksKC4qKSwoLiopL2dtLCAneyBcImxhdFwiOiAkMSwgXCJsb25cIjogJDIsIFwiZWxcIjogJDMgfSwnKTtcbiAgICAgICAgICAgIHZhciBncHNDdnMgPSBKU09OLnN0cmluZ2lmeShyZXN1bHQuZ3BzKTtcbiAgICAgICAgICAgIGZvcm0uZmluZCgnI2dwcycpLmFwcGVuZChncHNDdnMpO1xuICAgICAgICAgICAgJCgnI2FkZC1yb3V0ZS1tb2RhbCcpLm1vZGFsKCdzaG93Jyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc2hvd1JvdXRlTW9kYWwoZSkge1xuICAgIHZhciBuYW1lID0gJChlLnJlbGF0ZWRUYXJnZXQpLmRhdGEoJ3JvdXRlLW5hbWUnKTtcbiAgICB2YXIgdGhhdCA9ICQodGhpcyk7XG4gICAgJC5nZXQoXCIvcm91dGVzL1wiICsgbmFtZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIHRpdGxlID0gZGF0YS5uYW1lO1xuICAgICAgICBpZiAoZGF0YS5zZWdlbWVudElkKSB7XG4gICAgICAgICAgICB0aXRsZSA9ICc8YSBjbGFzcz1cInN0cmF2YS1zZWdtZW50XCIgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8vd3d3LnN0cmF2YS5jb20vc2VnbWVudHMvJyArIGRhdGEuc2VnZW1lbnRJZCArICcgdGl0bGU9XCJTdHJhdmEgU2VnbWVudCBVcmxcIiBcIj4nICsgdGl0bGUgKyAnIDwvYT4nO1xuICAgICAgICB9XG4gICAgICAgIHRoYXQuZmluZCgnI3Nob3ctcm91dGUtbW9kYWwtdGl0bGUnKS5odG1sKHRpdGxlKTtcbiAgICAgICAgdmFyIGh0bWwgPSAnPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCI+PGg1IGNsYXNzPVwiY2FyZC10aXRsZVwiPkRpc3BsYXkgTGVuZ2h0OjwvaDU+JyArIGRhdGEubWV0ZXJzICsgJyBtPC9saT4nO1xuICAgICAgICBodG1sICs9ICc8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIj48aDUgY2xhc3M9XCJjYXJkLXRpdGxlXCI+R3BzIExlbmdodDo8L2g1PicgKyBkYXRhLmdwc0xlbmdodCArICcgbTwvbGk+JztcbiAgICAgICAgaHRtbCArPSAnPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCI+PGg1IGNsYXNzPVwiY2FyZC10aXRsZVwiPkNvdW50cnk6PC9oNT4nICsgZGF0YS5jb3VudHJ5ICsgJzwvbGk+JztcbiAgICAgICAgdGhhdC5maW5kKCcuY2FyZCAubGlzdC1ncm91cCcpLmh0bWwoaHRtbCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNoYW5nZVJvdXRlU2VsZWN0KCkge1xuICAgIHZhciBzZWxlY3RlZCA9ICQoJyNyb3V0ZXMnKS5maW5kKFwiOnNlbGVjdGVkXCIpO1xuICAgIG1hcFV0aWxzLmNsZWFuTWFwKCk7XG4gICAgdmFyIG5hbWUgPSBzZWxlY3RlZC5kYXRhKCduYW1lJyk7XG4gICAgbWFwVXRpbHMuYWRkUm91dGVUcmFja1RvTWFwKG5hbWUsICQoXCIjbGl2ZS1tYXBcIikpO1xufVxuXG5mdW5jdGlvbiBkZWxldGVSb3V0ZShlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBpZCA9ICQodGhpcykuZGF0YSgnaWQnKTtcbiAgICB2YXIgcmVzdWx0ID0gY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgcm91dGU/XCIpO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDogJy9yb3V0ZXMvJyArIGlkLFxuICAgICAgICAgICAgdHlwZTogJ0RFTEVURScsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcm91dGUubG9hZFJvdXRlKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNhdmVSb3V0ZShldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIGZvcm0gPSAkKFwiI2FkZFJvdXRlXCIpO1xuICAgIHZhciByb3V0ZSA9IHt9O1xuICAgIHJvdXRlLm5hbWUgPSBmb3JtLmZpbmQoJyNuYW1lJykudmFsKCk7XG4gICAgcm91dGUubWV0ZXJzID0gZm9ybS5maW5kKCcjbWV0ZXJzJykudmFsKCk7XG4gICAgcm91dGUuc3RyYXZhSWQgPSBmb3JtLmZpbmQoJyNzZWdtZW50SWQnKS52YWwoKTtcbiAgICByb3V0ZS5jb3VudHJ5ID0gZm9ybS5maW5kKCcjY291bnRyaWVzJykudmFsKCk7XG4gICAgcm91dGUuZ3BzID0gZm9ybS5maW5kKCd0ZXh0YXJlYScpLnZhbCgpO1xuICAgICQuYWpheCh7XG4gICAgICAgIHR5cGU6ICdQVVQnLFxuICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICB1cmw6IFwiL3JvdXRlcy9hZGRcIixcbiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkocm91dGUpLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKCcjYWRkLXJvdXRlLW1vZGFsJykubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBvcGVuUm91dGUoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgbmV4dCA9IHBhcnNlSW50KCQodGhpcykuZGF0YSgnbmV4dCcpKSwgaW5kZXggPSBwYXJzZUludCgkKHRoaXMpLmRhdGEoJ2luZGV4JykpLFxuICAgICAgICBtYWluSW5kZXggPSBwYXJzZUludCgkKCcjcm91dGUtcGFnZScpLmRhdGEoJ2luZGV4JykpO1xuICAgIGlmICghaXNOYU4obmV4dCkpIHtcbiAgICAgICAgbWFpbkluZGV4ICs9IG5leHQ7XG4gICAgfSBlbHNlIGlmICghaXNOYU4oaW5kZXgpKSB7XG4gICAgICAgIG1haW5JbmRleCA9IGluZGV4O1xuICAgIH1cbiAgICB2YXIgcGFnID0gJCgnI3JvdXRlcy10YWJsZScpLmZpbmQoJy5wYWdlJyk7XG4gICAgY3JlYXRlUm91dGVOYXZQYWdlKHBhZ1swXSwgbWFpbkluZGV4KTtcbiAgICBsb2FkUm91dGVUYWJsZShtYWluSW5kZXgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IGxvYWRSb3V0ZXMsIGNyZWF0ZVJvdXRlUmVjb3JkLCBsb2FkUm91dGUsIGxvYWRSb3V0ZVRhYmxlLFxuICAgICBjcmVhdGVSb3V0ZU5hdlBhZ2UsIGVkaXRSb3V0ZSwgc2hvd1JvdXRlTW9kYWwsIGNoYW5nZVJvdXRlU2VsZWN0LCBkZWxldGVSb3V0ZSxcbnNhdmVSb3V0ZSwgb3BlblJvdXRlfSIsIlxudmFyIGxvYWRVc2VycyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgJC5nZXQoXCIvdXNlcnNcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGh0bWwgPSAnJztcbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaHRtbCArPSAnPG9wdGlvbiB2YWx1ZT1cIicgKyB2YWx1ZS5pZCArICdcIj4nICsgdmFsdWUuZmlyc3ROYW1lICsgJyAnICsgdmFsdWUubGFzdE5hbWUgKyAnPC9vcHRpb24+J1xuICAgICAgICB9KTtcbiAgICAgICAgJCh0aGF0KS5odG1sKGh0bWwpXG4gICAgfSk7XG59O1xuXG5mdW5jdGlvbiBlZGl0VXNlcihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBpZCA9ICQodGhpcykuZGF0YSgnaWQnKTtcbiAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6ICcvdXNlcnMvJyArIGlkLFxuICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgdmFyIGZvcm0gPSAkKFwiI2FkZFVzZXJGb3JtXCIpO1xuICAgICAgICAgICAgZm9ybS5maW5kKCcjZmlyc3ROYW1lJykudmFsKHJlc3VsdC5maXJzdE5hbWUpO1xuICAgICAgICAgICAgZm9ybS5maW5kKCcjbGFzdE5hbWUnKS52YWwocmVzdWx0Lmxhc3ROYW1lKTtcbiAgICAgICAgICAgIGZvcm0uZmluZCgnI3VzZXJJZCcpLnZhbChyZXN1bHQuaWQpO1xuICAgICAgICAgICAgJC5nZXQoJy9zdHJhdmEvdXJsJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gZGF0YS51cmwucmVwbGFjZShcIiUyNFwiLCByZXN1bHQuaWQpO1xuICAgICAgICAgICAgICAgICQoJy5zdHJhdmEtdXJsJykuYXR0cignaHJlZicsIHVybCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBjb25uZWN0ID0gJChcIi5zdHJhdmEtY29ubmVjdFwiKTtcbiAgICAgICAgICAgIGNvbm5lY3QucmVtb3ZlQ2xhc3MoXCJzci1vbmx5XCIpO1xuICAgICAgICAgICAgJCgnI2FkZFVzZXJNb2RhbCcpLm1vZGFsKCdzaG93Jyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbG9hZFVzZXIoKSB7XG4gICAgJCgnI2xvYWQnKS5sb2FkKCcvdXNlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5maW5kKCcjdXNlcnMtYm9keScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgJC5nZXQoXCIvdXNlcnMvXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSAnJztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIgPSBkYXRhW2ldO1xuICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8dHI+PHRkPjxhIGhyZWY9XCIjXCIgZGF0YS10b2dnbGU9XCJtb2RhbFwiIGRhdGEtdGFyZ2V0PVwiI3VzZXJTdGF0c01vZGFsXCIgZGF0YS1pZD1cIicgKyB1c2VyLmlkICsgJ1wiPicgKyAoaSArIDEpICsgJzwvYT48L3RkPjx0ZD4nICsgdXNlci5maXJzdE5hbWUgKyAnPC90ZD48dGQ+JyArIHVzZXIubGFzdE5hbWUgKyAnPC90ZD4nO1xuICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8dGQ+PGEgY2xhc3M9XCJlZGl0LXVzZXJcIiBocmVmPVwiI1wiIGRhdGEtaWQ9XCInICsgdXNlci5pZCArICdcIj48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y3JlYXRlPC9pPjwvYT48YSBjbGFzcz1cImRlbC11c2VyXCIgaHJlZj1cIiNcIiBkYXRhLWlkPVwiJyArIHVzZXIuaWQgKyAnXCI+PGkgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdGl0bGU9XCJEZWxldGUgdXNlclwiIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5kZWxldGU8L2k+PC9hPjwvdGQ+JyArICc8L3RyPidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJCh0aGF0KS5odG1sKGh0bWwpO1xuICAgICAgICAgICAgICAgICQoJyNhZGRVc2VyTW9kYWwnKS5vbignaGlkZGVuLmJzLm1vZGFsJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZFVzZXIoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzYXZlVXNlcihldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIGZvcm0gPSAkKFwiI2FkZFVzZXJGb3JtXCIpO1xuICAgIHZhciBmaXJzdE5hbWUgPSBmb3JtLmZpbmQoJyNmaXJzdE5hbWUnKS52YWwoKTtcbiAgICB2YXIgbGFzdE5hbWUgPSBmb3JtLmZpbmQoJyNsYXN0TmFtZScpLnZhbCgpO1xuICAgIHZhciBpZCA9IGZvcm0uZmluZCgnI3VzZXJJZCcpLnZhbCgpO1xuICAgIHZhciB1c2VyID0ge307XG4gICAgdXNlci5maXJzdE5hbWUgPSBmaXJzdE5hbWU7XG4gICAgdXNlci5sYXN0TmFtZSA9IGxhc3ROYW1lO1xuICAgIHVzZXIuaWQgPSBpZDtcbiAgICAkLmFqYXgoe1xuICAgICAgICB0eXBlOiAnUFVUJyxcbiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgdXJsOiBcIi91c2Vycy9hZGRcIixcbiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkodXNlciksXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoJyNhZGRVc2VyTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbn1cblxuZnVuY3Rpb24gZGVsZXRlVXNlcihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBpZCA9ICQodGhpcykuZGF0YSgnaWQnKTtcbiAgICB2YXIgcmVzdWx0ID0gY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGU/XCIpO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDogJy91c2Vycy8nICsgaWQsXG4gICAgICAgICAgICB0eXBlOiAnREVMRVRFJyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB1c2VyLmxvYWRVc2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCB7IGxvYWRVc2VycywgbG9hZFVzZXIsIGVkaXRVc2VyLCBzYXZlVXNlciwgZGVsZXRlVXNlciB9IiwiaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzL3V0aWxzJztcbmltcG9ydCB7IFVQREFURV9GUkVRLCBQQUdFX1NJWkUsIFJBVElPTiB9IGZyb20gJy4uL3V0aWxzL2dsb2JhbHMnO1xuXG5cbmZ1bmN0aW9uIGxvYWRIaXN0b3J5SW5kZXgoaW5kZXgpIHtcbiAgICBsb2FkSGlzdG9yeShpbmRleCk7XG59XG5cbmZ1bmN0aW9uIGxvYWRIaXN0b3J5KG1haW5JbmRleCkge1xuICAgICQoJyNsb2FkJykubG9hZCgnL2hpc3RvcnknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykuZmluZCgnI2hpc3RvcnknKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxvYWRMYXN0M1Nlc3Npb25zKCk7XG4gICAgICAgICAgICBsb2FkSGlzdG9yeUxpc3QoJCh0aGlzKSwgbWFpbkluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvYWRMYXN0M1Nlc3Npb25zKCkge1xuICAgICQuZ2V0KCcvc2Vzc2lvbi8nICsgMCArICcvJyArIDIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBodG1sQ2FyZHMgPSAnJztcbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChzZXNzaW9uKSB7XG4gICAgICAgICAgICBodG1sQ2FyZHMgPSBjcmVhdGVDYXJkKGh0bWxDYXJkcywgc2Vzc2lvbik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJyNjYXJkcycpLmh0bWwoJzxkaXYgY2xhc3M9XCJjb2xcIj48ZGl2IGNsYXNzPVwiY2FyZC1kZWNrXCI+JyArIGh0bWxDYXJkcyArICc8L2Rpdj48L2Rpdj4nKTtcbiAgICAgICAgJCgnLmdweC10cmFjaycpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCh0aGlzKS50cmlnZ2VyKFwibG9hZC1tYXBcIiwgdGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkSGlzdG9yeUxpc3QodGhhdCwgbWFpbkluZGV4KSB7XG4gICAgdmFyIHN0YXJ0ID0gbWFpbkluZGV4ICogUEFHRV9TSVpFLCBzdG9wID0gKCgobWFpbkluZGV4ICsgMSkgKiBQQUdFX1NJWkUpKSAtIDE7XG4gICAgJC5nZXQoJy9zZXNzaW9uLycgKyBzdGFydCArICcvJyArIHN0b3AsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICQuZ2V0KCcvdXNlcnMnLCBmdW5jdGlvbiAodXNlcnMpIHtcbiAgICAgICAgICAgIHZhciBodG1sVGFibGUgPSAnJywgaW5kZXggPSAwO1xuICAgICAgICAgICAgdmFyIHVzZXJNYXAgPSB1c2Vycy5yZWR1Y2UoZnVuY3Rpb24obWFwLCBvYmopIHtcbiAgICAgICAgICAgICAgICBtYXBbb2JqLmlkXSA9IG9iajtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChzZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgaHRtbFRhYmxlID0gY3JlYXRlTGFwVGFibGVSZWNvcmQoaHRtbFRhYmxlLCBpbmRleCArIChtYWluSW5kZXggKiBQQUdFX1NJWkUpLCBzZXNzaW9uLCB1c2VyTWFwKTtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoJyNoaXN0b3ItdGFibGUtYm9keScpLmh0bWwoaHRtbFRhYmxlKTtcbiAgICAgICAgICAgIHZhciBwYWcgPSB0aGF0LmZpbmQoJy5wYWdlJyk7XG4gICAgICAgICAgICBjcmVhdGVIaXN0b3J5TmF2UGFnZShwYWcsIG1haW5JbmRleCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBvcGVuSGlzdG9yeShlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBuZXh0ID0gcGFyc2VJbnQoJCh0aGlzKS5kYXRhKCduZXh0JykpLCBpbmRleCA9IHBhcnNlSW50KCQodGhpcykuZGF0YSgnaW5kZXgnKSksXG4gICAgICAgIG1haW5JbmRleCA9IHBhcnNlSW50KCQoJyNoaXN0b3J5LXBhZ2UnKS5kYXRhKCdpbmRleCcpKTtcbiAgICBpZiAoIWlzTmFOKG5leHQpKSB7XG4gICAgICAgIG1haW5JbmRleCArPSBuZXh0O1xuICAgIH0gZWxzZSBpZiAoIWlzTmFOKGluZGV4KSkge1xuICAgICAgICBtYWluSW5kZXggPSBpbmRleDtcbiAgICB9XG4gICAgbG9hZEhpc3RvcnlMaXN0KCQoJyNoaXN0b3J5LXRhYmxlJyksIG1haW5JbmRleCk7XG59XG5cblxudmFyIGNyZWF0ZUNhcmQgPSBmdW5jdGlvbiAoaHRtbENhcmRzLCBzZXNzaW9uKSB7XG4gICAgaHRtbENhcmRzICs9ICc8ZGl2IGNsYXNzPVwiY2FyZCBncHgtdHJhY2tcIiBkYXRhLW5hbWU9XCInICsgc2Vzc2lvbi5uYW1lICsgJ1wiXCI+JztcbiAgICBodG1sQ2FyZHMgKz0gJzxkaXYgY2xhc3M9XCJjYXJkLWJvZHlcIj4nO1xuICAgIGh0bWxDYXJkcyArPSAnPGRpdiBjbGFzcz1cImNhcmQtbWFwLXRvcCBcIj48L2Rpdj4nO1xuICAgIGh0bWxDYXJkcyArPSAnPGg1IGNsYXNzPVwiY2FyZC10aXRsZSBtdC0yXCI+PGEgY2xhc3M9XCJzZXNzaW9uc1wiIGRhdGEtbmFtZT1cIicgKyBzZXNzaW9uLm5hbWUgKyAnXCIgaHJlZj1cIi9zZXNzaW9uXCI+JyArIHV0aWxzLnNlc3Npb25OYW1lVG9SZWFkYWJsZShzZXNzaW9uLm5hbWUpICsgJzwvYT48L2g1Pic7XG4gICAgaHRtbENhcmRzICs9ICc8cCBjbGFzcz1cImNhcmQtdGV4dFwiPkxlbmd0aDogJyArIHBhcnNlSW50KHNlc3Npb24uZW5kU3RhdHMubWV0ZXJzKSArICdtLCBUaW1lOiAnICsgdXRpbHMuZm10TVNTKHBhcnNlSW50KHNlc3Npb24uZW5kU3RhdHMuc2Vjb25kcykpICsgJzwvcD4nO1xuICAgIGh0bWxDYXJkcyArPSAnPGEgaHJlZj1cIi9zdHJhdmEvdXBsb2FkLycgKyBzZXNzaW9uLm5hbWUgKyAnXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgc3RyYXZhIGJ0bi1ibG9ja1wiPlVwbG9hZCB0byBTdHJhdmE8L2E+JztcbiAgICBodG1sQ2FyZHMgKz0gJzwvZGl2Pic7XG4gICAgaHRtbENhcmRzICs9ICc8L2Rpdj4nO1xuICAgIHJldHVybiBodG1sQ2FyZHM7XG59O1xuXG52YXIgY3JlYXRlTGFwVGFibGVSZWNvcmQgPSBmdW5jdGlvbiAoaHRtbFRhYmxlLCBpbmRleCwgc2Vzc2lvbiwgdXNlck1hcCkge1xuICAgIHZhciB1c2VyID0gdXNlck1hcFtzZXNzaW9uLnVzZXJdO1xuICAgIGh0bWxUYWJsZSArPSAnPHRyPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGggc2NvcGU9XCJyb3dcIj4nICsgKGluZGV4ICsgMSkgKyAnPC90aD4nO1xuICAgIGh0bWxUYWJsZSArPSAnPHRkPjxhIGNsYXNzPVwic2Vzc2lvbnNcIiBkYXRhLW5hbWU9XCInICsgc2Vzc2lvbi5uYW1lICsgJ1wiIGhyZWY9XCIvP25hbWU9JytzZXNzaW9uLm5hbWUrJyNzZXNzaW9uXCI+JyArIHV0aWxzLnNlc3Npb25OYW1lVG9SZWFkYWJsZShzZXNzaW9uLm5hbWUpICsgJzwvYT48L3RkPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+TGVuZ3RoOiAnICsgcGFyc2VJbnQoc2Vzc2lvbi5lbmRTdGF0cy5tZXRlcnMpICsgJ208L3RkPic7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgICAgaHRtbFRhYmxlICs9ICc8dGQ+JyArIHVzZXIuZmlyc3ROYW1lICsgJyAnICsgdXNlci5sYXN0TmFtZSArICc8L3RkPic7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaHRtbFRhYmxlICs9ICc8dGQ+PC90ZD4nO1xuICAgIH1cbiAgICBodG1sVGFibGUgKz0gJzx0ZD4gPGEgaHJlZj1cIi9zZXNzaW9ucy8nICsgc2Vzc2lvbi5uYW1lICsgJy5ncHhcIj48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIG1kLTM2XCI+ZmlsZV9kb3dubG9hZDwvaT48YSBjbGFzcz1cInN0cmF2YVwiIGhyZWY9XCIvc3RyYXZhL3VwbG9hZC8nICsgc2Vzc2lvbi5uYW1lICsgJ1wiPicgK1xuICAgICAgICAnPGkgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdGl0bGU9XCJVcGxvYWQgdG8gU3RyYXZhXCIgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBtZC0zNiBzdHJhdmEtaWNvblwiPmNsb3VkX3VwbG9hZDwvaT48L2E+IDxhIGNsYXNzPVwiZGVsLXNlc3Npb25cIiBocmVmPVwiI1wiIGRhdGEtbmFtZT1cIicgKyBzZXNzaW9uLm5hbWUgKyAnXCI+JyArXG4gICAgICAgICc8aSBhcmlhLWhpZGRlbj1cInRydWVcIiB0aXRsZT1cIkRlbGV0ZSBzZXNzaW9uIGxvY2FsXCIgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBtZC0zNlwiPmRlbGV0ZTwvaT48L2E+PC90ZD4nO1xuICAgIGh0bWxUYWJsZSArPSAnPC90cj4nO1xuICAgIHJldHVybiBodG1sVGFibGU7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVIaXN0b3J5TmF2UGFnZShwYWdlLCBpbmRleCkge1xuICAgIHZhciBodG1sRWxlbWVudCA9ICQoJzx1bCBpZD1cImhpc3RvcnktcGFnZVwiIGRhdGEtaW5kZXg9XCInICsgaW5kZXggKyAnXCI+PC91bD4nKS5hZGRDbGFzcyhcInBhZ2luYXRpb24gcGFnaW5hdGlvbi1sZ1wiKTtcbiAgICAkLmdldChcInNlc3Npb24vc2l6ZVwiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgc2l6ZSA9IHBhcnNlSW50KHBhcnNlSW50KGRhdGEpIC8gUEFHRV9TSVpFKSArIDE7XG4gICAgICAgIHZhciBwcmV2RGlzYWJsZWQgPSAoaW5kZXggPT09IDAgPyAnZGlzYWJsZWQnIDogJycpO1xuICAgICAgICB2YXIgbmV4dERpc2FibGVkID0gKGluZGV4ID09PSBzaXplIC0gMSA/ICdkaXNhYmxlZCcgOiAnJyk7XG4gICAgICAgIHZhciBwcmV2ID0gJCgnPGxpIGNsYXNzPVwicGFnZS1pdGVtICcgKyBwcmV2RGlzYWJsZWQgKyAnXCI+PC9saT4nKS5hcHBlbmQoJzxhIGNsYXNzPVwicGFnZS1saW5rXCIgaHJlZj1cIiNcIiBkYXRhLW5leHQ9XCItMVwiIHRhYmluZGV4PVwiLTFcIj5QcmV2aW91czwvYT4nKTtcbiAgICAgICAgdmFyIG5leHQgPSAkKCc8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gJyArIG5leHREaXNhYmxlZCArICdcIj48L2xpPicpLmFwcGVuZCgnPGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBkYXRhLW5leHQ9XCIxXCIgaHJlZj1cIiNcIj5OZXh0PC9hPicpO1xuXG4gICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZChwcmV2KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhY3RpdmUgPSAnJztcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gaSkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IFwiYWN0aXZlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaXRlbSA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgYWN0aXZlICsgJ1wiPjxhIGNsYXNzPVwicGFnZS1saW5rXCIgZGF0YS1pbmRleD1cIicgKyBpICsgJ1wiIGhyZWY9XCIjXCI+JyArIChpICsgMSkgKyAnPC9hPjwvbGk+Jyk7XG4gICAgICAgICAgICBodG1sRWxlbWVudC5hcHBlbmQoaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kKG5leHQpO1xuICAgICAgICAkKHBhZ2UpLmh0bWwoaHRtbEVsZW1lbnQpO1xuICAgIH0pO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IHsgbG9hZEhpc3RvcnlJbmRleCwgbG9hZEhpc3RvcnksIGxvYWRIaXN0b3J5TGlzdCwgb3Blbkhpc3RvcnkgfSIsImltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy91dGlscyc7XG5pbXBvcnQgZ3JhcGhVdGlscyBmcm9tICcuLi91dGlscy9ncmFwaFV0aWxzJztcbmltcG9ydCB7IFVQREFURV9GUkVRLCBQQUdFX1NJWkUsIFJBVElPTiwgcnVuIH0gZnJvbSAnLi4vdXRpbHMvZ2xvYmFscyc7XG5pbXBvcnQgZnJvbnQgZnJvbSAnLi4vZnJvbnQvaW5kZXgnO1xuaW1wb3J0IHJvdXRlIGZyb20gJy4uL3JvdXRlL2luZGV4JztcbmltcG9ydCB1c2VyIGZyb20gJy4uL3VzZXIvaW5kZXgnO1xuaW1wb3J0IG1hcFV0aWxzIGZyb20gJy4uL3V0aWxzL21hcFV0aWxzJ1xuaW1wb3J0IG1hcCBmcm9tICcuLi9tYXAvaW5kZXgnXG5pbXBvcnQgaGlzdG9yeSBmcm9tICcuLi9oaXN0b3J5L2luZGV4J1xuXG5cbmZ1bmN0aW9uIGxvYWRTZXNzaW9uKG5hbWUpIHtcbiAgICAkKCcjbG9hZCcpLmxvYWQoJy9zZXNzaW9ucycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5maW5kKCcjcm91dGVzJykuZWFjaChyb3V0ZS5sb2FkUm91dGVzKTtcbiAgICAgICAgJCh0aGlzKS5maW5kKCcjc2Vzc2lvbi11c2VyJykuZWFjaCh1c2VyLmxvYWRVc2Vycyk7XG4gICAgICAgICQodGhpcykuZmluZCgnI2hpc3Rvcnktc2Vzc2lvbicpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRpdGxlID0gXCJIaXN0b3J5XCI7XG4gICAgICAgICAgICAkLmdldChcIi9zZXNzaW9uL1wiICsgbmFtZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGZyb250LmdldEh0bWwodGl0bGUsIGRhdGEuZW5kU3RhdHMsIHRydWUpO1xuICAgICAgICAgICAgICAgICQoJyNyb3V0ZXMnKS52YWwoZGF0YS5yb3V0ZSk7XG4gICAgICAgICAgICAgICAgJCgnI3Nlc3Npb24tdXNlcicpLnZhbChkYXRhLnVzZXIpO1xuICAgICAgICAgICAgICAgIGlmIChodG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0YWJsZS1jb250ZW50JykuaHRtbChodG1sKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2xhcHMtYm9keScpLmh0bWwoZ2V0TGFwSHRtbCh0aXRsZSwgZGF0YS5lbmRTdGF0cykpO1xuICAgICAgICAgICAgICAgICAgICBtYXBVdGlscy5hZGRHcHhUcmFja1RvTWFwKG5hbWUsICQoXCIjbGl2ZS1tYXBcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncmFwaFV0aWxzLmFkZEdyYXBoKGRhdGEucmF3LCBkYXRhLnJhd0hyLCBwYXJzZUludChkYXRhLnN0YXJ0KSwgZGF0YS5zdHJva2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRMYXBIdG1sKGxhYmVsLCBqc29uLCByZXZlcnNlKSB7XG4gICAgdmFyIGh0bWwgPSAnJztcbiAgICBpZiAocGFyc2VJbnQoanNvbi50b3RhbExhcHMpID4gMCkge1xuICAgICAgICB2YXIgbGFwTnVtID0gMTtcbiAgICAgICAgdmFyIGxhcHMgPSBqc29uLmxhcHM7XG4gICAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgICAgICBsYXBzLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGxhcE51bSA9IGxhcHMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGxhcHMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8dHI+PHRoIHNjb3BlPVwicm93XCI+JyArIGxhcE51bSArICc8L3RoPjx0ZD4nICsgcGFyc2VJbnQodmFsdWUubWV0ZXJzKSArICc8L3RkPjx0ZD4nICsgdXRpbHMuZm10TVNTKHBhcnNlSW50KHZhbHVlLnNlY29uZHMpKSArICc8L3RkPic7XG4gICAgICAgICAgICAgICAgaHRtbCArPSAnPHRkPicgKyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQodmFsdWUud2F0dCkgKiAxMCkgLyAxMCArICd3PC90ZD48L3RyPic7XG4gICAgICAgICAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFwTnVtLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGFwTnVtKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gaHRtbDtcbn1cblxuXG52YXIgY2xpY2tTZXNzaW9uID0gZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIG5hbWUgPSAkKHRoaXMpLmRhdGEoJ25hbWUnKTtcbiAgICBsb2FkU2Vzc2lvbihuYW1lKTtcbn07XG5cbmZ1bmN0aW9uIGRlbGV0ZVNlc3Npb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgbmFtZSA9ICQodGhpcykuZGF0YSgnbmFtZScpO1xuICAgIHZhciByZXN1bHQgPSBjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBzZXNzaW9uP1wiKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6ICcvc2Vzc2lvbi9kZWwvJyArIG5hbWUsXG4gICAgICAgICAgICB0eXBlOiAnREVMRVRFJyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBhbGVydChcIlNlc3Npb24gZGVsZXRlZFwiKTtcbiAgICAgICAgICAgICAgICBoaXN0b3J5LmxvYWRIaXN0b3J5SW5kZXgoMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBsb2FkU2Vzc2lvbiwgY2xpY2tTZXNzaW9uLCBnZXRMYXBIdG1sLCBkZWxldGVTZXNzaW9uIH0iLCJpbXBvcnQgcm91dGUgZnJvbSAnLi4vcm91dGUvaW5kZXgnO1xuaW1wb3J0IHVzZXIgZnJvbSAnLi4vdXNlci9pbmRleCc7XG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMvdXRpbHMnXG5pbXBvcnQgbWFwVXRpbHMgZnJvbSAnLi4vdXRpbHMvbWFwVXRpbHMnXG5pbXBvcnQgZ2xvYmFscyBmcm9tICcuLi91dGlscy9nbG9iYWxzJztcbmltcG9ydCBzZXNzaW9uIGZyb20gJy4uL3Nlc3Npb24vaW5kZXgnO1xuaW1wb3J0IG1hcCBmcm9tICcuLi9tYXAvaW5kZXgnXG5pbXBvcnQgaGlzdG9yeSBmcm9tICcuLi9oaXN0b3J5L2luZGV4J1xuXG52YXIgdGltZU91dDtcblxuZnVuY3Rpb24gbG9hZE1haW4oKSB7XG4gICAgJCgnI2xvYWQnKS5sb2FkKCcvbWFpbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5maW5kKCcjcm91dGVzJykuZWFjaChyb3V0ZS5sb2FkUm91dGVzKTtcbiAgICAgICAgJCh0aGlzKS5maW5kKCcjc2Vzc2lvbi11c2VyJykuZWFjaCh1c2VyLmxvYWRVc2Vycyk7XG4gICAgICAgICQuZ2V0KFwiL3Jvdy9zdGF0dXNcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gJ1JPV0lORycpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRCdXR0b24gPSAkKCcjc3RhcnRSb3cnKTtcbiAgICAgICAgICAgICAgICBpZiAodXRpbHMuZ2V0VXJsUGFyYW1ldGVyKFwidGVzdFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydEJ1dHRvbiA9ICQoJyNzdGFydFNpbXVsYXRvcicpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YXJ0KHN0YXJ0QnV0dG9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9SdW4gc2ltdWxhdG9yIGlmIHRlc3QuXG4gICAgICAgIGlmICh1dGlscy5nZXRVcmxQYXJhbWV0ZXIoXCJ0ZXN0XCIpKSB7XG4gICAgICAgICAgICAkKCcjc3RhcnRSb3cnKS5hdHRyKFwiaWRcIiwgXCJzdGFydFNpbXVsYXRvclwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiB1cGxvYWRUb1N0cmF2YShlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBocmVmID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG4gICAgJC5nZXQoaHJlZiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgIGFsZXJ0KFwiVXBsb2FkZWQgdG8gc3RyYXZhIVwiKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc3RhcnRSb3coZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgcm91dGVzID0gJCgnI3JvdXRlcycpLnZhbCgpO1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAkLmdldChcIi9yb3cvc3RhcnRcIiwgeyByb3V0ZXM6IHJvdXRlcyB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0YXJ0KHRoYXQpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzdG9wUm93KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIHRoYXQgPSAkKHRoaXMpO1xuICAgIGNsZWFyVGltZW91dCh0aW1lT3V0KTtcbiAgICBnbG9iYWxzLnJ1biA9IGZhbHNlO1xuICAgIHZhciByb3V0ZXMgPSAkKCcjcm91dGVzJykudmFsKCk7XG4gICAgdmFyIHVzZXIgPSAkKCcjc2Vzc2lvbi11c2VyJykudmFsKCk7XG4gICAgJC5nZXQoXCIvcm93L3N0b3BcIiwgeyByb3V0ZXM6IHJvdXRlcywgdXNlcjogdXNlciB9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAkKCcjdGFibGUtY29udGVudCcpLmh0bWwoZ2V0SHRtbChcIlN0b3BwZWRcIiwgZGF0YSwgZmFsc2UpKTtcbiAgICAgICAgdmFyIHN0YXJ0Um93ID0gJChcIiNzdGFydFJvd1wiKTtcbiAgICAgICAgc3RhcnRSb3cucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgc3RhcnRSb3cucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICBzdGFydFJvdy5odG1sKCdTdGFydCByb3cnKTtcbiAgICAgICAgdGhhdC5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICQoJyNyb3V0ZXMnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAkKCcjc2Vzc2lvbi11c2VyJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgJChcIiNzdGFydFNpbXVsYXRvclwiKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzdGFydChzdGFydEJ1dHRvbikge1xuICAgICQod2luZG93KS5zY3JvbGxUb3AoJCgnI21haW4nKS5vZmZzZXQoKS50b3ApOyAvL1Njcm9sbFxuICAgIGdldF9yb3dJbmZvKHRydWUsIFwiUm93aW5nXCIpO1xuICAgIG1hcFV0aWxzLmNsZWFuTWFwKCk7XG4gICAgJCgnI3JvdXRlcycpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgJCgnI3Nlc3Npb24tdXNlcicpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgJChcIiNzdGFydFNpbXVsYXRvclwiKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICQoc3RhcnRCdXR0b24pLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgJChzdGFydEJ1dHRvbikuaHRtbCgnUm93aW5nLi4uJyk7XG4gICAgJChzdGFydEJ1dHRvbikuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICQoJyNzdG9wUm93JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xufVxuXG5mdW5jdGlvbiBnZXRfcm93SW5mbyhjb250aW51ZXMsIHRpdGxlKSB7XG4gICAgZ2xvYmFscy5ydW4gPSBjb250aW51ZXM7XG4gICAgJC5nZXQoXCIvcm93XCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBodG1sID0gZ2V0SHRtbCh0aXRsZSwgZGF0YSk7XG4gICAgICAgIGlmIChodG1sKSB7XG4gICAgICAgICAgICAkKCcjdGFibGUtY29udGVudCcpLmh0bWwoaHRtbCk7XG4gICAgICAgICAgICAkKCcjbGFwcy1ib2R5JykuaHRtbChzZXNzaW9uLmdldExhcEh0bWwodGl0bGUsIGRhdGEsIHRydWUpKTtcbiAgICAgICAgICAgIHZhciBsYXQgPSBkYXRhLmdwcy5sYXQ7XG4gICAgICAgICAgICB2YXIgbG9uID0gZGF0YS5ncHMubG9uO1xuICAgICAgICAgICAgdmFyIHAgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdCwgbG9uKTtcbiAgICAgICAgICAgIG1hcC5saXZlUG9pbnRzLnB1c2gocCk7XG4gICAgICAgICAgICBpZiAobWFwLmxpdmVCb3VuZHMpIHtcbiAgICAgICAgICAgICAgICBtYXAubGl2ZUJvdW5kcy5leHRlbmQocCk7XG4gICAgICAgICAgICAgICAgdmFyIHBvbHkgPSBtYXBVdGlscy5jcmVhdGVQb2x5TGluZShtYXAubGl2ZVBvaW50cyk7XG4gICAgICAgICAgICAgICAgcG9seS5zZXRNYXAobWFwLmxpdmVNYXApO1xuICAgICAgICAgICAgICAgIG1hcC5saXZlTWFwLmZpdEJvdW5kcyhtYXAubGl2ZUJvdW5kcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH0pLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZ2xvYmFscy5ydW4pIHtcbiAgICAgICAgICAgIHRpbWVPdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgZ2V0X3Jvd0luZm8odHJ1ZSwgdGl0bGUpOyB9LCBnbG9iYWxzLlVQREFURV9GUkVRKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkKCkge1xuICAgIHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG4gICAgc3dpdGNoIChoYXNoKSB7XG4gICAgICAgIGNhc2UgJyNyb3V0ZSc6XG4gICAgICAgICAgICByb3V0ZS5sb2FkUm91dGUoMCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnI3VzZXInOlxuICAgICAgICAgICAgdXNlci5sb2FkVXNlcigpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJyNoaXN0b3J5JzpcbiAgICAgICAgICAgIGhpc3RvcnkubG9hZEhpc3RvcnkoMCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnI3Nlc3Npb24nOlxuICAgICAgICAgICAgc2Vzc2lvbi5sb2FkU2Vzc2lvbih1dGlscy5RdWVyeVN0cmluZ1tcIm5hbWVcIl0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBsb2FkTWFpbigpO1xuICAgIH1cbn1cblxuXG5mdW5jdGlvbiBnZXRIdG1sKGxhYmVsLCBqc29uLCBkYXkpIHtcbiAgICBpZiAocGFyc2VJbnQoanNvbi5tZXRlcnMpID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGh0bWwgPSAnJztcbiAgICBpZiAoZGF5KSB7XG4gICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5EYXk8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIGpzb24uc3RhcnQuc3Vic3RyKDIsIGpzb24uc3RhcnQubGFzdEluZGV4T2YoJ1QnKSAtIDIpICsgJzwvZGl2PjwvZGl2Pic7XG4gICAgfVxuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5TdGFydDo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIGpzb24uc3RhcnQuc3Vic3RyKGpzb24uc3RhcnQubGFzdEluZGV4T2YoJ1QnKSArIDEsIDgpICsgJzwvZGl2PjwvZGl2Pic7XG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPlRpbWU6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyB1dGlscy5mbXRNU1MocGFyc2VJbnQoanNvbi5zZWNvbmRzKSkgKyAnPC9kaXY+PC9kaXY+JztcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+TGVuZ3RoOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2xcIj4nICsgcGFyc2VJbnQoanNvbi5tZXRlcnMpICsgJyBtICgnICsgcGFyc2VJbnQoanNvbi5yb3V0ZUxhcCkgKyAnKTwvZGl2PjwvZGl2Pic7XG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPlBhY2U6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoanNvbi5wYWNlKSAqIDMuNiAqIDEwKSAvIDEwICsgJyBrbS90PC9kaXY+PC9kaXY+JztcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+NTAwbTo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIHV0aWxzLmZtdE1TUyhwYXJzZUludChqc29uLmxhcFBhY2UpKSArICc8L2Rpdj48L2Rpdj4nO1xuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj4yazo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIHV0aWxzLmZtdE1TUyhwYXJzZUludChqc29uLnRvd0tQYWNlKSkgKyAnPC9kaXY+PC9kaXY+JztcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+QXZnLlc6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoanNvbi53YXR0KSAqIDEwKSAvIDEwICsgJ3c8L2Rpdj48L2Rpdj4nO1xuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5TUjo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIE1hdGgucm91bmQocGFyc2VGbG9hdChqc29uLnN0cm9rZSkgKiAxMCkgLyAxMCArICc8L2Rpdj48L2Rpdj4nO1xuICAgIGlmIChwYXJzZUludChqc29uLmhyKSA+IDApIHtcbiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPkhSOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2wgJyArIHV0aWxzLmdldEhlYXJ0UmF0ZUNvbG9yKHBhcnNlSW50KGpzb24uaHIpKSArICdcIj4nICsgcGFyc2VJbnQoanNvbi5ocikgKyAocGFyc2VJbnQoanNvbi5hdmdIcikgPiAwID8gJygnICsgcGFyc2VJbnQoanNvbi5hdmdIcikgKyAnKScgOiAnJykgKyAnPC9kaXY+PC9kaXY+JztcbiAgICB9XG4gICAgaWYgKGpzb24uZmlsZU5hbWUpIHtcbiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPkFjdGlvbnM6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPjxhIGhyZWY9XCIvc2Vzc2lvbnMvJyArIGpzb24uZmlsZU5hbWU7XG4gICAgICAgIGh0bWwgKz0gJ1wiPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5maWxlX2Rvd25sb2FkPC9pPjxhIGNsYXNzPVwic3RyYXZhXCIgaHJlZj1cIi9zdHJhdmEvdXBsb2FkLycgKyBqc29uLm5hbWU7XG4gICAgICAgIGh0bWwgKz0gJ1wiPjxpIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHRpdGxlPVwiVXBsb2FkIHRvIHN0cmF2YVwiIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jbG91ZF91cGxvYWQ8L2k+PC9hPic7XG4gICAgICAgIGh0bWwgKz0gJzxhIGNsYXNzPVwic2Vzc2lvbnNcIiBkYXRhLW5hbWU9XCInICsganNvbi5uYW1lICsgJ1wiIGhyZWY9XCIvc2Vzc2lvbnNcIj48aSBhcmlhLWhpZGRlbj1cInRydWVcIiB0aXRsZT1cIlNlc3Npb25cIiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZmliZXJfbmV3PC9pPjwvYT48L2Rpdj48L2Rpdj4nO1xuICAgIH1cbiAgICByZXR1cm4gaHRtbCArIFwiXCI7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgeyBsb2FkTWFpbiwgc3RhcnQsIGdldF9yb3dJbmZvLCBnZXRIdG1sLCBzdGFydFJvdywgc3RvcFJvdywgbG9hZCwgdXBsb2FkVG9TdHJhdmEgfTsiLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscy91dGlscyc7XG5pbXBvcnQgZnJvbnQgZnJvbSAnLi9mcm9udC9pbmRleCc7XG5pbXBvcnQgcm91dGUgZnJvbSAnLi9yb3V0ZS9pbmRleCc7XG5pbXBvcnQgdXNlciBmcm9tICcuL3VzZXIvaW5kZXgnO1xuaW1wb3J0IG1hcFV0aWxzIGZyb20gJy4vdXRpbHMvbWFwVXRpbHMnXG5pbXBvcnQgbWFwIGZyb20gJy4vbWFwL2luZGV4J1xuaW1wb3J0IGhpc3RvcnkgZnJvbSAnLi9oaXN0b3J5L2luZGV4J1xuaW1wb3J0IHNlc3Npb24gZnJvbSAnLi9zZXNzaW9uL2luZGV4J1xuXG4vKipcbiAqIERlY2xhcmVzIGEgbmV3IG9iamVjdCBpbiB0aGUgd2luZG93IG5hbWVseSBRdWVyeVN0cmluZyB0aGF0IGNvbnRhaW5zIGV2ZXJ5IGdldCBwYXJhbWV0ZXIgZnJvbSB0aGUgY3VycmVudCBVUkwgYXMgYSBwcm9wZXJ0eVxuICovXG53aW5kb3cuUXVlcnlTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyBhbm9ueW1vdXMsIGlzIGV4ZWN1dGVkIGltbWVkaWF0ZWx5IGFuZCBcbiAgICAvLyB0aGUgcmV0dXJuIHZhbHVlIGlzIGFzc2lnbmVkIHRvIFF1ZXJ5U3RyaW5nIVxuICAgIHZhciBxdWVyeV9zdHJpbmcgPSB7fTtcbiAgICB2YXIgcXVlcnkgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKTtcbiAgICB2YXIgdmFycyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xuXG4gICAgICAgIC8vIElmIGZpcnN0IGVudHJ5IHdpdGggdGhpcyBuYW1lXG4gICAgICAgIGlmICh0eXBlb2YgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICAgICAgICAvLyBJZiBzZWNvbmQgZW50cnkgd2l0aCB0aGlzIG5hbWVcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB2YXIgYXJyID0gW3F1ZXJ5X3N0cmluZ1twYWlyWzBdXSwgZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pXTtcbiAgICAgICAgICAgIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9IGFycjtcbiAgICAgICAgICAgIC8vIElmIHRoaXJkIG9yIGxhdGVyIGVudHJ5IHdpdGggdGhpcyBuYW1lXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0ucHVzaChkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHF1ZXJ5X3N0cmluZztcbn0oKTtcblxuJChmdW5jdGlvbiAoKSB7XG5cbiAgICAvKiogSW5pdCBzaGFyZWQgKi9cbiAgICBmcm9udC5nZXRfcm93SW5mbyhmYWxzZSwgXCJcIik7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcubWFpbicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGZyb250LmxvYWRNYWluKCk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcjdXNlcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHVzZXIubG9hZFVzZXIoKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJyNoaXN0b3J5LXBhZ2UgYScsIGhpc3Rvcnkub3Blbkhpc3RvcnkpO1xuXG4gICAgLy9UT0RPOiByZWZhY3RvcnlcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcjcm91dGUtcGFnZSBhJywgcm91dGUub3BlblJvdXRlKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5uYXYtbGluaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICQoJyNtYWluLW5hdicpLmZpbmQoXCIubmF2LWl0ZW1cIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5zZXNzaW9ucycsIHNlc3Npb24uY2xpY2tTZXNzaW9uKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJ2EjaGlzdG9yeScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGhpc3RvcnkubG9hZEhpc3RvcnlJbmRleCgwLCAwKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJ2Ejcm91dGUnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICByb3V0ZS5sb2FkUm91dGUoMCk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImxvYWQtbWFwXCIsICcuZ3B4LXRyYWNrJywgbWFwVXRpbHMubG9hZEdweE1hcCk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICdidXR0b24jc3RhcnRSb3cnLCBmcm9udC5zdGFydFJvdyk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICdidXR0b24jc3RvcFJvdycsIGZyb250LnN0b3BSb3cpO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLmVkaXQtdXNlcicsIHVzZXIuZWRpdFVzZXIpO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLmVkaXQtcm91dGUnLCByb3V0ZS5lZGl0Um91dGUpO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLnN0cmF2YScsIGZyb250LnVwbG9hZFRvU3RyYXZhKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5kZWwtc2Vzc2lvbicsIHNlc3Npb24uZGVsZXRlU2Vzc2lvbik7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiI3NhdmUtcm91dGVcIiwgcm91dGUuc2F2ZVJvdXRlKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIjc2F2ZS11c2VyXCIsIHVzZXIuc2F2ZVVzZXIpO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLmRlbC11c2VyJywgdXNlci5kZWxldGVVc2VyKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5kZWwtcm91dGUnLCByb3V0ZS5kZWxldGVSb3V0ZSk7XG5cbiAgICAkKCcjbG9hZCcpLmVhY2goZnJvbnQubG9hZCk7XG5cbiAgICAkKCcjcm91dGVzJykuZWFjaChyb3V0ZS5sb2FkUm91dGVzKTtcblxuICAgICQoJyNzZXNzaW9uLXVzZXInKS5lYWNoKHVzZXIubG9hZFVzZXJzKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKCdzaG93LmJzLm1vZGFsJywgJyNzaG93LXJvdXRlLW1vZGFsJywgcm91dGUuc2hvd1JvdXRlTW9kYWwpO1xuXG4gICAgJChkb2N1bWVudCkub24oJ3Nob3duLmJzLm1vZGFsJywgJyNzaG93LXJvdXRlLW1vZGFsJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIG5hbWUgPSAkKGUucmVsYXRlZFRhcmdldCkuZGF0YSgncm91dGUtbmFtZScpO1xuICAgICAgICBtYXBVdGlscy5hZGRSb3V0ZVRyYWNrVG9NYXAobmFtZSwgJChcIiNsaXZlLXJvdXRlLW1hcFwiKSk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNoYW5nZVwiLCAnI3JvdXRlcycsIHJvdXRlLmNoYW5nZVJvdXRlU2VsZWN0KTtcbn0pO1xuXG5cblxuXG5cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==