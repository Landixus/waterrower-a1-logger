!function(e){var t={};function a(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";a.r(t);const s=2.8;var n={calcWatt:function(e){return s/Math.pow(e,3)},sessionNameToReadable:function(e){return moment(e.slice(0,13)+":"+e.slice(13,15)+":"+e.slice(15)).format("YYYY-MM-DD hh:mm:ss")},getHeartRateColor:function(e){return e<125?"text-success":e<150?"text-primary":e<175?"text-warning":"text-danger"},getUrlParameter:function(e){var t,a,s=decodeURIComponent(window.location.search.substring(1)).split("&");for(a=0;a<s.length;a++)if((t=s[a].split("="))[0]===e)return void 0===t[1]||t[1]},fmtMSS:function(e){var t=new Date(null);return t.setSeconds(e),t.toISOString().substr(11,8)},QueryString:function(e){for(var t={},a=(e.split("?")[1]||"").split("&"),s=0;s<a.length;s++){var n=a[s].split("=");if(void 0===t[n[0]])t[n[0]]=decodeURIComponent(n[1]);else if("string"==typeof t[n[0]]){var o=[t[n[0]],decodeURIComponent(n[1])];t[n[0]]=o}else t[n[0]].push(decodeURIComponent(n[1]))}return t}},o={livePoints:[],liveMap:void 0,liveBounds:void 0};const i=[{featureType:"landscape",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]}];function r(){var e=document.getElementById("live-map");e&&(o.liveMap=new google.maps.Map(e,{zoom:8,maxZoom:16}),o.liveBounds=new google.maps.LatLngBounds,o.liveMap.set("styles",i))}function l(e){return new google.maps.Polyline({path:e,strokeColor:"#FF00AA",strokeOpacity:.7,strokeWeight:4})}var d=function(e,t){e&&$.ajax({type:"GET",url:"/sessions/"+e+".gpx",success:function(e){var a=[],s=new google.maps.Map(t[0],{zoom:16});s.set("styles",i);var n=new google.maps.LatLngBounds;$(e).find("trkpt").each(function(){var e=$(this).attr("lat"),t=$(this).attr("lon"),s=new google.maps.LatLng(e,t);a.push(s),n.extend(s)}),l(a).setMap(s),s.fitBounds(n)}})};var c={cleanMap:function(){r(),o.livePoints=[],l(o.livePoints).setMap(o.liveMap),"function"==typeof o.liveMap.fitBounds&&o.liveMap.fitBounds(o.liveBounds)},initMap:r,styles:i,addRouteTrackToMap:function(e,t){e&&$.ajax({type:"GET",url:"/routes/"+e,success:function(e){var a=[],s=new google.maps.Map(t[0],{zoom:8,maxZoom:16});s.set("styles",i);var n=new google.maps.LatLngBounds;e.gps.forEach(function(e){var t=e.lat,s=e.lon,o=new google.maps.LatLng(t,s);a.push(o),n.extend(o)}),l(a).setMap(s),s.fitBounds(n)}})},addGpxTrackToMap:d,loadGpxMap:function(){var e=$(this).data("name"),t=$(this).find(".card-map-top");d(e,t)},createPolyLine:l};var u={leaderboard:function(e,t){$.get("/strava/route/leaderboard/"+e,function(e){t.apply(e)})},segment:function(e,t){$.get("/strava/route/"+e,function(e){t.apply(e)})}};const p=100/4.805*6,f=10;var v={RATION:p,PAGE_SIZE:f,UPDATE_FREQ:1e3,run:!1};var m={addGraph:function(e,t,a,s){for(var o=[],i=[],r=[],l=1,d=1;d<e.length;d++){var c=parseInt(e[d]),u=parseInt(s[l]),f=(c-a)/1e3,v=p/100;o.push(v/f*3.6);var m=n.calcWatt(f/v);i.push(m),r.push(6e4/(u-parseInt(s[l-1]))),a=parseInt(e[d]),c>u&&l++}var h=[],g=[],y=[],b=[],w=[],x=10;for(e.length>1e3&&(x=20);e.length;){var I,S=e.splice(0,x),k=parseInt(S.reduce(function(e,t){return e+t})/S.length);if(w.push(new Date(k).toISOString().substr(new Date(k).toISOString().lastIndexOf("T")+1,8)),t&&(I=t.splice(0,x)).length>0&&g.push(parseInt(I.reduce(function(e,t){return e+t})/I.length)),r&&(I=r.splice(0,x)).length>0&&b.push(Math.round(10*parseFloat(I.reduce(function(e,t){return e+t})/I.length))/10),o){var R=o.splice(0,x),M=i.splice(0,x);R.length>0&&h.push(Math.round(10*parseFloat(R.reduce(function(e,t){return e+t})/R.length))/10),M.length>0&&y.push(Math.round(10*parseFloat(M.reduce(function(e,t){return e+t})/M.length))/10)}}var T=$("#hr-graph"),U={labels:w,datasets:[{label:"Heart rate (bpm)",borderColor:"#dc3545",backgroundColor:"#dc3545",fill:!1,data:g,yAxisID:"y-axis-1"},{label:"Speed (km/t)",borderColor:"#007bff",backgroundColor:"#007bff",fill:!1,data:h,yAxisID:"y-axis-2"},{label:"Watt",borderColor:"#4bc0c0",backgroundColor:"#4bc0c0",fill:!1,data:y,lineTension:0,yAxisID:"y-axis-3"},{label:"Stroke rate (spm)",borderColor:"#9966FF",backgroundColor:"#9966FF",fill:!1,data:b,yAxisID:"y-axis-4"}]};Chart.Line(T,{data:U,options:{responsive:!0,hoverMode:"index",stacked:!1,scales:{yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1",ticks:{suggestedMin:30,min:0,stepSize:5}},{type:"linear",display:!0,position:"right",id:"y-axis-2",ticks:{stepSize:2},gridLines:{drawOnChartArea:!1}},{type:"linear",display:!0,position:"right",id:"y-axis-3",ticks:{stepSize:25},gridLines:{drawOnChartArea:!1}},{type:"linear",display:!0,position:"right",id:"y-axis-4",ticks:{stepSize:2,suggestedMin:10},gridLines:{drawOnChartArea:!1}}]}}})}},h=function(e,t,a){return e+="<tr>",e+='<th scope="row">'+(t+1)+"</th>",e+='<td><a data-toggle="modal" data-route-name="'+a.name+'" data-target="#show-route-modal" href="/routes/'+a.name+'">'+a.name+"</a></td>",e+="<td>"+parseInt(a.meters)+"m</td>",e+="<td>"+a.country+"</td>",e+="<td>",!0!==a.permanent?e+='<a class="edit-route" href="#" data-id="'+a.name+'"><i class="material-icons">create</i></a><a class="del-route" href="#" data-id="'+a.name+'"><i aria-hidden="true" title="Delete route" class="material-icons">delete</i></a></td>':e+="<i>Default</i>",e+="</tr>"};function g(e){$("#load").load("/route",function(){$(this).find("#routes-t").each(function(){b(0),y($("#routes-table").find(".page")[0],e)})})}function y(e,t){var a=$('<ul id="route-page" data-index="'+t+'"></ul>').addClass("pagination pagination-lg");$.get("routes/size",function(s){var n=parseInt(parseInt(s)/f)+1,o=t===n-1?"disabled":"",i=$('<li class="page-item '+(0===t?"disabled":"")+'"></li>').append('<a class="page-link" href="#" data-next="-1" tabindex="-1">Previous</a>'),r=$('<li class="page-item '+o+'"></li>').append('<a class="page-link" data-next="1" href="#">Next</a>');a.append(i);for(var l=0;l<n;l++){var d="";t===l&&(d="active");var c=$('<li class="page-item '+d+'"><a class="page-link" data-index="'+l+'" href="#">'+(l+1)+"</a></li>");a.append(c)}a.append(r),$(e).html(a)})}function b(e){var t=e*f,a=(e+1)*f-1;$.get("/routes/"+t+"/"+a,function(t){var a="",s=0;t.forEach(function(t){a=h(a,s+e*f,t),s++}),$("#routes-table-body").html(a),$("#add-route-modal").on("hidden.bs.modal",function(e){g(0)})})}function w(){var e=$("#routes").find(":selected");c.cleanMap();var t=e.data("name");c.addRouteTrackToMap(t,$("#live-map"))}var x={loadRoutes:function(){var e=this;$.get("/row/routes",function(t){var a="",s="";t.sort(function(e,t){return e.country>t.country?1:t.country>e.country?-1:0});var n='selected="selected"';t.forEach(function(e){e.country!==s&&(a+='<optgroup label="'+e.country+'">',s=e.country),a+="<option "+n+' value="'+e.index+'" data-name="'+e.name+'" data-lat="'+e.gps[0].lat+'" data-lon="'+e.gps[0].lon+'">'+e.name+" ("+e.meters+"m)</option>",n=""}),$(e).html(a),w()})},createRouteRecord:h,loadRoute:g,loadRouteTable:b,createRouteNavPage:y,editRoute:function(e){e.preventDefault();var t=$(this).data("id");$.ajax({url:"/routes/"+t,type:"GET",success:function(e){var t=$("#addRoute");t.find("#name").val(e.name),t.find("#meters").val(e.meters),t.find("#segmentId").val(e.segmentId),t.find("#countries").val(e.country);var a=JSON.stringify(e.gps);t.find("#gps").append(a),$("#add-route-modal").modal("show")}})},showRouteModal:function(e){var t=$(e.relatedTarget).data("route-name"),a=$(this);$.get("/routes/"+t,function(e){var t=e.name;e.segementId&&(t='<a class="strava-segment" target="_blank" href="https://www.strava.com/segments/'+e.segementId+' title="Strava Segment Url" ">'+t+" </a>"),a.find("#show-route-modal-title").html(t);var s='<li class="list-group-item"><h5 class="card-title">Display Lenght:</h5>'+e.meters+" m</li>";s+='<li class="list-group-item"><h5 class="card-title">Gps Lenght:</h5>'+e.gpsLenght+" m</li>",s+='<li class="list-group-item"><h5 class="card-title">Country:</h5>'+e.country+"</li>",a.find(".card .list-group").html(s)})},changeRouteSelect:w,deleteRoute:function(e){e.preventDefault();var t=$(this).data("id");confirm("Are you sure you want to delete route?")&&$.ajax({url:"/routes/"+t,type:"DELETE",success:function(e){route.loadRoute(0)}})},saveRoute:function(e){e.preventDefault();var t=$("#addRoute"),a={};a.name=t.find("#name").val(),a.meters=t.find("#meters").val(),a.stravaId=t.find("#segmentId").val(),a.country=t.find("#countries").val(),a.gps=t.find("textarea").val(),$.ajax({type:"PUT",contentType:"application/json",dataType:"json",url:"/routes/add",data:JSON.stringify(a),success:function(){$("#add-route-modal").modal("hide")}})},openRoute:function(e){e.preventDefault();var t=parseInt($(this).data("next")),a=parseInt($(this).data("index")),s=parseInt($("#route-page").data("index"));isNaN(t)?isNaN(a)||(s=a):s+=t,y($("#routes-table").find(".page")[0],s),b(s)},loadRouteDetail:function(e){console.log(e),$("#load").load("/route/details",function(){c.cleanMap(),u.leaderboard(e,function(e){console.log("test");var t="";this.entries&&this.entries.forEach(function(e){t+="<tr> <td> "+e.athlete_name+" </td><td> "+e.moving_time+"</td></tr>"}),e.html(t)}.bind(null,$(this).find("#strava-result")))})}};var I={loadUsers:function(){var e=this;$.get("/users",function(t){var a="";t.forEach(function(e){a+='<option value="'+e.id+'">'+e.firstName+" "+e.lastName+"</option>"}),$(e).html(a)})},loadUser:function e(){$("#load").load("/user",function(){$(this).find("#users-body").each(function(){var t=this;$.get("/users/",function(a){for(var s="",n=0;n<a.length;n++){var o=a[n];s+='<tr><td><a href="#" data-toggle="modal" data-target="#userStatsModal" data-id="'+o.id+'">'+(n+1)+"</a></td><td>"+o.firstName+"</td><td>"+o.lastName+"</td>",s+='<td><a class="edit-user" href="#" data-id="'+o.id+'"><i class="material-icons">create</i></a><a class="del-user" href="#" data-id="'+o.id+'"><i aria-hidden="true" title="Delete user" class="material-icons">delete</i></a></td></tr>'}$(t).html(s),$("#addUserModal").on("hidden.bs.modal",function(t){e()})})})})},editUser:function(e){e.preventDefault();var t=$(this).data("id");$.ajax({url:"/users/"+t,type:"GET",success:function(e){var t=$("#addUserForm");t.find("#firstName").val(e.firstName),t.find("#lastName").val(e.lastName),t.find("#userId").val(e.id),$.get("/strava/url",function(t){var a=t.url.replace("%24",e.id);$(".strava-url").attr("href",a)}),$(".strava-connect").removeClass("sr-only"),$("#addUserModal").modal("show")}})},saveUser:function(e){e.preventDefault();var t=$("#addUserForm"),a=t.find("#firstName").val(),s=t.find("#lastName").val(),n=t.find("#userId").val(),o={};o.firstName=a,o.lastName=s,o.id=n,$.ajax({type:"PUT",contentType:"application/json",dataType:"json",url:"/users/add",data:JSON.stringify(o),success:function(){$("#addUserModal").modal("hide")}})},deleteUser:function(e){e.preventDefault();var t=$(this).data("id");confirm("Are you sure you want to delete?")&&$.ajax({url:"/users/"+t,type:"DELETE",success:function(e){user.loadUser()}})}};function S(e){$("#load").load("/history",function(){$(this).find("#history").each(function(){$.get("/session/0/2",function(e){var t="";e.forEach(function(e){t=R(t,e)}),$("#cards").html('<div class="col"><div class="card-deck">'+t+"</div></div>"),$(".gpx-track").each(function(){$(this).trigger("load-map",this)})}),k($(this),e)})})}function k(e,t){var a=t*f,s=(t+1)*f-1;$.get("/session/"+a+"/"+s,function(a){$.get("/users",function(s){var n="",o=0,i=s.reduce(function(e,t){return e[t.id]=t,e},{});a.forEach(function(e){n=M(n,o+t*f,e,i),o++}),$("#histor-table-body").html(n),function(e,t){var a=$('<ul id="history-page" data-index="'+t+'"></ul>').addClass("pagination pagination-lg");$.get("session/size",function(s){var n=parseInt(parseInt(s)/f)+1,o=0===t?"disabled":"",i=t===n-1?"disabled":"",r=$('<li class="page-item '+o+'"></li>').append('<a class="page-link" href="#" data-next="-1" tabindex="-1">Previous</a>'),l=$('<li class="page-item '+i+'"></li>').append('<a class="page-link" data-next="1" href="#">Next</a>');a.append(r);for(var d=0;d<n;d++){var c="";t===d&&(c="active");var u=$('<li class="page-item '+c+'"><a class="page-link" data-index="'+d+'" href="#">'+(d+1)+"</a></li>");a.append(u)}a.append(l),$(e).html(a)})}(e.find(".page"),t)})})}var R=function(e,t){return e+='<div class="card gpx-track" data-name="'+t.name+'"">',e+='<div class="card-body">',e+='<div class="card-map-top "></div>',e+='<h5 class="card-title mt-2"><a class="sessions" data-name="'+t.name+'" href="/session">'+n.sessionNameToReadable(t.name)+"</a></h5>",e+='<p class="card-text">Length: '+parseInt(t.endStats.meters)+"m, Time: "+n.fmtMSS(parseInt(t.endStats.seconds))+"</p>",e+='<a href="/strava/upload/'+t.name+'" class="btn btn-primary strava btn-block">Upload to Strava</a>',e+="</div>",e+="</div>"},M=function(e,t,a,s){var o=s[a.user];return e+="<tr>",e+='<th scope="row">'+(t+1)+"</th>",e+='<td><a class="sessions" data-name="'+a.name+'" href="/?name='+a.name+'#session">'+n.sessionNameToReadable(a.name)+"</a></td>",e+="<td>Length: "+parseInt(a.endStats.meters)+"m</td>",e+=o?"<td>"+o.firstName+" "+o.lastName+"</td>":"<td></td>",e+='<td> <a href="/sessions/'+a.name+'.gpx"><i class="material-icons md-36">file_download</i><a class="strava" href="/strava/upload/'+a.name+'"><i aria-hidden="true" title="Upload to Strava" class="material-icons md-36 strava-icon">cloud_upload</i></a> <a class="del-session" href="#" data-name="'+a.name+'"><i aria-hidden="true" title="Delete session local" class="material-icons md-36">delete</i></a></td>',e+="</tr>"};var T={loadHistoryIndex:function(e){S(e)},loadHistory:S,loadHistoryList:k,openHistory:function(e){e.preventDefault();var t=parseInt($(this).data("next")),a=parseInt($(this).data("index")),s=parseInt($("#history-page").data("index"));isNaN(t)?isNaN(a)||(s=a):s+=t,k($("#history-table"),s)}};function U(e){$("#load").load("/sessions",function(){$(this).find("#routes").each(x.loadRoutes),$(this).find("#session-user").each(I.loadUsers),$(this).find("#history-session").each(function(){$.get("/session/"+e,function(t){var a=O.getHtml("History",t.endStats,!0);$("#routes").val(t.route),$("#session-user").val(t.user),a&&($("#table-content").html(a),$("#laps-body").html(D("History",t.endStats)),c.addGpxTrackToMap(e,$("#live-map"))),m.addGraph(t.raw,t.rawHr,parseInt(t.start),t.stroke)})})})}function D(e,t,a){var s="";if(parseInt(t.totalLaps)>0){var o=1,i=t.laps;a&&(i.reverse(),o=i.length),i.forEach(function(e){s+='<tr><th scope="row">'+o+"</th><td>"+parseInt(e.meters)+"</td><td>"+n.fmtMSS(parseInt(e.seconds))+"</td>",s+="<td>"+Math.round(10*parseFloat(e.watt))/10+"w</td></tr>",a?o--:o++})}return s}var N,C={loadSession:U,clickSession:function(e){e.preventDefault(),U($(this).data("name"))},getLapHtml:D,deleteSession:function(e){e.preventDefault();var t=$(this).data("name");confirm("Are you sure you want to delete session?")&&$.ajax({url:"/session/del/"+t,type:"DELETE",success:function(e){alert("Session deleted"),T.loadHistoryIndex(0,0)}})}};function L(){$("#load").load("/main",function(){$(this).find("#routes").each(x.loadRoutes),$(this).find("#session-user").each(I.loadUsers),$.get("/row/status",function(e){if("ROWING"===e.status){var t=$("#startRow");n.getUrlParameter("test")&&(t=$("#startSimulator")),E(t)}}),n.getUrlParameter("test")&&$("#startRow").attr("id","startSimulator")})}function E(e){$(window).scrollTop($("#main").offset().top),P(!0,"Rowing"),c.cleanMap(),$("#routes").attr("disabled","disabled"),$("#session-user").attr("disabled","disabled"),$("#startSimulator").attr("disabled","disabled"),$(e).attr("disabled","disabled"),$(e).html("Rowing..."),$(e).addClass("d-none"),$("#stopRow").removeClass("d-none")}function P(e,t){v.run=e,$.get("/row",function(e){var a=A(t,e);if(a){$("#table-content").html(a),$("#laps-body").html(C.getLapHtml(t,e,!0));var s=e.gps.lat,n=e.gps.lon,i=new google.maps.LatLng(s,n);if(o.livePoints.push(i),o.liveBounds)o.liveBounds.extend(i),c.createPolyLine(o.livePoints).setMap(o.liveMap),o.liveMap.fitBounds(o.liveBounds)}}).done(function(){v.run&&(N=setTimeout(function(){P(!0,t)},v.UPDATE_FREQ))})}function A(e,t,a){if(0!==parseInt(t.meters)){var s="";return a&&(s+='<div class="row"><div class="col-sm-4">Day</div><div class="col">'+t.start.substr(2,t.start.lastIndexOf("T")-2)+"</div></div>"),s+='<div class="row"><div class="col-sm-4">Start:</div><div class="col">'+t.start.substr(t.start.lastIndexOf("T")+1,8)+"</div></div>",s+='<div class="row"><div class="col-sm-4">Time:</div><div class="col">'+n.fmtMSS(parseInt(t.seconds))+"</div></div>",s+='<div class="row"><div class="col-sm-4">Length:</div><div class="col">'+parseInt(t.meters)+" m ("+parseInt(t.routeLap)+")</div></div>",s+='<div class="row"><div class="col-sm-4">Pace:</div><div class="col">'+Math.round(3.6*parseFloat(t.pace)*10)/10+" km/t</div></div>",s+='<div class="row"><div class="col-sm-4">500m:</div><div class="col">'+n.fmtMSS(parseInt(t.lapPace))+"</div></div>",s+='<div class="row"><div class="col-sm-4">2k:</div><div class="col">'+n.fmtMSS(parseInt(t.towKPace))+"</div></div>",s+='<div class="row"><div class="col-sm-4">Avg.W:</div><div class="col">'+Math.round(10*parseFloat(t.watt))/10+"w</div></div>",s+='<div class="row"><div class="col-sm-4">SR:</div><div class="col">'+Math.round(10*parseFloat(t.stroke))/10+"</div></div>",parseInt(t.hr)>0&&(s+='<div class="row"><div class="col-sm-4">HR:</div><div class="col '+n.getHeartRateColor(parseInt(t.hr))+'">'+parseInt(t.hr)+(parseInt(t.avgHr)>0?"("+parseInt(t.avgHr)+")":"")+"</div></div>"),t.fileName&&(s+='<div class="row"><div class="col-sm-4">Actions:</div><div class="col"><a href="/sessions/'+t.fileName,s+='"><i class="material-icons">file_download</i><a class="strava" href="/strava/upload/'+t.name,s+='"><i aria-hidden="true" title="Upload to strava" class="material-icons">cloud_upload</i></a>',s+='<a class="sessions" data-name="'+t.name+'" href="/sessions"><i aria-hidden="true" title="Session" class="material-icons">fiber_new</i></a></div></div>'),s+""}}var O={loadMain:L,start:E,get_rowInfo:P,getHtml:A,startRow:function(e){e.preventDefault();var t=$("#routes").val(),a=this;$.get("/row/start",{routes:t},function(){E(a)})},stopRow:function(e){e.preventDefault();var t=$(this);clearTimeout(N),v.run=!1;var a=$("#routes").val(),s=$("#session-user").val();$.get("/row/stop",{routes:a,user:s},function(e){$("#table-content").html(A(0,e,!1));var a=$("#startRow");a.removeAttr("disabled"),a.removeClass("d-none"),a.html("Start row"),t.addClass("d-none"),$("#routes").removeAttr("disabled"),$("#session-user").removeAttr("disabled"),$("#startSimulator").removeAttr("disabled")})},load:function(){switch(window.location.hash){case"#route":x.loadRoute(0);break;case"#user":I.loadUser();break;case"#history":T.loadHistory(0);break;case"#session":C.loadSession(n.QueryString.name);break;case"#routeDetail":x.loadRouteDetail(n.QueryString.name);break;default:L()}},uploadToStrava:function(e){e.preventDefault();var t=$(this).attr("href");$.get(t,function(e){console.log(e),alert("Uploaded to strava!")})}};window.QueryString=function(){for(var e={},t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var s=t[a].split("=");if(void 0===e[s[0]])e[s[0]]=decodeURIComponent(s[1]);else if("string"==typeof e[s[0]]){var n=[e[s[0]],decodeURIComponent(s[1])];e[s[0]]=n}else e[s[0]].push(decodeURIComponent(s[1]))}return e}(),$(function(){O.get_rowInfo(!1,""),$(document).on("click",".main",function(e){O.loadMain()}),$(document).on("click","#user",function(e){I.loadUser()}),$(document).on("click","#history-page a",T.openHistory),$(document).on("click","#route-page a",x.openRoute),$(document).on("click",".nav-link",function(e){$("#main-nav").find(".nav-item").each(function(){$(this).removeClass("active")}),$(this).parent().addClass("active")}),$(document).on("click",".sessions",C.clickSession),$(document).on("click","a#history",function(e){T.loadHistoryIndex(0,0)}),$(document).on("click","a#route",function(e){x.loadRoute(0)}),$(document).on("load-map",".gpx-track",c.loadGpxMap),$(document).on("click","button#startRow",O.startRow),$(document).on("click","button#stopRow",O.stopRow),$(document).on("click",".edit-user",I.editUser),$(document).on("click",".edit-route",x.editRoute),$(document).on("click",".strava",O.uploadToStrava),$(document).on("click",".del-session",C.deleteSession),$(document).on("click","#save-route",x.saveRoute),$(document).on("click","#save-user",I.saveUser),$(document).on("click",".del-user",I.deleteUser),$(document).on("click",".del-route",x.deleteRoute),$("#load").each(O.load),$("#routes").each(x.loadRoutes),$("#session-user").each(I.loadUsers),$(document).on("show.bs.modal","#show-route-modal",x.showRouteModal),$(document).on("shown.bs.modal","#show-route-modal",function(e){var t=$(e.relatedTarget).data("route-name");c.addRouteTrackToMap(t,$("#live-route-map"))}),$(document).on("change","#routes",x.changeRouteSelect)})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL21hcC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3V0aWxzL21hcFV0aWxzLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvdXRpbHMvc3RyYXZhLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvdXRpbHMvZ2xvYmFscy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3V0aWxzL2dyYXBoVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy9yb3V0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3VzZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy9oaXN0b3J5L2luZGV4LmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvc2Vzc2lvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL2Zyb250L2luZGV4LmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvbWFpbi5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIldBVFRfUkFUSU9OIiwidXRpbHMiLCJjYWxjV2F0dCIsInBhY2UiLCJNYXRoIiwicG93Iiwic2Vzc2lvbk5hbWVUb1JlYWRhYmxlIiwibW9tZW50Iiwic2xpY2UiLCJmb3JtYXQiLCJnZXRIZWFydFJhdGVDb2xvciIsImhyIiwiZ2V0VXJsUGFyYW1ldGVyIiwic1BhcmFtIiwic1BhcmFtZXRlck5hbWUiLCJzVVJMVmFyaWFibGVzIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJzdWJzdHJpbmciLCJzcGxpdCIsImxlbmd0aCIsInVuZGVmaW5lZCIsImZtdE1TUyIsImRhdGUiLCJEYXRlIiwic2V0U2Vjb25kcyIsInRvSVNPU3RyaW5nIiwic3Vic3RyIiwiUXVlcnlTdHJpbmciLCJVUkwiLCJxdWVyeV9zdHJpbmciLCJ2YXJzIiwicGFpciIsImFyciIsInB1c2giLCJtYXAiLCJsaXZlUG9pbnRzIiwibGl2ZU1hcCIsImxpdmVCb3VuZHMiLCJzdHlsZXMiLCJmZWF0dXJlVHlwZSIsInN0eWxlcnMiLCJzYXR1cmF0aW9uIiwibGlnaHRuZXNzIiwidmlzaWJpbGl0eSIsImVsZW1lbnRUeXBlIiwiaHVlIiwiaW5pdE1hcCIsIm1hcERpdiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnb29nbGUiLCJtYXBzIiwiTWFwIiwiem9vbSIsIm1heFpvb20iLCJMYXRMbmdCb3VuZHMiLCJzZXQiLCJjcmVhdGVQb2x5TGluZSIsInBvaW50cyIsIlBvbHlsaW5lIiwicGF0aCIsInN0cm9rZUNvbG9yIiwic3Ryb2tlT3BhY2l0eSIsInN0cm9rZVdlaWdodCIsImFkZEdweFRyYWNrVG9NYXAiLCJlbGVtZW50IiwiJCIsImFqYXgiLCJ0eXBlIiwidXJsIiwic3VjY2VzcyIsInhtbCIsImJvdW5kcyIsImZpbmQiLCJlYWNoIiwibGF0IiwidGhpcyIsImF0dHIiLCJsb24iLCJMYXRMbmciLCJleHRlbmQiLCJzZXRNYXAiLCJmaXRCb3VuZHMiLCJtYXBVdGlscyIsImNsZWFuTWFwIiwiYWRkUm91dGVUcmFja1RvTWFwIiwiZGF0YSIsImdwcyIsImZvckVhY2giLCJwb2ludCIsImxvYWRHcHhNYXAiLCJzdHJhdmEiLCJsZWFkZXJib2FyZCIsImNhbGxiYWNrIiwiYXBwbHkiLCJzZWdtZW50IiwiUkFUSU9OIiwiUEFHRV9TSVpFIiwiZ2xvYmFscyIsIlVQREFURV9GUkVRIiwicnVuIiwiZ3JhcGhVdGlscyIsImFkZEdyYXBoIiwidGltZSIsInN0YXJ0Iiwic3Ryb2tlcyIsInNwZWVkIiwid2F0dCIsInN0cm9rZSIsInN0cm9rZUNvbnRlciIsInRpbWVWYWwiLCJwYXJzZUludCIsInN0cm9rZVRpbWUiLCJzZWMiLCJsZW5naHQiLCJ3YXR0VmFsdWUiLCJzcGVlZE1lcmdlZCIsImhyTWVyZ2VkIiwid2F0dE1lcmdlZCIsInN0cm9rZU1lcmdlZCIsImxhYmVsc01lcmdlZCIsIm1lcmdlU2l6ZSIsImgiLCJhIiwic3BsaWNlIiwidGltZVYiLCJyZWR1Y2UiLCJiIiwibGFzdEluZGV4T2YiLCJyb3VuZCIsInBhcnNlRmxvYXQiLCJ3IiwiY3R4IiwibGluZUNoYXJ0RGF0YSIsImxhYmVscyIsImRhdGFzZXRzIiwibGFiZWwiLCJib3JkZXJDb2xvciIsImJhY2tncm91bmRDb2xvciIsImZpbGwiLCJ5QXhpc0lEIiwibGluZVRlbnNpb24iLCJDaGFydCIsIkxpbmUiLCJvcHRpb25zIiwicmVzcG9uc2l2ZSIsImhvdmVyTW9kZSIsInN0YWNrZWQiLCJzY2FsZXMiLCJ5QXhlcyIsImRpc3BsYXkiLCJwb3NpdGlvbiIsImlkIiwidGlja3MiLCJzdWdnZXN0ZWRNaW4iLCJtaW4iLCJzdGVwU2l6ZSIsImdyaWRMaW5lcyIsImRyYXdPbkNoYXJ0QXJlYSIsImNyZWF0ZVJvdXRlUmVjb3JkIiwiaHRtbFRhYmxlIiwiaW5kZXgiLCJyb3V0ZSIsIm1ldGVycyIsImNvdW50cnkiLCJwZXJtYW5lbnQiLCJsb2FkUm91dGUiLCJtYWluSW5kZXgiLCJsb2FkIiwibG9hZFJvdXRlVGFibGUiLCJjcmVhdGVSb3V0ZU5hdlBhZ2UiLCJwYWdlIiwiaHRtbEVsZW1lbnQiLCJhZGRDbGFzcyIsInNpemUiLCJuZXh0RGlzYWJsZWQiLCJwcmV2IiwiYXBwZW5kIiwibmV4dCIsImFjdGl2ZSIsIml0ZW0iLCJodG1sIiwic3RvcCIsIm9uIiwiZSIsImNoYW5nZVJvdXRlU2VsZWN0Iiwic2VsZWN0ZWQiLCJzcmNfcm91dGUiLCJsb2FkUm91dGVzIiwidGhhdCIsImdyb3VwIiwic29ydCIsImVkaXRSb3V0ZSIsInByZXZlbnREZWZhdWx0IiwicmVzdWx0IiwiZm9ybSIsInZhbCIsInNlZ21lbnRJZCIsImdwc0N2cyIsIkpTT04iLCJzdHJpbmdpZnkiLCJtb2RhbCIsInNob3dSb3V0ZU1vZGFsIiwicmVsYXRlZFRhcmdldCIsInRpdGxlIiwic2VnZW1lbnRJZCIsImdwc0xlbmdodCIsImRlbGV0ZVJvdXRlIiwiY29uZmlybSIsInNhdmVSb3V0ZSIsImV2ZW50Iiwic3RyYXZhSWQiLCJjb250ZW50VHlwZSIsImRhdGFUeXBlIiwib3BlblJvdXRlIiwiaXNOYU4iLCJsb2FkUm91dGVEZXRhaWwiLCJjb25zb2xlIiwibG9nIiwidGFibGUiLCJlbnRyaWVzIiwiZW50cnkiLCJhdGhsZXRlX25hbWUiLCJtb3ZpbmdfdGltZSIsInNyY191c2VyIiwibG9hZFVzZXJzIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJsb2FkVXNlciIsInVzZXIiLCJlZGl0VXNlciIsInJlcGxhY2UiLCJyZW1vdmVDbGFzcyIsInNhdmVVc2VyIiwiZGVsZXRlVXNlciIsImxvYWRIaXN0b3J5IiwiaHRtbENhcmRzIiwic2Vzc2lvbiIsImNyZWF0ZUNhcmQiLCJ0cmlnZ2VyIiwibG9hZEhpc3RvcnlMaXN0IiwidXNlcnMiLCJ1c2VyTWFwIiwib2JqIiwiY3JlYXRlTGFwVGFibGVSZWNvcmQiLCJwcmV2RGlzYWJsZWQiLCJjcmVhdGVIaXN0b3J5TmF2UGFnZSIsImVuZFN0YXRzIiwic2Vjb25kcyIsInNyY19oaXN0b3J5IiwibG9hZEhpc3RvcnlJbmRleCIsIm9wZW5IaXN0b3J5IiwibG9hZFNlc3Npb24iLCJmcm9udCIsImdldEh0bWwiLCJnZXRMYXBIdG1sIiwicmF3IiwicmF3SHIiLCJqc29uIiwicmV2ZXJzZSIsInRvdGFsTGFwcyIsImxhcE51bSIsImxhcHMiLCJ0aW1lT3V0Iiwic3JjX3Nlc3Npb24iLCJjbGlja1Nlc3Npb24iLCJkZWxldGVTZXNzaW9uIiwiYWxlcnQiLCJsb2FkTWFpbiIsInN0YXR1cyIsInN0YXJ0QnV0dG9uIiwiZnJvbnRfc3RhcnQiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJnZXRfcm93SW5mbyIsImNvbnRpbnVlcyIsImRvbmUiLCJzZXRUaW1lb3V0IiwiZGF5Iiwicm91dGVMYXAiLCJsYXBQYWNlIiwidG93S1BhY2UiLCJhdmdIciIsImZpbGVOYW1lIiwic3RhcnRSb3ciLCJyb3V0ZXMiLCJzdG9wUm93IiwiY2xlYXJUaW1lb3V0IiwicmVtb3ZlQXR0ciIsImhhc2giLCJ1cGxvYWRUb1N0cmF2YSIsImhyZWYiLCJwYXJlbnQiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixF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L0osRUFBQWxCLFVBQUF1SSxHQUFBLG9DQUF5REksRUFBS2UsZ0JBRTlEeEksRUFBQWxCLFVBQUF1SSxHQUFBLDhDQUFBQyxHQUNBLElBQUFwTixFQUFBOEYsRUFBQXNILEVBQUFtQixlQUFBckgsS0FBQSxjQUNRSCxFQUFRRSxtQkFBQWpILEVBQUE4RixFQUFBLHNCQUdoQkEsRUFBQWxCLFVBQUF1SSxHQUFBLG1CQUF3Q0ksRUFBS0YiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiY29uc3QgV0FUVF9SQVRJT04gPSAyLjgwO1xuXG5mdW5jdGlvbiBjYWxjV2F0dChwYWNlKSB7XG4gICAgcmV0dXJuIFdBVFRfUkFUSU9OIC8gTWF0aC5wb3cocGFjZSwgMyk7XG59XG5cbmZ1bmN0aW9uIHNlc3Npb25OYW1lVG9SZWFkYWJsZShuYW1lKSB7XG4gICAgcmV0dXJuIG1vbWVudChuYW1lLnNsaWNlKDAsIDEzKSArICc6JyArIG5hbWUuc2xpY2UoMTMsMTUpICsgJzonICsgbmFtZS5zbGljZSgxNSkpLmZvcm1hdChcIllZWVktTU0tREQgaGg6bW06c3NcIik7XG59XG5cbmZ1bmN0aW9uIGdldEhlYXJ0UmF0ZUNvbG9yKGhyKSB7XG4gICAgaWYgKGhyIDwgMTI1KSB7XG4gICAgICAgIHJldHVybiAndGV4dC1zdWNjZXNzJ1xuICAgIH0gZWxzZSBpZiAoaHIgPCAxNTApIHtcbiAgICAgICAgcmV0dXJuICd0ZXh0LXByaW1hcnknXG4gICAgfSBlbHNlIGlmIChociA8IDE3NSkge1xuICAgICAgICByZXR1cm4gJ3RleHQtd2FybmluZyc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICd0ZXh0LWRhbmdlcic7XG4gICAgfVxufVxuXG52YXIgZ2V0VXJsUGFyYW1ldGVyID0gZnVuY3Rpb24gZ2V0VXJsUGFyYW1ldGVyKHNQYXJhbSkge1xuICAgIHZhciBzUGFnZVVSTCA9IGRlY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKSksXG4gICAgICAgIHNVUkxWYXJpYWJsZXMgPSBzUGFnZVVSTC5zcGxpdCgnJicpLFxuICAgICAgICBzUGFyYW1ldGVyTmFtZSxcbiAgICAgICAgaTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBzVVJMVmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNQYXJhbWV0ZXJOYW1lID0gc1VSTFZhcmlhYmxlc1tpXS5zcGxpdCgnPScpO1xuXG4gICAgICAgIGlmIChzUGFyYW1ldGVyTmFtZVswXSA9PT0gc1BhcmFtKSB7XG4gICAgICAgICAgICByZXR1cm4gc1BhcmFtZXRlck5hbWVbMV0gPT09IHVuZGVmaW5lZCA/IHRydWUgOiBzUGFyYW1ldGVyTmFtZVsxXTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGZtdE1TUyhzKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShudWxsKTtcbiAgICBkYXRlLnNldFNlY29uZHMocyk7IC8vIHNwZWNpZnkgdmFsdWUgZm9yIFNFQ09ORFMgaGVyZVxuICAgIHJldHVybiBkYXRlLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDExLCA4KTtcbn1cblxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBldmVyeSBnZXQgcGFyYW1ldGVyIGZyb20gYSBVUkwgKGZpcnN0IGFyZ3VtZW50KSBhcyBhIHByb3BlcnR5XG4gKiBcbiAqIEBwYXJhbSBVUkwge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gUXVlcnlTdHJpbmcoVVJMKSB7XG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyBhbm9ueW1vdXMsIGlzIGV4ZWN1dGVkIGltbWVkaWF0ZWx5IGFuZCBcbiAgICAvLyB0aGUgcmV0dXJuIHZhbHVlIGlzIGFzc2lnbmVkIHRvIFF1ZXJ5U3RyaW5nIVxuICAgIHZhciBxdWVyeV9zdHJpbmcgPSB7fTtcbiAgICB2YXIgdXNlZnVsUGFyYW0gPSBVUkwuc3BsaXQoXCI/XCIpWzFdIHx8IFwiXCI7XG4gICAgdmFyIHF1ZXJ5ID0gdXNlZnVsUGFyYW0gfHwgXCJcIjtcbiAgICB2YXIgdmFycyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xuICAgICAgICBcbiAgICAgICAgLy8gSWYgZmlyc3QgZW50cnkgd2l0aCB0aGlzIG5hbWVcbiAgICAgICAgaWYgKHR5cGVvZiBxdWVyeV9zdHJpbmdbcGFpclswXV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcbiAgICAgICAgICAgIC8vIElmIHNlY29uZCBlbnRyeSB3aXRoIHRoaXMgbmFtZVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBxdWVyeV9zdHJpbmdbcGFpclswXV0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHZhciBhcnIgPSBbcXVlcnlfc3RyaW5nW3BhaXJbMF1dLCBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSldO1xuICAgICAgICAgICAgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID0gYXJyO1xuICAgICAgICAgICAgLy8gSWYgdGhpcmQgb3IgbGF0ZXIgZW50cnkgd2l0aCB0aGlzIG5hbWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXS5wdXNoKGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcXVlcnlfc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IGNhbGNXYXR0LCBzZXNzaW9uTmFtZVRvUmVhZGFibGUsIGdldEhlYXJ0UmF0ZUNvbG9yLCBnZXRVcmxQYXJhbWV0ZXIsIGZtdE1TUywgXG4gICAgUXVlcnlTdHJpbmcgfVxuXG4iLCJ2YXIgbGl2ZVBvaW50cyA9IFtdO1xudmFyIGxpdmVNYXA7XG52YXIgbGl2ZUJvdW5kcztcblxuXG5leHBvcnQgZGVmYXVsdCB7IGxpdmVQb2ludHMsIGxpdmVNYXAsIGxpdmVCb3VuZHMgfSIsImltcG9ydCBtYXAgZnJvbSAnLi4vbWFwL2luZGV4J1xuXG5jb25zdCBzdHlsZXMgPSBbe1xuICAgIFwiZmVhdHVyZVR5cGVcIjogXCJsYW5kc2NhcGVcIiwgXCJzdHlsZXJzXCI6IFt7IFwic2F0dXJhdGlvblwiOiAtMTAwIH0sIHsgXCJsaWdodG5lc3NcIjogNjUgfSxcbiAgICAgICAgeyBcInZpc2liaWxpdHlcIjogXCJvblwiIH1dXG59LCB7XG4gICAgXCJmZWF0dXJlVHlwZVwiOiBcInBvaVwiLCBcInN0eWxlcnNcIjogW3sgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfSwgeyBcImxpZ2h0bmVzc1wiOiA1MSB9LFxuICAgICAgICB7IFwidmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIiB9XVxufSwge1xuICAgIFwiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmhpZ2h3YXlcIiwgXCJzdHlsZXJzXCI6IFt7IFwic2F0dXJhdGlvblwiOiAtMTAwIH0sXG4gICAgICAgIHsgXCJ2aXNpYmlsaXR5XCI6IFwic2ltcGxpZmllZFwiIH1dXG59LCB7XG4gICAgXCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuYXJ0ZXJpYWxcIiwgXCJzdHlsZXJzXCI6IFt7IFwic2F0dXJhdGlvblwiOiAtMTAwIH0sXG4gICAgICAgIHsgXCJsaWdodG5lc3NcIjogMzAgfSwgeyBcInZpc2liaWxpdHlcIjogXCJvblwiIH1dXG59LCB7XG4gICAgXCJmZWF0dXJlVHlwZVwiOiBcInJvYWQubG9jYWxcIiwgXCJzdHlsZXJzXCI6IFt7IFwic2F0dXJhdGlvblwiOiAtMTAwIH0sXG4gICAgICAgIHsgXCJsaWdodG5lc3NcIjogNDAgfSwgeyBcInZpc2liaWxpdHlcIjogXCJvblwiIH1dXG59LCB7XG4gICAgXCJmZWF0dXJlVHlwZVwiOiBcInRyYW5zaXRcIiwgXCJzdHlsZXJzXCI6IFt7IFwic2F0dXJhdGlvblwiOiAtMTAwIH0sXG4gICAgICAgIHsgXCJ2aXNpYmlsaXR5XCI6IFwic2ltcGxpZmllZFwiIH1dXG59LCB7IFwiZmVhdHVyZVR5cGVcIjogXCJhZG1pbmlzdHJhdGl2ZS5wcm92aW5jZVwiLCBcInN0eWxlcnNcIjogW3sgXCJ2aXNpYmlsaXR5XCI6IFwib2ZmXCIgfV0gfSxcbiAgICB7IFwiZmVhdHVyZVR5cGVcIjogXCJ3YXRlclwiLCBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzXCIsIFwic3R5bGVyc1wiOiBbeyBcInZpc2liaWxpdHlcIjogXCJvblwiIH0sIHsgXCJsaWdodG5lc3NcIjogLTI1IH0sIHsgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfV0gfSxcbiAgICB7IFwiZmVhdHVyZVR5cGVcIjogXCJ3YXRlclwiLCBcImVsZW1lbnRUeXBlXCI6IFwiZ2VvbWV0cnlcIiwgXCJzdHlsZXJzXCI6IFt7IFwiaHVlXCI6IFwiI2ZmZmYwMFwiIH0sIHsgXCJsaWdodG5lc3NcIjogLTI1IH0sIHsgXCJzYXR1cmF0aW9uXCI6IC05NyB9XSB9XTtcblxuZnVuY3Rpb24gY2xlYW5NYXAoKSB7XG4gICAgaW5pdE1hcCgpO1xuICAgIG1hcC5saXZlUG9pbnRzID0gW107XG4gICAgdmFyIHBvbHkgPSBjcmVhdGVQb2x5TGluZShtYXAubGl2ZVBvaW50cyk7XG4gICAgcG9seS5zZXRNYXAobWFwLmxpdmVNYXApO1xuXG4gICAgLy8gZml0IGJvdW5kcyB0byB0cmFja1xuICAgIGlmICh0eXBlb2YgbWFwLmxpdmVNYXAuZml0Qm91bmRzID09PSAnZnVuY3Rpb24nICkge1xuICAgICAgICBtYXAubGl2ZU1hcC5maXRCb3VuZHMobWFwLmxpdmVCb3VuZHMpO1xuICAgIH1cbiAgIFxufVxuXG5mdW5jdGlvbiBpbml0TWFwKCkge1xuICAgIHZhciBtYXBEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGl2ZS1tYXAnKTtcbiAgICBpZiAobWFwRGl2KSB7XG4gICAgICAgIG1hcC5saXZlTWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChtYXBEaXYsIHtcbiAgICAgICAgICAgIHpvb206IDgsXG4gICAgICAgICAgICBtYXhab29tOiAxNlxuICAgICAgICB9KTtcbiAgICAgICAgbWFwLmxpdmVCb3VuZHMgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKCk7XG4gICAgICAgIG1hcC5saXZlTWFwLnNldCgnc3R5bGVzJywgc3R5bGVzKTtcbiAgICB9XG59XG5cbi8vVE9ETzogQ2hhbmdlIGNvbG9yIGJ5IHNwZWVkIG9yIGhyLlxuZnVuY3Rpb24gY3JlYXRlUG9seUxpbmUocG9pbnRzKSB7XG4gICAgcmV0dXJuIG5ldyBnb29nbGUubWFwcy5Qb2x5bGluZSh7XG4gICAgICAgIHBhdGg6IHBvaW50cyxcbiAgICAgICAgc3Ryb2tlQ29sb3I6IFwiI0ZGMDBBQVwiLFxuICAgICAgICBzdHJva2VPcGFjaXR5OiAuNyxcbiAgICAgICAgc3Ryb2tlV2VpZ2h0OiA0XG4gICAgfSk7XG59XG5cbnZhciBhZGRSb3V0ZVRyYWNrVG9NYXAgPSBmdW5jdGlvbiAobmFtZSwgZWxlbWVudCkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgdXJsOiAnL3JvdXRlcy8nICsgbmFtZSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGVsZW1lbnRbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgem9vbTogOCxcbiAgICAgICAgICAgICAgICAgICAgbWF4Wm9vbTogMTZcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIG1hcC5zZXQoJ3N0eWxlcycsIHN0eWxlcyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5ncHMuZm9yRWFjaChmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhdCA9IHBvaW50LmxhdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvbiA9IHBvaW50LmxvbjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdCwgbG9uKTtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2gocCk7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5leHRlbmQocCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcG9seSA9IGNyZWF0ZVBvbHlMaW5lKHBvaW50cyk7XG5cbiAgICAgICAgICAgICAgICBwb2x5LnNldE1hcChtYXApO1xuXG4gICAgICAgICAgICAgICAgLy8gZml0IGJvdW5kcyB0byB0cmFja1xuICAgICAgICAgICAgICAgIG1hcC5maXRCb3VuZHMoYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxudmFyIGFkZEdweFRyYWNrVG9NYXAgPSBmdW5jdGlvbiAobmFtZSwgZWxlbWVudCkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgdXJsOiAnL3Nlc3Npb25zLycgKyBuYW1lICsgJy5ncHgnLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHhtbCkge1xuICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChlbGVtZW50WzBdLCB7XG4gICAgICAgICAgICAgICAgICAgIHpvb206IDE2XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBtYXAuc2V0KCdzdHlsZXMnLCBzdHlsZXMpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMoKTtcblxuICAgICAgICAgICAgICAgICQoeG1sKS5maW5kKFwidHJrcHRcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXQgPSAkKHRoaXMpLmF0dHIoXCJsYXRcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb24gPSAkKHRoaXMpLmF0dHIoXCJsb25cIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhsYXQsIGxvbik7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHApO1xuICAgICAgICAgICAgICAgICAgICBib3VuZHMuZXh0ZW5kKHApO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBvbHkgPSBjcmVhdGVQb2x5TGluZShwb2ludHMpO1xuXG4gICAgICAgICAgICAgICAgcG9seS5zZXRNYXAobWFwKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpdCBib3VuZHMgdG8gdHJhY2tcbiAgICAgICAgICAgICAgICBtYXAuZml0Qm91bmRzKGJvdW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGxvYWRHcHhNYXAoKSB7XG4gICAgdmFyIG5hbWUgPSAkKHRoaXMpLmRhdGEoJ25hbWUnKTtcbiAgICB2YXIgZWxlbWVudCA9ICQodGhpcykuZmluZCgnLmNhcmQtbWFwLXRvcCcpO1xuICAgIGFkZEdweFRyYWNrVG9NYXAobmFtZSwgZWxlbWVudCk7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgeyBjbGVhbk1hcCwgaW5pdE1hcCwgc3R5bGVzLCBhZGRSb3V0ZVRyYWNrVG9NYXAsIGFkZEdweFRyYWNrVG9NYXAsIGxvYWRHcHhNYXAsXG4gICAgY3JlYXRlUG9seUxpbmUgfSIsIlxuZnVuY3Rpb24gbGVhZGVyYm9hcmQobmFtZSwgY2FsbGJhY2spIHtcbiAgICAkLmdldCgnL3N0cmF2YS9yb3V0ZS9sZWFkZXJib2FyZC8nICsgbmFtZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgY2FsbGJhY2suYXBwbHkoZGF0YSk7XG4gICAgfSk7XG59O1xuXG5mdW5jdGlvbiBzZWdtZW50KG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgJC5nZXQoJy9zdHJhdmEvcm91dGUvJyArIG5hbWUsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGNhbGxiYWNrLmFwcGx5KGRhdGEpO1xuICAgIH0pO1xufTtcblxuXG5leHBvcnQgZGVmYXVsdCB7IGxlYWRlcmJvYXJkLCBzZWdtZW50IH0iLCJleHBvcnQgY29uc3QgUkFUSU9OID0gKDEwMCAvIDQuODA1KSAqIDY7XG5leHBvcnQgY29uc3QgUEFHRV9TSVpFID0gMTA7XG5leHBvcnQgY29uc3QgVVBEQVRFX0ZSRVEgPSAxMDAwO1xuZXhwb3J0IHZhciBydW4gPSBmYWxzZTtcblxuXG5leHBvcnQgZGVmYXVsdCB7IFJBVElPTiwgUEFHRV9TSVpFLCBVUERBVEVfRlJFUSwgcnVuIH0iLCJpbXBvcnQgeyBVUERBVEVfRlJFUSwgUEFHRV9TSVpFLCBSQVRJT04sIHJ1biB9IGZyb20gJy4uL3V0aWxzL2dsb2JhbHMnO1xuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzL3V0aWxzJztcblxuZnVuY3Rpb24gYWRkR3JhcGgodGltZSwgaHIsIHN0YXJ0LCBzdHJva2VzKSB7XG4gICAgdmFyIHNwZWVkID0gW107XG4gICAgdmFyIHdhdHQgPSBbXTtcbiAgICB2YXIgc3Ryb2tlID0gW107XG4gICAgdmFyIHN0cm9rZUNvbnRlciA9IDE7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aW1lLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0aW1lVmFsID0gcGFyc2VJbnQodGltZVtpXSk7XG4gICAgICAgIHZhciBzdHJva2VUaW1lID0gcGFyc2VJbnQoc3Ryb2tlc1tzdHJva2VDb250ZXJdKTtcbiAgICAgICAgdmFyIHNlYyA9ICgodGltZVZhbCAtIHN0YXJ0KSAvIDEwMDApO1xuICAgICAgICB2YXIgbGVuZ2h0ID0gKFJBVElPTiAvIDEwMCk7XG4gICAgICAgIHNwZWVkLnB1c2goKChsZW5naHQgLyBzZWMpKSAqIDMuNik7XG4gICAgICAgIHZhciB3YXR0VmFsdWUgPSB1dGlscy5jYWxjV2F0dChzZWMgLyBsZW5naHQpO1xuICAgICAgICB3YXR0LnB1c2god2F0dFZhbHVlKTtcbiAgICAgICAgc3Ryb2tlLnB1c2goMTAwMCo2MCAvIChzdHJva2VUaW1lIC0gcGFyc2VJbnQoc3Ryb2tlc1tzdHJva2VDb250ZXItMV0pKSk7XG4gICAgICAgIHN0YXJ0ID0gcGFyc2VJbnQodGltZVtpXSk7XG4gICAgICAgIGlmICh0aW1lVmFsID4gc3Ryb2tlVGltZSkge1xuICAgICAgICAgICAgc3Ryb2tlQ29udGVyKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvL1JlbW92ZSBldmVyIHNlY29uZCBlbGVtZW50XG4gICAgdmFyIHNwZWVkTWVyZ2VkID0gW107XG4gICAgdmFyIGhyTWVyZ2VkID0gW107XG4gICAgdmFyIHdhdHRNZXJnZWQgPSBbXTtcbiAgICB2YXIgc3Ryb2tlTWVyZ2VkID0gW107XG4gICAgdmFyIGxhYmVsc01lcmdlZCA9IFtdO1xuICAgIHZhciBtZXJnZVNpemUgPSAxMDtcbiAgICBpZiAodGltZS5sZW5ndGggPiAxMDAwKSB7XG4gICAgICAgIG1lcmdlU2l6ZSA9IDIwO1xuICAgIH1cblxuICAgIHdoaWxlICh0aW1lLmxlbmd0aCkge1xuICAgICAgICB2YXIgYSA9IHRpbWUuc3BsaWNlKDAsIG1lcmdlU2l6ZSk7XG4gICAgICAgIHZhciB0aW1lViA9IHBhcnNlSW50KGEucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICsgYjsgfSkgLyBhLmxlbmd0aCk7XG4gICAgICAgIGxhYmVsc01lcmdlZC5wdXNoKG5ldyBEYXRlKHRpbWVWKS50b0lTT1N0cmluZygpLnN1YnN0cihuZXcgRGF0ZSh0aW1lVikudG9JU09TdHJpbmcoKS5sYXN0SW5kZXhPZignVCcpICsgMSwgOCkpO1xuICAgICAgICBpZiAoaHIpIHtcbiAgICAgICAgICAgIHZhciBoID0gaHIuc3BsaWNlKDAsIG1lcmdlU2l6ZSk7XG4gICAgICAgICAgICBpZiAoaC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaHJNZXJnZWQucHVzaChwYXJzZUludChoLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSArIGI7IH0pIC8gaC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICAgICAgICB2YXIgaCA9IHN0cm9rZS5zcGxpY2UoMCwgbWVyZ2VTaXplKTtcbiAgICAgICAgICAgIGlmIChoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzdHJva2VNZXJnZWQucHVzaChNYXRoLnJvdW5kKHBhcnNlRmxvYXQoaC5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKyBiOyB9KSAvIGgubGVuZ3RoKSAqIDEwKSAvIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3BlZWQpIHtcbiAgICAgICAgICAgIHZhciBzID0gc3BlZWQuc3BsaWNlKDAsIG1lcmdlU2l6ZSk7XG4gICAgICAgICAgICB2YXIgdyA9IHdhdHQuc3BsaWNlKDAsIG1lcmdlU2l6ZSk7XG4gICAgICAgICAgICBpZiAocy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgc3BlZWRNZXJnZWQucHVzaChNYXRoLnJvdW5kKHBhcnNlRmxvYXQocy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKyBiOyB9KSAvIHMubGVuZ3RoKSAqIDEwKSAvIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh3Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB3YXR0TWVyZ2VkLnB1c2goTWF0aC5yb3VuZChwYXJzZUZsb2F0KHcucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICsgYjsgfSkgLyB3Lmxlbmd0aCkgKiAxMCkgLyAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgY3R4ID0gJCgnI2hyLWdyYXBoJyk7XG4gICAgdmFyIGxpbmVDaGFydERhdGEgPSB7XG4gICAgICAgIGxhYmVsczogbGFiZWxzTWVyZ2VkLFxuICAgICAgICBkYXRhc2V0czogW3tcbiAgICAgICAgICAgIGxhYmVsOiAnSGVhcnQgcmF0ZSAoYnBtKScsXG4gICAgICAgICAgICBib3JkZXJDb2xvcjogJyNkYzM1NDUnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2RjMzU0NScsXG4gICAgICAgICAgICBmaWxsOiBmYWxzZSxcbiAgICAgICAgICAgIGRhdGE6IGhyTWVyZ2VkLFxuICAgICAgICAgICAgLy8gY3ViaWNJbnRlcnBvbGF0aW9uTW9kZTogJ21vbm90b25lJyxcbiAgICAgICAgICAgIHlBeGlzSUQ6ICd5LWF4aXMtMScsXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGxhYmVsOiAnU3BlZWQgKGttL3QpJyxcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzAwN2JmZicsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDA3YmZmJyxcbiAgICAgICAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgICAgICAgZGF0YTogc3BlZWRNZXJnZWQsXG4gICAgICAgICAgICAvL2N1YmljSW50ZXJwb2xhdGlvbk1vZGU6ICdtb25vdG9uZScsXG4gICAgICAgICAgICB5QXhpc0lEOiAneS1heGlzLTInXG4gICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdXYXR0JyxcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyM0YmMwYzAnLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM0YmMwYzAnLFxuICAgICAgICAgICAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRhdGE6IHdhdHRNZXJnZWQsXG4gICAgICAgICAgICAgICAgbGluZVRlbnNpb246IDAsXG4gICAgICAgICAgICAgICAgLy9jdWJpY0ludGVycG9sYXRpb25Nb2RlOiAnbW9ub3RvbmUnLFxuICAgICAgICAgICAgICAgIHlBeGlzSUQ6ICd5LWF4aXMtMydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdTdHJva2UgcmF0ZSAoc3BtKScsXG4gICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjOTk2NkZGJyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjOTk2NkZGJyxcbiAgICAgICAgICAgICAgICBmaWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkYXRhOiBzdHJva2VNZXJnZWQsXG4gICAgICAgICAgICAgICAgeUF4aXNJRDogJ3ktYXhpcy00J1xuICAgICAgICAgICAgfV1cbiAgICB9O1xuICAgIHZhciBteUxpbmVDaGFydCA9IENoYXJ0LkxpbmUoY3R4LCB7XG4gICAgICAgIGRhdGE6IGxpbmVDaGFydERhdGEsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsXG4gICAgICAgICAgICBob3Zlck1vZGU6ICdpbmRleCcsXG4gICAgICAgICAgICBzdGFja2VkOiBmYWxzZSxcbiAgICAgICAgICAgIHNjYWxlczoge1xuICAgICAgICAgICAgICAgIHlBeGVzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZWFyJywgLy8gb25seSBsaW5lYXIgYnV0IGFsbG93IHNjYWxlIHR5cGUgcmVnaXN0cmF0aW9uLiBUaGlzIGFsbG93cyBleHRlbnNpb25zIHRvIGV4aXN0IHNvbGVseSBmb3IgbG9nIHNjYWxlIGZvciBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2xlZnQnLFxuICAgICAgICAgICAgICAgICAgICBpZDogJ3ktYXhpcy0xJyxcbiAgICAgICAgICAgICAgICAgICAgdGlja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RlZE1pbjogMzAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwU2l6ZTogNVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZWFyJywgLy8gb25seSBsaW5lYXIgYnV0IGFsbG93IHNjYWxlIHR5cGUgcmVnaXN0cmF0aW9uLiBUaGlzIGFsbG93cyBleHRlbnNpb25zIHRvIGV4aXN0IHNvbGVseSBmb3IgbG9nIHNjYWxlIGZvciBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICd5LWF4aXMtMicsXG4gICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwU2l6ZTogMlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBncmlkIGxpbmUgc2V0dGluZ3NcbiAgICAgICAgICAgICAgICAgICAgZ3JpZExpbmVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcmF3T25DaGFydEFyZWE6IGZhbHNlIC8vIG9ubHkgd2FudCB0aGUgZ3JpZCBsaW5lcyBmb3Igb25lIGF4aXMgdG8gc2hvdyB1cFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcicsIC8vIG9ubHkgbGluZWFyIGJ1dCBhbGxvdyBzY2FsZSB0eXBlIHJlZ2lzdHJhdGlvbi4gVGhpcyBhbGxvd3MgZXh0ZW5zaW9ucyB0byBleGlzdCBzb2xlbHkgZm9yIGxvZyBzY2FsZSBmb3IgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAneS1heGlzLTMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGlja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwU2l6ZTogMjVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBncmlkIGxpbmUgc2V0dGluZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRMaW5lczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdPbkNoYXJ0QXJlYTogZmFsc2UgLy8gb25seSB3YW50IHRoZSBncmlkIGxpbmVzIGZvciBvbmUgYXhpcyB0byBzaG93IHVwXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lYXInLCAvLyBvbmx5IGxpbmVhciBidXQgYWxsb3cgc2NhbGUgdHlwZSByZWdpc3RyYXRpb24uIFRoaXMgYWxsb3dzIGV4dGVuc2lvbnMgdG8gZXhpc3Qgc29sZWx5IGZvciBsb2cgc2NhbGUgZm9yIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyaWdodCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3ktYXhpcy00JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcFNpemU6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGVkTWluOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBncmlkIGxpbmUgc2V0dGluZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRMaW5lczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdPbkNoYXJ0QXJlYTogZmFsc2UgLy8gb25seSB3YW50IHRoZSBncmlkIGxpbmVzIGZvciBvbmUgYXhpcyB0byBzaG93IHVwXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBhZGRHcmFwaCB9XG4iLCJpbXBvcnQgbWFwVXRpbHMgZnJvbSAnLi4vdXRpbHMvbWFwVXRpbHMnXG5pbXBvcnQgbWFwIGZyb20gJy4uL21hcC9pbmRleCdcbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy91dGlscyc7XG5pbXBvcnQgc3RyYXZhIGZyb20gJy4uL3V0aWxzL3N0cmF2YSc7XG5pbXBvcnQgZ3JhcGhVdGlscyBmcm9tICcuLi91dGlscy9ncmFwaFV0aWxzJztcbmltcG9ydCB7IFVQREFURV9GUkVRLCBQQUdFX1NJWkUsIFJBVElPTiwgcnVuIH0gZnJvbSAnLi4vdXRpbHMvZ2xvYmFscyc7XG5cbi8qKiBBbGwgbG9hZCBmdW5jdGlvbnMgKi9cbnZhciBsb2FkUm91dGVzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAkLmdldChcIi9yb3cvcm91dGVzXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBodG1sID0gJyc7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBncm91cCA9ICcnO1xuICAgICAgICBkYXRhLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIChhLmNvdW50cnkgPiBiLmNvdW50cnkpID8gMSA6ICgoYi5jb3VudHJ5ID4gYS5jb3VudHJ5KSA/IC0xIDogMCk7IH0pO1xuXG4gICAgICAgIHZhciBzZWxlY3RlZCA9ICdzZWxlY3RlZD1cInNlbGVjdGVkXCInO1xuICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUuY291bnRyeSAhPT0gZ3JvdXApIHtcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8b3B0Z3JvdXAgbGFiZWw9XCInICsgdmFsdWUuY291bnRyeSArICdcIj4nO1xuICAgICAgICAgICAgICAgIGdyb3VwID0gdmFsdWUuY291bnRyeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh0bWwgKz0gJzxvcHRpb24gJyArIHNlbGVjdGVkICsgJyB2YWx1ZT1cIicgKyB2YWx1ZS5pbmRleCArICdcIiBkYXRhLW5hbWU9XCInICsgdmFsdWUubmFtZSArICdcIiBkYXRhLWxhdD1cIicgK1xuICAgICAgICAgICAgICAgIHZhbHVlLmdwc1swXS5sYXQgKyAnXCIgZGF0YS1sb249XCInICsgdmFsdWUuZ3BzWzBdLmxvbiArICdcIj4nICsgdmFsdWUubmFtZSArICcgKCcgKyB2YWx1ZS5tZXRlcnMgKyAnbSk8L29wdGlvbj4nO1xuICAgICAgICAgICAgc2VsZWN0ZWQgPSAnJztcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH0pO1xuICAgICAgICAkKHRoYXQpLmh0bWwoaHRtbCk7XG5cbiAgICAgICAgY2hhbmdlUm91dGVTZWxlY3QoKTtcbiAgICB9KTtcblxufTtcblxudmFyIGNyZWF0ZVJvdXRlUmVjb3JkID0gZnVuY3Rpb24gKGh0bWxUYWJsZSwgaW5kZXgsIHJvdXRlKSB7XG4gICAgaHRtbFRhYmxlICs9ICc8dHI+JztcbiAgICBodG1sVGFibGUgKz0gJzx0aCBzY29wZT1cInJvd1wiPicgKyAoaW5kZXggKyAxKSArICc8L3RoPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+PGEgZGF0YS10b2dnbGU9XCJtb2RhbFwiIGRhdGEtcm91dGUtbmFtZT1cIicgKyByb3V0ZS5uYW1lICsgJ1wiIGRhdGEtdGFyZ2V0PVwiI3Nob3ctcm91dGUtbW9kYWxcIiBocmVmPVwiL3JvdXRlcy8nICsgcm91dGUubmFtZSArICdcIj4nICsgcm91dGUubmFtZSArICc8L2E+PC90ZD4nO1xuICAgIGh0bWxUYWJsZSArPSAnPHRkPicgKyBwYXJzZUludChyb3V0ZS5tZXRlcnMpICsgJ208L3RkPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+JyArIHJvdXRlLmNvdW50cnkgKyAnPC90ZD4nO1xuICAgIGh0bWxUYWJsZSArPSAnPHRkPidcbiAgICBpZiAocm91dGUucGVybWFuZW50ICE9PSB0cnVlKSB7XG4gICAgICAgIGh0bWxUYWJsZSArPSAnPGEgY2xhc3M9XCJlZGl0LXJvdXRlXCIgaHJlZj1cIiNcIiBkYXRhLWlkPVwiJyArIHJvdXRlLm5hbWUgKyAnXCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmNyZWF0ZTwvaT48L2E+JyArXG4gICAgICAgICAgICAnPGEgY2xhc3M9XCJkZWwtcm91dGVcIiBocmVmPVwiI1wiIGRhdGEtaWQ9XCInICsgcm91dGUubmFtZSArICdcIj4nICtcbiAgICAgICAgICAgICc8aSBhcmlhLWhpZGRlbj1cInRydWVcIiB0aXRsZT1cIkRlbGV0ZSByb3V0ZVwiIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5kZWxldGU8L2k+PC9hPicgKyAnPC90ZD4nO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGh0bWxUYWJsZSArPSAnPGk+RGVmYXVsdDwvaT4nO1xuICAgIH1cbiAgICBodG1sVGFibGUgKz0gJzwvdHI+JztcbiAgICByZXR1cm4gaHRtbFRhYmxlO1xufTtcblxuZnVuY3Rpb24gbG9hZFJvdXRlKG1haW5JbmRleCkge1xuICAgICQoJyNsb2FkJykubG9hZCgnL3JvdXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmZpbmQoJyNyb3V0ZXMtdCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbG9hZFJvdXRlVGFibGUoMCk7XG4gICAgICAgICAgICB2YXIgcGFnID0gJCgnI3JvdXRlcy10YWJsZScpLmZpbmQoJy5wYWdlJyk7XG4gICAgICAgICAgICBjcmVhdGVSb3V0ZU5hdlBhZ2UocGFnWzBdLCBtYWluSW5kZXgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUm91dGVOYXZQYWdlKHBhZ2UsIGluZGV4KSB7XG4gICAgdmFyIGh0bWxFbGVtZW50ID0gJCgnPHVsIGlkPVwicm91dGUtcGFnZVwiIGRhdGEtaW5kZXg9XCInICsgaW5kZXggKyAnXCI+PC91bD4nKS5hZGRDbGFzcyhcInBhZ2luYXRpb24gcGFnaW5hdGlvbi1sZ1wiKTtcbiAgICAkLmdldChcInJvdXRlcy9zaXplXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocGFyc2VJbnQoZGF0YSkgLyBQQUdFX1NJWkUpICsgMTtcbiAgICAgICAgdmFyIHByZXZEaXNhYmxlZCA9IChpbmRleCA9PT0gMCA/ICdkaXNhYmxlZCcgOiAnJyk7XG4gICAgICAgIHZhciBuZXh0RGlzYWJsZWQgPSAoaW5kZXggPT09IHNpemUgLSAxID8gJ2Rpc2FibGVkJyA6ICcnKTtcbiAgICAgICAgdmFyIHByZXYgPSAkKCc8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gJyArIHByZXZEaXNhYmxlZCArICdcIj48L2xpPicpLmFwcGVuZCgnPGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBocmVmPVwiI1wiIGRhdGEtbmV4dD1cIi0xXCIgdGFiaW5kZXg9XCItMVwiPlByZXZpb3VzPC9hPicpO1xuICAgICAgICB2YXIgbmV4dCA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgbmV4dERpc2FibGVkICsgJ1wiPjwvbGk+JykuYXBwZW5kKCc8YSBjbGFzcz1cInBhZ2UtbGlua1wiIGRhdGEtbmV4dD1cIjFcIiBocmVmPVwiI1wiPk5leHQ8L2E+Jyk7XG5cbiAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kKHByZXYpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgdmFyIGFjdGl2ZSA9ICcnO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBpKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlID0gXCJhY3RpdmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpdGVtID0gJCgnPGxpIGNsYXNzPVwicGFnZS1pdGVtICcgKyBhY3RpdmUgKyAnXCI+PGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBkYXRhLWluZGV4PVwiJyArIGkgKyAnXCIgaHJlZj1cIiNcIj4nICsgKGkgKyAxKSArICc8L2E+PC9saT4nKTtcbiAgICAgICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBodG1sRWxlbWVudC5hcHBlbmQobmV4dCk7XG4gICAgICAgICQocGFnZSkuaHRtbChodG1sRWxlbWVudCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvYWRSb3V0ZVRhYmxlKG1haW5JbmRleCkge1xuICAgIHZhciBzdGFydCA9IG1haW5JbmRleCAqIFBBR0VfU0laRSwgc3RvcCA9ICgoKG1haW5JbmRleCArIDEpICogUEFHRV9TSVpFKSkgLSAxO1xuICAgICQuZ2V0KCcvcm91dGVzLycgKyBzdGFydCArICcvJyArIHN0b3AsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBodG1sVGFibGUgPSAnJztcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyb3V0ZSkge1xuICAgICAgICAgICAgaHRtbFRhYmxlID0gY3JlYXRlUm91dGVSZWNvcmQoaHRtbFRhYmxlLCBpbmRleCArIChtYWluSW5kZXggKiBQQUdFX1NJWkUpLCByb3V0ZSk7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjcm91dGVzLXRhYmxlLWJvZHknKS5odG1sKGh0bWxUYWJsZSk7XG4gICAgICAgICQoJyNhZGQtcm91dGUtbW9kYWwnKS5vbignaGlkZGVuLmJzLm1vZGFsJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGxvYWRSb3V0ZSgwKTtcbiAgICAgICAgfSlcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZWRpdFJvdXRlKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIGlkID0gJCh0aGlzKS5kYXRhKCdpZCcpO1xuICAgICQuYWpheCh7XG4gICAgICAgIHVybDogJy9yb3V0ZXMvJyArIGlkLFxuICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgdmFyIGZvcm0gPSAkKFwiI2FkZFJvdXRlXCIpO1xuICAgICAgICAgICAgZm9ybS5maW5kKCcjbmFtZScpLnZhbChyZXN1bHQubmFtZSk7XG4gICAgICAgICAgICBmb3JtLmZpbmQoJyNtZXRlcnMnKS52YWwocmVzdWx0Lm1ldGVycyk7XG4gICAgICAgICAgICBmb3JtLmZpbmQoJyNzZWdtZW50SWQnKS52YWwocmVzdWx0LnNlZ21lbnRJZCk7XG4gICAgICAgICAgICBmb3JtLmZpbmQoJyNjb3VudHJpZXMnKS52YWwocmVzdWx0LmNvdW50cnkpO1xuICAgICAgICAgICAgLy9ncHMucmVwbGFjZSgvKC4qKSwoLiopLCguKikvZ20sICd7IFwibGF0XCI6ICQxLCBcImxvblwiOiAkMiwgXCJlbFwiOiAkMyB9LCcpO1xuICAgICAgICAgICAgdmFyIGdwc0N2cyA9IEpTT04uc3RyaW5naWZ5KHJlc3VsdC5ncHMpO1xuICAgICAgICAgICAgZm9ybS5maW5kKCcjZ3BzJykuYXBwZW5kKGdwc0N2cyk7XG4gICAgICAgICAgICAkKCcjYWRkLXJvdXRlLW1vZGFsJykubW9kYWwoJ3Nob3cnKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzaG93Um91dGVNb2RhbChlKSB7XG4gICAgdmFyIG5hbWUgPSAkKGUucmVsYXRlZFRhcmdldCkuZGF0YSgncm91dGUtbmFtZScpO1xuICAgIHZhciB0aGF0ID0gJCh0aGlzKTtcbiAgICAkLmdldChcIi9yb3V0ZXMvXCIgKyBuYW1lLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgdGl0bGUgPSBkYXRhLm5hbWU7XG4gICAgICAgIGlmIChkYXRhLnNlZ2VtZW50SWQpIHtcbiAgICAgICAgICAgIHRpdGxlID0gJzxhIGNsYXNzPVwic3RyYXZhLXNlZ21lbnRcIiB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cHM6Ly93d3cuc3RyYXZhLmNvbS9zZWdtZW50cy8nICsgZGF0YS5zZWdlbWVudElkICsgJyB0aXRsZT1cIlN0cmF2YSBTZWdtZW50IFVybFwiIFwiPicgKyB0aXRsZSArICcgPC9hPic7XG4gICAgICAgIH1cbiAgICAgICAgdGhhdC5maW5kKCcjc2hvdy1yb3V0ZS1tb2RhbC10aXRsZScpLmh0bWwodGl0bGUpO1xuICAgICAgICB2YXIgaHRtbCA9ICc8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIj48aDUgY2xhc3M9XCJjYXJkLXRpdGxlXCI+RGlzcGxheSBMZW5naHQ6PC9oNT4nICsgZGF0YS5tZXRlcnMgKyAnIG08L2xpPic7XG4gICAgICAgIGh0bWwgKz0gJzxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiPjxoNSBjbGFzcz1cImNhcmQtdGl0bGVcIj5HcHMgTGVuZ2h0OjwvaDU+JyArIGRhdGEuZ3BzTGVuZ2h0ICsgJyBtPC9saT4nO1xuICAgICAgICBodG1sICs9ICc8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIj48aDUgY2xhc3M9XCJjYXJkLXRpdGxlXCI+Q291bnRyeTo8L2g1PicgKyBkYXRhLmNvdW50cnkgKyAnPC9saT4nO1xuICAgICAgICB0aGF0LmZpbmQoJy5jYXJkIC5saXN0LWdyb3VwJykuaHRtbChodG1sKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY2hhbmdlUm91dGVTZWxlY3QoKSB7XG4gICAgdmFyIHNlbGVjdGVkID0gJCgnI3JvdXRlcycpLmZpbmQoXCI6c2VsZWN0ZWRcIik7XG4gICAgbWFwVXRpbHMuY2xlYW5NYXAoKTtcbiAgICB2YXIgbmFtZSA9IHNlbGVjdGVkLmRhdGEoJ25hbWUnKTtcbiAgICBtYXBVdGlscy5hZGRSb3V0ZVRyYWNrVG9NYXAobmFtZSwgJChcIiNsaXZlLW1hcFwiKSk7XG59XG5cbmZ1bmN0aW9uIGRlbGV0ZVJvdXRlKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIGlkID0gJCh0aGlzKS5kYXRhKCdpZCcpO1xuICAgIHZhciByZXN1bHQgPSBjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSByb3V0ZT9cIik7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiAnL3JvdXRlcy8nICsgaWQsXG4gICAgICAgICAgICB0eXBlOiAnREVMRVRFJyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByb3V0ZS5sb2FkUm91dGUoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2F2ZVJvdXRlKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgZm9ybSA9ICQoXCIjYWRkUm91dGVcIik7XG4gICAgdmFyIHJvdXRlID0ge307XG4gICAgcm91dGUubmFtZSA9IGZvcm0uZmluZCgnI25hbWUnKS52YWwoKTtcbiAgICByb3V0ZS5tZXRlcnMgPSBmb3JtLmZpbmQoJyNtZXRlcnMnKS52YWwoKTtcbiAgICByb3V0ZS5zdHJhdmFJZCA9IGZvcm0uZmluZCgnI3NlZ21lbnRJZCcpLnZhbCgpO1xuICAgIHJvdXRlLmNvdW50cnkgPSBmb3JtLmZpbmQoJyNjb3VudHJpZXMnKS52YWwoKTtcbiAgICByb3V0ZS5ncHMgPSBmb3JtLmZpbmQoJ3RleHRhcmVhJykudmFsKCk7XG4gICAgJC5hamF4KHtcbiAgICAgICAgdHlwZTogJ1BVVCcsXG4gICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgIHVybDogXCIvcm91dGVzL2FkZFwiLFxuICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShyb3V0ZSksXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoJyNhZGQtcm91dGUtbW9kYWwnKS5tb2RhbCgnaGlkZScpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvYWRSb3V0ZURldGFpbChuYW1lKSB7XG4gICAgY29uc29sZS5sb2cobmFtZSk7XG4gICAgJCgnI2xvYWQnKS5sb2FkKCcvcm91dGUvZGV0YWlscycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbWFwVXRpbHMuY2xlYW5NYXAoKTtcbiAgICAgICAgc3RyYXZhLmxlYWRlcmJvYXJkKG5hbWUsIGFkZFRvVGFibGUuYmluZChudWxsLCAkKHRoaXMpLmZpbmQoJyNzdHJhdmEtcmVzdWx0JykpKTtcbiAgICAgICAgLy8gJCh0aGlzKS5maW5kKCcjcm91dGUtaGlzdG9yeScpLmVhY2gocm91dGUubG9hZFJvdXRlcyk7XG4gICAgICAgIC8vICQodGhpcykuZmluZCgnI3N0cmF2YS1yZXN1bHQnKS5lYWNoKHJvdXRlLmxvYWRSb3V0ZXMpO1xuXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZFRvVGFibGUodGFibGUpIHtcbiAgICBjb25zb2xlLmxvZyhcInRlc3RcIik7XG4gICAgdmFyIGh0bWwgPSAnJztcbiAgICBpZiAodGhpcy5lbnRyaWVzKSB7XG4gICAgICAgIHRoaXMuZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSAnPHRyPiA8dGQ+ICcgKyBlbnRyeS5hdGhsZXRlX25hbWUgKyAnIDwvdGQ+PHRkPiAnICsgZW50cnkubW92aW5nX3RpbWUgKyAnPC90ZD48L3RyPic7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0YWJsZS5odG1sKGh0bWwpO1xufVxuXG5mdW5jdGlvbiBvcGVuUm91dGUoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgbmV4dCA9IHBhcnNlSW50KCQodGhpcykuZGF0YSgnbmV4dCcpKSwgaW5kZXggPSBwYXJzZUludCgkKHRoaXMpLmRhdGEoJ2luZGV4JykpLFxuICAgICAgICBtYWluSW5kZXggPSBwYXJzZUludCgkKCcjcm91dGUtcGFnZScpLmRhdGEoJ2luZGV4JykpO1xuICAgIGlmICghaXNOYU4obmV4dCkpIHtcbiAgICAgICAgbWFpbkluZGV4ICs9IG5leHQ7XG4gICAgfSBlbHNlIGlmICghaXNOYU4oaW5kZXgpKSB7XG4gICAgICAgIG1haW5JbmRleCA9IGluZGV4O1xuICAgIH1cbiAgICB2YXIgcGFnID0gJCgnI3JvdXRlcy10YWJsZScpLmZpbmQoJy5wYWdlJyk7XG4gICAgY3JlYXRlUm91dGVOYXZQYWdlKHBhZ1swXSwgbWFpbkluZGV4KTtcbiAgICBsb2FkUm91dGVUYWJsZShtYWluSW5kZXgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IGxvYWRSb3V0ZXMsIGNyZWF0ZVJvdXRlUmVjb3JkLCBsb2FkUm91dGUsIGxvYWRSb3V0ZVRhYmxlLFxuICAgICBjcmVhdGVSb3V0ZU5hdlBhZ2UsIGVkaXRSb3V0ZSwgc2hvd1JvdXRlTW9kYWwsIGNoYW5nZVJvdXRlU2VsZWN0LCBkZWxldGVSb3V0ZSxcbnNhdmVSb3V0ZSwgb3BlblJvdXRlLCBsb2FkUm91dGVEZXRhaWx9IiwiXG52YXIgbG9hZFVzZXJzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAkLmdldChcIi91c2Vyc1wiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgaHRtbCA9ICcnO1xuICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8b3B0aW9uIHZhbHVlPVwiJyArIHZhbHVlLmlkICsgJ1wiPicgKyB2YWx1ZS5maXJzdE5hbWUgKyAnICcgKyB2YWx1ZS5sYXN0TmFtZSArICc8L29wdGlvbj4nXG4gICAgICAgIH0pO1xuICAgICAgICAkKHRoYXQpLmh0bWwoaHRtbClcbiAgICB9KTtcbn07XG5cbmZ1bmN0aW9uIGVkaXRVc2VyKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIGlkID0gJCh0aGlzKS5kYXRhKCdpZCcpO1xuICAgICQuYWpheCh7XG4gICAgICAgIHVybDogJy91c2Vycy8nICsgaWQsXG4gICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICB2YXIgZm9ybSA9ICQoXCIjYWRkVXNlckZvcm1cIik7XG4gICAgICAgICAgICBmb3JtLmZpbmQoJyNmaXJzdE5hbWUnKS52YWwocmVzdWx0LmZpcnN0TmFtZSk7XG4gICAgICAgICAgICBmb3JtLmZpbmQoJyNsYXN0TmFtZScpLnZhbChyZXN1bHQubGFzdE5hbWUpO1xuICAgICAgICAgICAgZm9ybS5maW5kKCcjdXNlcklkJykudmFsKHJlc3VsdC5pZCk7XG4gICAgICAgICAgICAkLmdldCgnL3N0cmF2YS91cmwnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBkYXRhLnVybC5yZXBsYWNlKFwiJTI0XCIsIHJlc3VsdC5pZCk7XG4gICAgICAgICAgICAgICAgJCgnLnN0cmF2YS11cmwnKS5hdHRyKCdocmVmJywgdXJsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGNvbm5lY3QgPSAkKFwiLnN0cmF2YS1jb25uZWN0XCIpO1xuICAgICAgICAgICAgY29ubmVjdC5yZW1vdmVDbGFzcyhcInNyLW9ubHlcIik7XG4gICAgICAgICAgICAkKCcjYWRkVXNlck1vZGFsJykubW9kYWwoJ3Nob3cnKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkVXNlcigpIHtcbiAgICAkKCcjbG9hZCcpLmxvYWQoJy91c2VyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmZpbmQoJyN1c2Vycy1ib2R5JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICAkLmdldChcIi91c2Vycy9cIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9ICcnO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXNlciA9IGRhdGFbaV07XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzx0cj48dGQ+PGEgaHJlZj1cIiNcIiBkYXRhLXRvZ2dsZT1cIm1vZGFsXCIgZGF0YS10YXJnZXQ9XCIjdXNlclN0YXRzTW9kYWxcIiBkYXRhLWlkPVwiJyArIHVzZXIuaWQgKyAnXCI+JyArIChpICsgMSkgKyAnPC9hPjwvdGQ+PHRkPicgKyB1c2VyLmZpcnN0TmFtZSArICc8L3RkPjx0ZD4nICsgdXNlci5sYXN0TmFtZSArICc8L3RkPic7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzx0ZD48YSBjbGFzcz1cImVkaXQtdXNlclwiIGhyZWY9XCIjXCIgZGF0YS1pZD1cIicgKyB1c2VyLmlkICsgJ1wiPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jcmVhdGU8L2k+PC9hPjxhIGNsYXNzPVwiZGVsLXVzZXJcIiBocmVmPVwiI1wiIGRhdGEtaWQ9XCInICsgdXNlci5pZCArICdcIj48aSBhcmlhLWhpZGRlbj1cInRydWVcIiB0aXRsZT1cIkRlbGV0ZSB1c2VyXCIgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmRlbGV0ZTwvaT48L2E+PC90ZD4nICsgJzwvdHI+J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKHRoYXQpLmh0bWwoaHRtbCk7XG4gICAgICAgICAgICAgICAgJCgnI2FkZFVzZXJNb2RhbCcpLm9uKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2FkVXNlcigpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHNhdmVVc2VyKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgZm9ybSA9ICQoXCIjYWRkVXNlckZvcm1cIik7XG4gICAgdmFyIGZpcnN0TmFtZSA9IGZvcm0uZmluZCgnI2ZpcnN0TmFtZScpLnZhbCgpO1xuICAgIHZhciBsYXN0TmFtZSA9IGZvcm0uZmluZCgnI2xhc3ROYW1lJykudmFsKCk7XG4gICAgdmFyIGlkID0gZm9ybS5maW5kKCcjdXNlcklkJykudmFsKCk7XG4gICAgdmFyIHVzZXIgPSB7fTtcbiAgICB1c2VyLmZpcnN0TmFtZSA9IGZpcnN0TmFtZTtcbiAgICB1c2VyLmxhc3ROYW1lID0gbGFzdE5hbWU7XG4gICAgdXNlci5pZCA9IGlkO1xuICAgICQuYWpheCh7XG4gICAgICAgIHR5cGU6ICdQVVQnLFxuICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICB1cmw6IFwiL3VzZXJzL2FkZFwiLFxuICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh1c2VyKSxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCgnI2FkZFVzZXJNb2RhbCcpLm1vZGFsKCdoaWRlJyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxufVxuXG5mdW5jdGlvbiBkZWxldGVVc2VyKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIGlkID0gJCh0aGlzKS5kYXRhKCdpZCcpO1xuICAgIHZhciByZXN1bHQgPSBjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZT9cIik7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiAnL3VzZXJzLycgKyBpZCxcbiAgICAgICAgICAgIHR5cGU6ICdERUxFVEUnLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHVzZXIubG9hZFVzZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IHsgbG9hZFVzZXJzLCBsb2FkVXNlciwgZWRpdFVzZXIsIHNhdmVVc2VyLCBkZWxldGVVc2VyIH0iLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IHsgVVBEQVRFX0ZSRVEsIFBBR0VfU0laRSwgUkFUSU9OIH0gZnJvbSAnLi4vdXRpbHMvZ2xvYmFscyc7XG5cblxuZnVuY3Rpb24gbG9hZEhpc3RvcnlJbmRleChpbmRleCkge1xuICAgIGxvYWRIaXN0b3J5KGluZGV4KTtcbn1cblxuZnVuY3Rpb24gbG9hZEhpc3RvcnkobWFpbkluZGV4KSB7XG4gICAgJCgnI2xvYWQnKS5sb2FkKCcvaGlzdG9yeScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5maW5kKCcjaGlzdG9yeScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbG9hZExhc3QzU2Vzc2lvbnMoKTtcbiAgICAgICAgICAgIGxvYWRIaXN0b3J5TGlzdCgkKHRoaXMpLCBtYWluSW5kZXgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbG9hZExhc3QzU2Vzc2lvbnMoKSB7XG4gICAgJC5nZXQoJy9zZXNzaW9uLycgKyAwICsgJy8nICsgMiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGh0bWxDYXJkcyA9ICcnO1xuICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHNlc3Npb24pIHtcbiAgICAgICAgICAgIGh0bWxDYXJkcyA9IGNyZWF0ZUNhcmQoaHRtbENhcmRzLCBzZXNzaW9uKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnI2NhcmRzJykuaHRtbCgnPGRpdiBjbGFzcz1cImNvbFwiPjxkaXYgY2xhc3M9XCJjYXJkLWRlY2tcIj4nICsgaHRtbENhcmRzICsgJzwvZGl2PjwvZGl2PicpO1xuICAgICAgICAkKCcuZ3B4LXRyYWNrJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnRyaWdnZXIoXCJsb2FkLW1hcFwiLCB0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvYWRIaXN0b3J5TGlzdCh0aGF0LCBtYWluSW5kZXgpIHtcbiAgICB2YXIgc3RhcnQgPSBtYWluSW5kZXggKiBQQUdFX1NJWkUsIHN0b3AgPSAoKChtYWluSW5kZXggKyAxKSAqIFBBR0VfU0laRSkpIC0gMTtcbiAgICAkLmdldCgnL3Nlc3Npb24vJyArIHN0YXJ0ICsgJy8nICsgc3RvcCwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgJC5nZXQoJy91c2VycycsIGZ1bmN0aW9uICh1c2Vycykge1xuICAgICAgICAgICAgdmFyIGh0bWxUYWJsZSA9ICcnLCBpbmRleCA9IDA7XG4gICAgICAgICAgICB2YXIgdXNlck1hcCA9IHVzZXJzLnJlZHVjZShmdW5jdGlvbihtYXAsIG9iaikge1xuICAgICAgICAgICAgICAgIG1hcFtvYmouaWRdID0gb2JqO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXA7XG4gICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBodG1sVGFibGUgPSBjcmVhdGVMYXBUYWJsZVJlY29yZChodG1sVGFibGUsIGluZGV4ICsgKG1haW5JbmRleCAqIFBBR0VfU0laRSksIHNlc3Npb24sIHVzZXJNYXApO1xuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnI2hpc3Rvci10YWJsZS1ib2R5JykuaHRtbChodG1sVGFibGUpO1xuICAgICAgICAgICAgdmFyIHBhZyA9IHRoYXQuZmluZCgnLnBhZ2UnKTtcbiAgICAgICAgICAgIGNyZWF0ZUhpc3RvcnlOYXZQYWdlKHBhZywgbWFpbkluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG9wZW5IaXN0b3J5KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIG5leHQgPSBwYXJzZUludCgkKHRoaXMpLmRhdGEoJ25leHQnKSksIGluZGV4ID0gcGFyc2VJbnQoJCh0aGlzKS5kYXRhKCdpbmRleCcpKSxcbiAgICAgICAgbWFpbkluZGV4ID0gcGFyc2VJbnQoJCgnI2hpc3RvcnktcGFnZScpLmRhdGEoJ2luZGV4JykpO1xuICAgIGlmICghaXNOYU4obmV4dCkpIHtcbiAgICAgICAgbWFpbkluZGV4ICs9IG5leHQ7XG4gICAgfSBlbHNlIGlmICghaXNOYU4oaW5kZXgpKSB7XG4gICAgICAgIG1haW5JbmRleCA9IGluZGV4O1xuICAgIH1cbiAgICBsb2FkSGlzdG9yeUxpc3QoJCgnI2hpc3RvcnktdGFibGUnKSwgbWFpbkluZGV4KTtcbn1cblxuXG52YXIgY3JlYXRlQ2FyZCA9IGZ1bmN0aW9uIChodG1sQ2FyZHMsIHNlc3Npb24pIHtcbiAgICBodG1sQ2FyZHMgKz0gJzxkaXYgY2xhc3M9XCJjYXJkIGdweC10cmFja1wiIGRhdGEtbmFtZT1cIicgKyBzZXNzaW9uLm5hbWUgKyAnXCJcIj4nO1xuICAgIGh0bWxDYXJkcyArPSAnPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPic7XG4gICAgaHRtbENhcmRzICs9ICc8ZGl2IGNsYXNzPVwiY2FyZC1tYXAtdG9wIFwiPjwvZGl2Pic7XG4gICAgaHRtbENhcmRzICs9ICc8aDUgY2xhc3M9XCJjYXJkLXRpdGxlIG10LTJcIj48YSBjbGFzcz1cInNlc3Npb25zXCIgZGF0YS1uYW1lPVwiJyArIHNlc3Npb24ubmFtZSArICdcIiBocmVmPVwiL3Nlc3Npb25cIj4nICsgdXRpbHMuc2Vzc2lvbk5hbWVUb1JlYWRhYmxlKHNlc3Npb24ubmFtZSkgKyAnPC9hPjwvaDU+JztcbiAgICBodG1sQ2FyZHMgKz0gJzxwIGNsYXNzPVwiY2FyZC10ZXh0XCI+TGVuZ3RoOiAnICsgcGFyc2VJbnQoc2Vzc2lvbi5lbmRTdGF0cy5tZXRlcnMpICsgJ20sIFRpbWU6ICcgKyB1dGlscy5mbXRNU1MocGFyc2VJbnQoc2Vzc2lvbi5lbmRTdGF0cy5zZWNvbmRzKSkgKyAnPC9wPic7XG4gICAgaHRtbENhcmRzICs9ICc8YSBocmVmPVwiL3N0cmF2YS91cGxvYWQvJyArIHNlc3Npb24ubmFtZSArICdcIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBzdHJhdmEgYnRuLWJsb2NrXCI+VXBsb2FkIHRvIFN0cmF2YTwvYT4nO1xuICAgIGh0bWxDYXJkcyArPSAnPC9kaXY+JztcbiAgICBodG1sQ2FyZHMgKz0gJzwvZGl2Pic7XG4gICAgcmV0dXJuIGh0bWxDYXJkcztcbn07XG5cbnZhciBjcmVhdGVMYXBUYWJsZVJlY29yZCA9IGZ1bmN0aW9uIChodG1sVGFibGUsIGluZGV4LCBzZXNzaW9uLCB1c2VyTWFwKSB7XG4gICAgdmFyIHVzZXIgPSB1c2VyTWFwW3Nlc3Npb24udXNlcl07XG4gICAgaHRtbFRhYmxlICs9ICc8dHI+JztcbiAgICBodG1sVGFibGUgKz0gJzx0aCBzY29wZT1cInJvd1wiPicgKyAoaW5kZXggKyAxKSArICc8L3RoPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+PGEgY2xhc3M9XCJzZXNzaW9uc1wiIGRhdGEtbmFtZT1cIicgKyBzZXNzaW9uLm5hbWUgKyAnXCIgaHJlZj1cIi8/bmFtZT0nK3Nlc3Npb24ubmFtZSsnI3Nlc3Npb25cIj4nICsgdXRpbHMuc2Vzc2lvbk5hbWVUb1JlYWRhYmxlKHNlc3Npb24ubmFtZSkgKyAnPC9hPjwvdGQ+JztcbiAgICBodG1sVGFibGUgKz0gJzx0ZD5MZW5ndGg6ICcgKyBwYXJzZUludChzZXNzaW9uLmVuZFN0YXRzLm1ldGVycykgKyAnbTwvdGQ+JztcbiAgICBpZiAodXNlcikge1xuICAgICAgICBodG1sVGFibGUgKz0gJzx0ZD4nICsgdXNlci5maXJzdE5hbWUgKyAnICcgKyB1c2VyLmxhc3ROYW1lICsgJzwvdGQ+JztcbiAgICB9IGVsc2Uge1xuICAgICAgICBodG1sVGFibGUgKz0gJzx0ZD48L3RkPic7XG4gICAgfVxuICAgIGh0bWxUYWJsZSArPSAnPHRkPiA8YSBocmVmPVwiL3Nlc3Npb25zLycgKyBzZXNzaW9uLm5hbWUgKyAnLmdweFwiPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgbWQtMzZcIj5maWxlX2Rvd25sb2FkPC9pPjxhIGNsYXNzPVwic3RyYXZhXCIgaHJlZj1cIi9zdHJhdmEvdXBsb2FkLycgKyBzZXNzaW9uLm5hbWUgKyAnXCI+JyArXG4gICAgICAgICc8aSBhcmlhLWhpZGRlbj1cInRydWVcIiB0aXRsZT1cIlVwbG9hZCB0byBTdHJhdmFcIiBjbGFzcz1cIm1hdGVyaWFsLWljb25zIG1kLTM2IHN0cmF2YS1pY29uXCI+Y2xvdWRfdXBsb2FkPC9pPjwvYT4gPGEgY2xhc3M9XCJkZWwtc2Vzc2lvblwiIGhyZWY9XCIjXCIgZGF0YS1uYW1lPVwiJyArIHNlc3Npb24ubmFtZSArICdcIj4nICtcbiAgICAgICAgJzxpIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHRpdGxlPVwiRGVsZXRlIHNlc3Npb24gbG9jYWxcIiBjbGFzcz1cIm1hdGVyaWFsLWljb25zIG1kLTM2XCI+ZGVsZXRlPC9pPjwvYT48L3RkPic7XG4gICAgaHRtbFRhYmxlICs9ICc8L3RyPic7XG4gICAgcmV0dXJuIGh0bWxUYWJsZTtcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUhpc3RvcnlOYXZQYWdlKHBhZ2UsIGluZGV4KSB7XG4gICAgdmFyIGh0bWxFbGVtZW50ID0gJCgnPHVsIGlkPVwiaGlzdG9yeS1wYWdlXCIgZGF0YS1pbmRleD1cIicgKyBpbmRleCArICdcIj48L3VsPicpLmFkZENsYXNzKFwicGFnaW5hdGlvbiBwYWdpbmF0aW9uLWxnXCIpO1xuICAgICQuZ2V0KFwic2Vzc2lvbi9zaXplXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocGFyc2VJbnQoZGF0YSkgLyBQQUdFX1NJWkUpICsgMTtcbiAgICAgICAgdmFyIHByZXZEaXNhYmxlZCA9IChpbmRleCA9PT0gMCA/ICdkaXNhYmxlZCcgOiAnJyk7XG4gICAgICAgIHZhciBuZXh0RGlzYWJsZWQgPSAoaW5kZXggPT09IHNpemUgLSAxID8gJ2Rpc2FibGVkJyA6ICcnKTtcbiAgICAgICAgdmFyIHByZXYgPSAkKCc8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gJyArIHByZXZEaXNhYmxlZCArICdcIj48L2xpPicpLmFwcGVuZCgnPGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBocmVmPVwiI1wiIGRhdGEtbmV4dD1cIi0xXCIgdGFiaW5kZXg9XCItMVwiPlByZXZpb3VzPC9hPicpO1xuICAgICAgICB2YXIgbmV4dCA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgbmV4dERpc2FibGVkICsgJ1wiPjwvbGk+JykuYXBwZW5kKCc8YSBjbGFzcz1cInBhZ2UtbGlua1wiIGRhdGEtbmV4dD1cIjFcIiBocmVmPVwiI1wiPk5leHQ8L2E+Jyk7XG5cbiAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kKHByZXYpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgdmFyIGFjdGl2ZSA9ICcnO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBpKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlID0gXCJhY3RpdmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpdGVtID0gJCgnPGxpIGNsYXNzPVwicGFnZS1pdGVtICcgKyBhY3RpdmUgKyAnXCI+PGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBkYXRhLWluZGV4PVwiJyArIGkgKyAnXCIgaHJlZj1cIiNcIj4nICsgKGkgKyAxKSArICc8L2E+PC9saT4nKTtcbiAgICAgICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBodG1sRWxlbWVudC5hcHBlbmQobmV4dCk7XG4gICAgICAgICQocGFnZSkuaHRtbChodG1sRWxlbWVudCk7XG4gICAgfSk7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgeyBsb2FkSGlzdG9yeUluZGV4LCBsb2FkSGlzdG9yeSwgbG9hZEhpc3RvcnlMaXN0LCBvcGVuSGlzdG9yeSB9IiwiaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzL3V0aWxzJztcbmltcG9ydCBncmFwaFV0aWxzIGZyb20gJy4uL3V0aWxzL2dyYXBoVXRpbHMnO1xuaW1wb3J0IHsgVVBEQVRFX0ZSRVEsIFBBR0VfU0laRSwgUkFUSU9OLCBydW4gfSBmcm9tICcuLi91dGlscy9nbG9iYWxzJztcbmltcG9ydCBmcm9udCBmcm9tICcuLi9mcm9udC9pbmRleCc7XG5pbXBvcnQgcm91dGUgZnJvbSAnLi4vcm91dGUvaW5kZXgnO1xuaW1wb3J0IHVzZXIgZnJvbSAnLi4vdXNlci9pbmRleCc7XG5pbXBvcnQgbWFwVXRpbHMgZnJvbSAnLi4vdXRpbHMvbWFwVXRpbHMnXG5pbXBvcnQgbWFwIGZyb20gJy4uL21hcC9pbmRleCdcbmltcG9ydCBoaXN0b3J5IGZyb20gJy4uL2hpc3RvcnkvaW5kZXgnXG5cblxuZnVuY3Rpb24gbG9hZFNlc3Npb24obmFtZSkge1xuICAgICQoJyNsb2FkJykubG9hZCgnL3Nlc3Npb25zJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmZpbmQoJyNyb3V0ZXMnKS5lYWNoKHJvdXRlLmxvYWRSb3V0ZXMpO1xuICAgICAgICAkKHRoaXMpLmZpbmQoJyNzZXNzaW9uLXVzZXInKS5lYWNoKHVzZXIubG9hZFVzZXJzKTtcbiAgICAgICAgJCh0aGlzKS5maW5kKCcjaGlzdG9yeS1zZXNzaW9uJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGl0bGUgPSBcIkhpc3RvcnlcIjtcbiAgICAgICAgICAgICQuZ2V0KFwiL3Nlc3Npb24vXCIgKyBuYW1lLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBodG1sID0gZnJvbnQuZ2V0SHRtbCh0aXRsZSwgZGF0YS5lbmRTdGF0cywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgJCgnI3JvdXRlcycpLnZhbChkYXRhLnJvdXRlKTtcbiAgICAgICAgICAgICAgICAkKCcjc2Vzc2lvbi11c2VyJykudmFsKGRhdGEudXNlcik7XG4gICAgICAgICAgICAgICAgaWYgKGh0bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RhYmxlLWNvbnRlbnQnKS5odG1sKGh0bWwpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjbGFwcy1ib2R5JykuaHRtbChnZXRMYXBIdG1sKHRpdGxlLCBkYXRhLmVuZFN0YXRzKSk7XG4gICAgICAgICAgICAgICAgICAgIG1hcFV0aWxzLmFkZEdweFRyYWNrVG9NYXAobmFtZSwgJChcIiNsaXZlLW1hcFwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdyYXBoVXRpbHMuYWRkR3JhcGgoZGF0YS5yYXcsIGRhdGEucmF3SHIsIHBhcnNlSW50KGRhdGEuc3RhcnQpLCBkYXRhLnN0cm9rZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldExhcEh0bWwobGFiZWwsIGpzb24sIHJldmVyc2UpIHtcbiAgICB2YXIgaHRtbCA9ICcnO1xuICAgIGlmIChwYXJzZUludChqc29uLnRvdGFsTGFwcykgPiAwKSB7XG4gICAgICAgIHZhciBsYXBOdW0gPSAxO1xuICAgICAgICB2YXIgbGFwcyA9IGpzb24ubGFwcztcbiAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgIGxhcHMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgbGFwTnVtID0gbGFwcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgbGFwcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzx0cj48dGggc2NvcGU9XCJyb3dcIj4nICsgbGFwTnVtICsgJzwvdGg+PHRkPicgKyBwYXJzZUludCh2YWx1ZS5tZXRlcnMpICsgJzwvdGQ+PHRkPicgKyB1dGlscy5mbXRNU1MocGFyc2VJbnQodmFsdWUuc2Vjb25kcykpICsgJzwvdGQ+JztcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8dGQ+JyArIE1hdGgucm91bmQocGFyc2VGbG9hdCh2YWx1ZS53YXR0KSAqIDEwKSAvIDEwICsgJ3c8L3RkPjwvdHI+JztcbiAgICAgICAgICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgICAgICAgICBsYXBOdW0tLTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsYXBOdW0rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBodG1sO1xufVxuXG5cbnZhciBjbGlja1Nlc3Npb24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgbmFtZSA9ICQodGhpcykuZGF0YSgnbmFtZScpO1xuICAgIGxvYWRTZXNzaW9uKG5hbWUpO1xufTtcblxuZnVuY3Rpb24gZGVsZXRlU2Vzc2lvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBuYW1lID0gJCh0aGlzKS5kYXRhKCduYW1lJyk7XG4gICAgdmFyIHJlc3VsdCA9IGNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHNlc3Npb24/XCIpO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDogJy9zZXNzaW9uL2RlbC8nICsgbmFtZSxcbiAgICAgICAgICAgIHR5cGU6ICdERUxFVEUnLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiU2Vzc2lvbiBkZWxldGVkXCIpO1xuICAgICAgICAgICAgICAgIGhpc3RvcnkubG9hZEhpc3RvcnlJbmRleCgwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7IGxvYWRTZXNzaW9uLCBjbGlja1Nlc3Npb24sIGdldExhcEh0bWwsIGRlbGV0ZVNlc3Npb24gfSIsImltcG9ydCByb3V0ZSBmcm9tICcuLi9yb3V0ZS9pbmRleCc7XG5pbXBvcnQgdXNlciBmcm9tICcuLi91c2VyL2luZGV4JztcbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy91dGlscydcbmltcG9ydCBtYXBVdGlscyBmcm9tICcuLi91dGlscy9tYXBVdGlscydcbmltcG9ydCBnbG9iYWxzIGZyb20gJy4uL3V0aWxzL2dsb2JhbHMnO1xuaW1wb3J0IHNlc3Npb24gZnJvbSAnLi4vc2Vzc2lvbi9pbmRleCc7XG5pbXBvcnQgbWFwIGZyb20gJy4uL21hcC9pbmRleCdcbmltcG9ydCBoaXN0b3J5IGZyb20gJy4uL2hpc3RvcnkvaW5kZXgnXG5cbnZhciB0aW1lT3V0O1xuXG5mdW5jdGlvbiBsb2FkTWFpbigpIHtcbiAgICAkKCcjbG9hZCcpLmxvYWQoJy9tYWluJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmZpbmQoJyNyb3V0ZXMnKS5lYWNoKHJvdXRlLmxvYWRSb3V0ZXMpO1xuICAgICAgICAkKHRoaXMpLmZpbmQoJyNzZXNzaW9uLXVzZXInKS5lYWNoKHVzZXIubG9hZFVzZXJzKTtcbiAgICAgICAgJC5nZXQoXCIvcm93L3N0YXR1c1wiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAnUk9XSU5HJykge1xuICAgICAgICAgICAgICAgIHZhciBzdGFydEJ1dHRvbiA9ICQoJyNzdGFydFJvdycpO1xuICAgICAgICAgICAgICAgIGlmICh1dGlscy5nZXRVcmxQYXJhbWV0ZXIoXCJ0ZXN0XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0QnV0dG9uID0gJCgnI3N0YXJ0U2ltdWxhdG9yJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhcnQoc3RhcnRCdXR0b24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvL1J1biBzaW11bGF0b3IgaWYgdGVzdC5cbiAgICAgICAgaWYgKHV0aWxzLmdldFVybFBhcmFtZXRlcihcInRlc3RcIikpIHtcbiAgICAgICAgICAgICQoJyNzdGFydFJvdycpLmF0dHIoXCJpZFwiLCBcInN0YXJ0U2ltdWxhdG9yXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHVwbG9hZFRvU3RyYXZhKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIGhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgICAkLmdldChocmVmLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgYWxlcnQoXCJVcGxvYWRlZCB0byBzdHJhdmEhXCIpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzdGFydFJvdyhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciByb3V0ZXMgPSAkKCcjcm91dGVzJykudmFsKCk7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICQuZ2V0KFwiL3Jvdy9zdGFydFwiLCB7IHJvdXRlczogcm91dGVzIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RhcnQodGhhdCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHN0b3BSb3coZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgdGhhdCA9ICQodGhpcyk7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVPdXQpO1xuICAgIGdsb2JhbHMucnVuID0gZmFsc2U7XG4gICAgdmFyIHJvdXRlcyA9ICQoJyNyb3V0ZXMnKS52YWwoKTtcbiAgICB2YXIgdXNlciA9ICQoJyNzZXNzaW9uLXVzZXInKS52YWwoKTtcbiAgICAkLmdldChcIi9yb3cvc3RvcFwiLCB7IHJvdXRlczogcm91dGVzLCB1c2VyOiB1c2VyIH0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICQoJyN0YWJsZS1jb250ZW50JykuaHRtbChnZXRIdG1sKFwiU3RvcHBlZFwiLCBkYXRhLCBmYWxzZSkpO1xuICAgICAgICB2YXIgc3RhcnRSb3cgPSAkKFwiI3N0YXJ0Um93XCIpO1xuICAgICAgICBzdGFydFJvdy5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICBzdGFydFJvdy5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgICAgIHN0YXJ0Um93Lmh0bWwoJ1N0YXJ0IHJvdycpO1xuICAgICAgICB0aGF0LmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgJCgnI3JvdXRlcycpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICQoJyNzZXNzaW9uLXVzZXInKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAkKFwiI3N0YXJ0U2ltdWxhdG9yXCIpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0KHN0YXJ0QnV0dG9uKSB7XG4gICAgJCh3aW5kb3cpLnNjcm9sbFRvcCgkKCcjbWFpbicpLm9mZnNldCgpLnRvcCk7IC8vU2Nyb2xsXG4gICAgZ2V0X3Jvd0luZm8odHJ1ZSwgXCJSb3dpbmdcIik7XG4gICAgbWFwVXRpbHMuY2xlYW5NYXAoKTtcbiAgICAkKCcjcm91dGVzJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAkKCcjc2Vzc2lvbi11c2VyJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAkKFwiI3N0YXJ0U2ltdWxhdG9yXCIpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgJChzdGFydEJ1dHRvbikuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAkKHN0YXJ0QnV0dG9uKS5odG1sKCdSb3dpbmcuLi4nKTtcbiAgICAkKHN0YXJ0QnV0dG9uKS5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgJCgnI3N0b3BSb3cnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG59XG5cbmZ1bmN0aW9uIGdldF9yb3dJbmZvKGNvbnRpbnVlcywgdGl0bGUpIHtcbiAgICBnbG9iYWxzLnJ1biA9IGNvbnRpbnVlcztcbiAgICAkLmdldChcIi9yb3dcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGh0bWwgPSBnZXRIdG1sKHRpdGxlLCBkYXRhKTtcbiAgICAgICAgaWYgKGh0bWwpIHtcbiAgICAgICAgICAgICQoJyN0YWJsZS1jb250ZW50JykuaHRtbChodG1sKTtcbiAgICAgICAgICAgICQoJyNsYXBzLWJvZHknKS5odG1sKHNlc3Npb24uZ2V0TGFwSHRtbCh0aXRsZSwgZGF0YSwgdHJ1ZSkpO1xuICAgICAgICAgICAgdmFyIGxhdCA9IGRhdGEuZ3BzLmxhdDtcbiAgICAgICAgICAgIHZhciBsb24gPSBkYXRhLmdwcy5sb247XG4gICAgICAgICAgICB2YXIgcCA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobGF0LCBsb24pO1xuICAgICAgICAgICAgbWFwLmxpdmVQb2ludHMucHVzaChwKTtcbiAgICAgICAgICAgIGlmIChtYXAubGl2ZUJvdW5kcykge1xuICAgICAgICAgICAgICAgIG1hcC5saXZlQm91bmRzLmV4dGVuZChwKTtcbiAgICAgICAgICAgICAgICB2YXIgcG9seSA9IG1hcFV0aWxzLmNyZWF0ZVBvbHlMaW5lKG1hcC5saXZlUG9pbnRzKTtcbiAgICAgICAgICAgICAgICBwb2x5LnNldE1hcChtYXAubGl2ZU1hcCk7XG4gICAgICAgICAgICAgICAgbWFwLmxpdmVNYXAuZml0Qm91bmRzKG1hcC5saXZlQm91bmRzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfSkuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChnbG9iYWxzLnJ1bikge1xuICAgICAgICAgICAgdGltZU91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBnZXRfcm93SW5mbyh0cnVlLCB0aXRsZSk7IH0sIGdsb2JhbHMuVVBEQVRFX0ZSRVEpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvYWQoKSB7XG4gICAgdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcbiAgICBzd2l0Y2ggKGhhc2gpIHtcbiAgICAgICAgY2FzZSAnI3JvdXRlJzpcbiAgICAgICAgICAgIHJvdXRlLmxvYWRSb3V0ZSgwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICcjdXNlcic6XG4gICAgICAgICAgICB1c2VyLmxvYWRVc2VyKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnI2hpc3RvcnknOlxuICAgICAgICAgICAgaGlzdG9yeS5sb2FkSGlzdG9yeSgwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICcjc2Vzc2lvbic6XG4gICAgICAgICAgICBzZXNzaW9uLmxvYWRTZXNzaW9uKHV0aWxzLlF1ZXJ5U3RyaW5nW1wibmFtZVwiXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnI3JvdXRlRGV0YWlsJzpcbiAgICAgICAgICAgIHJvdXRlLmxvYWRSb3V0ZURldGFpbCh1dGlscy5RdWVyeVN0cmluZ1tcIm5hbWVcIl0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBsb2FkTWFpbigpO1xuICAgIH1cbn1cblxuXG5mdW5jdGlvbiBnZXRIdG1sKGxhYmVsLCBqc29uLCBkYXkpIHtcbiAgICBpZiAocGFyc2VJbnQoanNvbi5tZXRlcnMpID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGh0bWwgPSAnJztcbiAgICBpZiAoZGF5KSB7XG4gICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5EYXk8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIGpzb24uc3RhcnQuc3Vic3RyKDIsIGpzb24uc3RhcnQubGFzdEluZGV4T2YoJ1QnKSAtIDIpICsgJzwvZGl2PjwvZGl2Pic7XG4gICAgfVxuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5TdGFydDo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIGpzb24uc3RhcnQuc3Vic3RyKGpzb24uc3RhcnQubGFzdEluZGV4T2YoJ1QnKSArIDEsIDgpICsgJzwvZGl2PjwvZGl2Pic7XG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPlRpbWU6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyB1dGlscy5mbXRNU1MocGFyc2VJbnQoanNvbi5zZWNvbmRzKSkgKyAnPC9kaXY+PC9kaXY+JztcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+TGVuZ3RoOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2xcIj4nICsgcGFyc2VJbnQoanNvbi5tZXRlcnMpICsgJyBtICgnICsgcGFyc2VJbnQoanNvbi5yb3V0ZUxhcCkgKyAnKTwvZGl2PjwvZGl2Pic7XG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPlBhY2U6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoanNvbi5wYWNlKSAqIDMuNiAqIDEwKSAvIDEwICsgJyBrbS90PC9kaXY+PC9kaXY+JztcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+NTAwbTo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIHV0aWxzLmZtdE1TUyhwYXJzZUludChqc29uLmxhcFBhY2UpKSArICc8L2Rpdj48L2Rpdj4nO1xuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj4yazo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIHV0aWxzLmZtdE1TUyhwYXJzZUludChqc29uLnRvd0tQYWNlKSkgKyAnPC9kaXY+PC9kaXY+JztcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+QXZnLlc6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoanNvbi53YXR0KSAqIDEwKSAvIDEwICsgJ3c8L2Rpdj48L2Rpdj4nO1xuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5TUjo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIE1hdGgucm91bmQocGFyc2VGbG9hdChqc29uLnN0cm9rZSkgKiAxMCkgLyAxMCArICc8L2Rpdj48L2Rpdj4nO1xuICAgIGlmIChwYXJzZUludChqc29uLmhyKSA+IDApIHtcbiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPkhSOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2wgJyArIHV0aWxzLmdldEhlYXJ0UmF0ZUNvbG9yKHBhcnNlSW50KGpzb24uaHIpKSArICdcIj4nICsgcGFyc2VJbnQoanNvbi5ocikgKyAocGFyc2VJbnQoanNvbi5hdmdIcikgPiAwID8gJygnICsgcGFyc2VJbnQoanNvbi5hdmdIcikgKyAnKScgOiAnJykgKyAnPC9kaXY+PC9kaXY+JztcbiAgICB9XG4gICAgaWYgKGpzb24uZmlsZU5hbWUpIHtcbiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPkFjdGlvbnM6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPjxhIGhyZWY9XCIvc2Vzc2lvbnMvJyArIGpzb24uZmlsZU5hbWU7XG4gICAgICAgIGh0bWwgKz0gJ1wiPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5maWxlX2Rvd25sb2FkPC9pPjxhIGNsYXNzPVwic3RyYXZhXCIgaHJlZj1cIi9zdHJhdmEvdXBsb2FkLycgKyBqc29uLm5hbWU7XG4gICAgICAgIGh0bWwgKz0gJ1wiPjxpIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHRpdGxlPVwiVXBsb2FkIHRvIHN0cmF2YVwiIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jbG91ZF91cGxvYWQ8L2k+PC9hPic7XG4gICAgICAgIGh0bWwgKz0gJzxhIGNsYXNzPVwic2Vzc2lvbnNcIiBkYXRhLW5hbWU9XCInICsganNvbi5uYW1lICsgJ1wiIGhyZWY9XCIvc2Vzc2lvbnNcIj48aSBhcmlhLWhpZGRlbj1cInRydWVcIiB0aXRsZT1cIlNlc3Npb25cIiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZmliZXJfbmV3PC9pPjwvYT48L2Rpdj48L2Rpdj4nO1xuICAgIH1cbiAgICByZXR1cm4gaHRtbCArIFwiXCI7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgeyBsb2FkTWFpbiwgc3RhcnQsIGdldF9yb3dJbmZvLCBnZXRIdG1sLCBzdGFydFJvdywgc3RvcFJvdywgbG9hZCwgdXBsb2FkVG9TdHJhdmEgfTsiLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscy91dGlscyc7XG5pbXBvcnQgZnJvbnQgZnJvbSAnLi9mcm9udC9pbmRleCc7XG5pbXBvcnQgcm91dGUgZnJvbSAnLi9yb3V0ZS9pbmRleCc7XG5pbXBvcnQgdXNlciBmcm9tICcuL3VzZXIvaW5kZXgnO1xuaW1wb3J0IG1hcFV0aWxzIGZyb20gJy4vdXRpbHMvbWFwVXRpbHMnXG5pbXBvcnQgbWFwIGZyb20gJy4vbWFwL2luZGV4J1xuaW1wb3J0IGhpc3RvcnkgZnJvbSAnLi9oaXN0b3J5L2luZGV4J1xuaW1wb3J0IHNlc3Npb24gZnJvbSAnLi9zZXNzaW9uL2luZGV4J1xuXG4vKipcbiAqIERlY2xhcmVzIGEgbmV3IG9iamVjdCBpbiB0aGUgd2luZG93IG5hbWVseSBRdWVyeVN0cmluZyB0aGF0IGNvbnRhaW5zIGV2ZXJ5IGdldCBwYXJhbWV0ZXIgZnJvbSB0aGUgY3VycmVudCBVUkwgYXMgYSBwcm9wZXJ0eVxuICovXG53aW5kb3cuUXVlcnlTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyBhbm9ueW1vdXMsIGlzIGV4ZWN1dGVkIGltbWVkaWF0ZWx5IGFuZCBcbiAgICAvLyB0aGUgcmV0dXJuIHZhbHVlIGlzIGFzc2lnbmVkIHRvIFF1ZXJ5U3RyaW5nIVxuICAgIHZhciBxdWVyeV9zdHJpbmcgPSB7fTtcbiAgICB2YXIgcXVlcnkgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKTtcbiAgICB2YXIgdmFycyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xuXG4gICAgICAgIC8vIElmIGZpcnN0IGVudHJ5IHdpdGggdGhpcyBuYW1lXG4gICAgICAgIGlmICh0eXBlb2YgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICAgICAgICAvLyBJZiBzZWNvbmQgZW50cnkgd2l0aCB0aGlzIG5hbWVcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB2YXIgYXJyID0gW3F1ZXJ5X3N0cmluZ1twYWlyWzBdXSwgZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pXTtcbiAgICAgICAgICAgIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9IGFycjtcbiAgICAgICAgICAgIC8vIElmIHRoaXJkIG9yIGxhdGVyIGVudHJ5IHdpdGggdGhpcyBuYW1lXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0ucHVzaChkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHF1ZXJ5X3N0cmluZztcbn0oKTtcblxuJChmdW5jdGlvbiAoKSB7XG5cbiAgICAvKiogSW5pdCBzaGFyZWQgKi9cbiAgICBmcm9udC5nZXRfcm93SW5mbyhmYWxzZSwgXCJcIik7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcubWFpbicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGZyb250LmxvYWRNYWluKCk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcjdXNlcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHVzZXIubG9hZFVzZXIoKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJyNoaXN0b3J5LXBhZ2UgYScsIGhpc3Rvcnkub3Blbkhpc3RvcnkpO1xuXG4gICAgLy9UT0RPOiByZWZhY3RvcnlcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcjcm91dGUtcGFnZSBhJywgcm91dGUub3BlblJvdXRlKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5uYXYtbGluaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICQoJyNtYWluLW5hdicpLmZpbmQoXCIubmF2LWl0ZW1cIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5zZXNzaW9ucycsIHNlc3Npb24uY2xpY2tTZXNzaW9uKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJ2EjaGlzdG9yeScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGhpc3RvcnkubG9hZEhpc3RvcnlJbmRleCgwLCAwKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJ2Ejcm91dGUnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICByb3V0ZS5sb2FkUm91dGUoMCk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImxvYWQtbWFwXCIsICcuZ3B4LXRyYWNrJywgbWFwVXRpbHMubG9hZEdweE1hcCk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICdidXR0b24jc3RhcnRSb3cnLCBmcm9udC5zdGFydFJvdyk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICdidXR0b24jc3RvcFJvdycsIGZyb250LnN0b3BSb3cpO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLmVkaXQtdXNlcicsIHVzZXIuZWRpdFVzZXIpO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLmVkaXQtcm91dGUnLCByb3V0ZS5lZGl0Um91dGUpO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLnN0cmF2YScsIGZyb250LnVwbG9hZFRvU3RyYXZhKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5kZWwtc2Vzc2lvbicsIHNlc3Npb24uZGVsZXRlU2Vzc2lvbik7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiI3NhdmUtcm91dGVcIiwgcm91dGUuc2F2ZVJvdXRlKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIjc2F2ZS11c2VyXCIsIHVzZXIuc2F2ZVVzZXIpO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLmRlbC11c2VyJywgdXNlci5kZWxldGVVc2VyKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5kZWwtcm91dGUnLCByb3V0ZS5kZWxldGVSb3V0ZSk7XG5cbiAgICAkKCcjbG9hZCcpLmVhY2goZnJvbnQubG9hZCk7XG5cbiAgICAkKCcjcm91dGVzJykuZWFjaChyb3V0ZS5sb2FkUm91dGVzKTtcblxuICAgICQoJyNzZXNzaW9uLXVzZXInKS5lYWNoKHVzZXIubG9hZFVzZXJzKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKCdzaG93LmJzLm1vZGFsJywgJyNzaG93LXJvdXRlLW1vZGFsJywgcm91dGUuc2hvd1JvdXRlTW9kYWwpO1xuXG4gICAgJChkb2N1bWVudCkub24oJ3Nob3duLmJzLm1vZGFsJywgJyNzaG93LXJvdXRlLW1vZGFsJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIG5hbWUgPSAkKGUucmVsYXRlZFRhcmdldCkuZGF0YSgncm91dGUtbmFtZScpO1xuICAgICAgICBtYXBVdGlscy5hZGRSb3V0ZVRyYWNrVG9NYXAobmFtZSwgJChcIiNsaXZlLXJvdXRlLW1hcFwiKSk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNoYW5nZVwiLCAnI3JvdXRlcycsIHJvdXRlLmNoYW5nZVJvdXRlU2VsZWN0KTtcbn0pO1xuXG5cblxuXG5cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==