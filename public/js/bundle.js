!function(e){var t={};function a(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";a.r(t);const s=2.8;var n={calcWatt:function(e){return s/Math.pow(e,3)},sessionNameToReadable:function(e){return moment(e.slice(0,13)+":"+e.slice(13,15)+":"+e.slice(15)).format("YYYY-MM-DD hh:mm:ss")},getHeartRateColor:function(e){return e<125?"text-success":e<150?"text-primary":e<175?"text-warning":"text-danger"},getUrlParameter:function(e){var t,a,s=decodeURIComponent(window.location.search.substring(1)).split("&");for(a=0;a<s.length;a++)if((t=s[a].split("="))[0]===e)return void 0===t[1]||t[1]},fmtMSS:function(e){var t=new Date(null);return t.setSeconds(e),t.toISOString().substr(11,8)},QueryString:function(e){for(var t={},a=(e.split("?")[1]||"").split("&"),s=0;s<a.length;s++){var n=a[s].split("=");if(void 0===t[n[0]])t[n[0]]=decodeURIComponent(n[1]);else if("string"==typeof t[n[0]]){var o=[t[n[0]],decodeURIComponent(n[1])];t[n[0]]=o}else t[n[0]].push(decodeURIComponent(n[1]))}return t}},o={livePoints:[],liveMap:void 0,liveBounds:void 0};const i=[{featureType:"landscape",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]}];function r(){var e=document.getElementById("live-map");e&&(o.liveMap=new google.maps.Map(e,{zoom:8,maxZoom:16}),o.liveBounds=new google.maps.LatLngBounds,o.liveMap.set("styles",i))}function l(e){return new google.maps.Polyline({path:e,strokeColor:"#FF00AA",strokeOpacity:.7,strokeWeight:4})}var d=function(e,t){e&&$.ajax({type:"GET",url:"/sessions/"+e+".gpx",success:function(e){var a=[],s=new google.maps.Map(t[0],{zoom:16});s.set("styles",i);var n=new google.maps.LatLngBounds;$(e).find("trkpt").each(function(){var e=$(this).attr("lat"),t=$(this).attr("lon"),s=new google.maps.LatLng(e,t);a.push(s),n.extend(s)}),l(a).setMap(s),s.fitBounds(n)}})};var c={cleanMap:function(){r(),o.livePoints=[],l(o.livePoints).setMap(o.liveMap),"function"==typeof o.liveMap.fitBounds&&o.liveMap.fitBounds(o.liveBounds)},initMap:r,styles:i,addRouteTrackToMap:function(e,t){e&&$.ajax({type:"GET",url:"/routes/"+e,success:function(e){var a=[],s=new google.maps.Map(t[0],{zoom:8,maxZoom:16});s.set("styles",i);var n=new google.maps.LatLngBounds;e.gps.forEach(function(e){var t=e.lat,s=e.lon,o=new google.maps.LatLng(t,s);a.push(o),n.extend(o)}),l(a).setMap(s),s.fitBounds(n)}})},addGpxTrackToMap:d,loadGpxMap:function(){var e=$(this).data("name"),t=$(this).find(".card-map-top");d(e,t)},createPolyLine:l};const u=100/4.805*6,p=10;var f={RATION:u,PAGE_SIZE:p,UPDATE_FREQ:1e3,run:!1};var v={addGraph:function(e,t,a,s){for(var o=[],i=[],r=[],l=1,d=1;d<e.length;d++){var c=parseInt(e[d]),p=parseInt(s[l]),f=(c-a)/1e3,v=u/100;o.push(v/f*3.6);var m=n.calcWatt(f/v);i.push(m),r.push(6e4/(p-parseInt(s[l-1]))),a=parseInt(e[d]),c>p&&l++}var h=[],g=[],y=[],b=[],w=[],x=10;for(e.length>1e3&&(x=20);e.length;){var I,S=e.splice(0,x),k=parseInt(S.reduce(function(e,t){return e+t})/S.length);if(w.push(new Date(k).toISOString().substr(new Date(k).toISOString().lastIndexOf("T")+1,8)),t&&(I=t.splice(0,x)).length>0&&g.push(parseInt(I.reduce(function(e,t){return e+t})/I.length)),r&&(I=r.splice(0,x)).length>0&&b.push(Math.round(10*parseFloat(I.reduce(function(e,t){return e+t})/I.length))/10),o){var R=o.splice(0,x),M=i.splice(0,x);R.length>0&&h.push(Math.round(10*parseFloat(R.reduce(function(e,t){return e+t})/R.length))/10),M.length>0&&y.push(Math.round(10*parseFloat(M.reduce(function(e,t){return e+t})/M.length))/10)}}var T=$("#hr-graph"),U={labels:w,datasets:[{label:"Heart rate (bpm)",borderColor:"#dc3545",backgroundColor:"#dc3545",fill:!1,data:g,yAxisID:"y-axis-1"},{label:"Speed (km/t)",borderColor:"#007bff",backgroundColor:"#007bff",fill:!1,data:h,yAxisID:"y-axis-2"},{label:"Watt",borderColor:"#4bc0c0",backgroundColor:"#4bc0c0",fill:!1,data:y,lineTension:0,yAxisID:"y-axis-3"},{label:"Stroke rate (spm)",borderColor:"#9966FF",backgroundColor:"#9966FF",fill:!1,data:b,yAxisID:"y-axis-4"}]};Chart.Line(T,{data:U,options:{responsive:!0,hoverMode:"index",stacked:!1,scales:{yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1",ticks:{suggestedMin:30,min:0,stepSize:5}},{type:"linear",display:!0,position:"right",id:"y-axis-2",ticks:{stepSize:2},gridLines:{drawOnChartArea:!1}},{type:"linear",display:!0,position:"right",id:"y-axis-3",ticks:{stepSize:25},gridLines:{drawOnChartArea:!1}},{type:"linear",display:!0,position:"right",id:"y-axis-4",ticks:{stepSize:2,suggestedMin:10},gridLines:{drawOnChartArea:!1}}]}}})}},m=function(e,t,a){return e+="<tr>",e+='<th scope="row">'+(t+1)+"</th>",e+='<td><a data-toggle="modal" data-route-name="'+a.name+'" data-target="#show-route-modal" href="/routes/'+a.name+'">'+a.name+"</a></td>",e+="<td>"+parseInt(a.meters)+"m</td>",e+="<td>"+a.country+"</td>",e+="<td>",!0!==a.permanent&&(e+='<a class="edit-route" href="#" data-id="'+a.name+'"><i class="material-icons">create</i></a><a class="del-route" href="#" data-id="'+a.name+'"><i aria-hidden="true" title="Delete route" class="material-icons">delete</i></a></td>'),e+="</tr>"};function h(e){$("#load").load("/route",function(){$(this).find("#routes-t").each(function(){y(0),g($("#routes-table").find(".page")[0],e)})})}function g(e,t){var a=$('<ul id="route-page" data-index="'+t+'"></ul>').addClass("pagination pagination-lg");$.get("routes/size",function(s){var n=parseInt(parseInt(s)/p)+1,o=t===n-1?"disabled":"",i=$('<li class="page-item '+(0===t?"disabled":"")+'"></li>').append('<a class="page-link" href="#" data-next="-1" tabindex="-1">Previous</a>'),r=$('<li class="page-item '+o+'"></li>').append('<a class="page-link" data-next="1" href="#">Next</a>');a.append(i);for(var l=0;l<n;l++){var d="";t===l&&(d="active");var c=$('<li class="page-item '+d+'"><a class="page-link" data-index="'+l+'" href="#">'+(l+1)+"</a></li>");a.append(c)}a.append(r),$(e).html(a)})}function y(e){var t=e*p,a=(e+1)*p-1;$.get("/routes/"+t+"/"+a,function(t){var a="",s=0;t.forEach(function(t){a=m(a,s+e*p,t),s++}),$("#routes-table-body").html(a),$("#add-route-modal").on("hidden.bs.modal",function(e){h(0)})})}function b(){var e=$("#routes").find(":selected");c.cleanMap();var t=e.data("name");c.addRouteTrackToMap(t,$("#live-map"))}var w={loadRoutes:function(){var e=this;$.get("/row/routes",function(t){var a="",s="";t.sort(function(e,t){return e.country>t.country?1:t.country>e.country?-1:0});var n='selected="selected"';t.forEach(function(e){e.country!==s&&(a+='<optgroup label="'+e.country+'">',s=e.country),a+="<option "+n+' value="'+e.index+'" data-name="'+e.name+'" data-lat="'+e.gps[0].lat+'" data-lon="'+e.gps[0].lon+'">'+e.name+" ("+e.meters+"m)</option>",n=""}),$(e).html(a),b()})},createRouteRecord:m,loadRoute:h,loadRouteTable:y,createRouteNavPage:g,editRoute:function(e){e.preventDefault();var t=$(this).data("id");$.ajax({url:"/routes/"+t,type:"GET",success:function(e){var t=$("#addRoute");t.find("#name").val(e.name),t.find("#meters").val(e.meters),t.find("#segmentId").val(e.segmentId),t.find("#countries").val(e.country);var a=JSON.stringify(e.gps);t.find("#gps").append(a),$("#add-route-modal").modal("show")}})},showRouteModal:function(e){var t=$(e.relatedTarget).data("route-name"),a=$(this);$.get("/routes/"+t,function(e){var t=e.name;e.segementId&&(t='<a target="_blank" href="https://www.strava.com/segments/'+e.segementId+'">'+t+" </a>"),a.find("#show-route-modal-title").html(t);var s='<li class="list-group-item"><h5 class="card-title">Display Lenght:</h5>'+e.meters+" m</li>";s+='<li class="list-group-item"><h5 class="card-title">Gps Lenght:</h5>'+e.gpsLenght+" m</li>",s+='<li class="list-group-item"><h5 class="card-title">Country:</h5>'+e.country+"</li>",a.find(".card .list-group").html(s)})},changeRouteSelect:b,deleteRoute:function(e){e.preventDefault();var t=$(this).data("id");confirm("Are you sure you want to delete route?")&&$.ajax({url:"/routes/"+t,type:"DELETE",success:function(e){route.loadRoute(0)}})},saveRoute:function(e){e.preventDefault();var t=$("#addRoute"),a={};a.name=t.find("#name").val(),a.meters=t.find("#meters").val(),a.stravaId=t.find("#segmentId").val(),a.country=t.find("#countries").val(),a.gps=t.find("textarea").val(),$.ajax({type:"PUT",contentType:"application/json",dataType:"json",url:"/routes/add",data:JSON.stringify(a),success:function(){$("#add-route-modal").modal("hide")}})},openRoute:function(e){e.preventDefault();var t=parseInt($(this).data("next")),a=parseInt($(this).data("index")),s=parseInt($("#route-page").data("index"));isNaN(t)?isNaN(a)||(s=a):s+=t,g($("#routes-table").find(".page")[0],s),y(s)}};var x={loadUsers:function(){var e=this;$.get("/users",function(t){var a="";t.forEach(function(e){a+='<option value="'+e.id+'">'+e.firstName+" "+e.lastName+"</option>"}),$(e).html(a)})},loadUser:function e(){$("#load").load("/user",function(){$(this).find("#users-body").each(function(){var t=this;$.get("/users/",function(a){for(var s="",n=0;n<a.length;n++){var o=a[n];s+='<tr><td><a href="#" data-id="'+o.id+'">'+(n+1)+"</a></td><td>"+o.firstName+"</td><td>"+o.lastName+"</td>",s+='<td><a class="edit-user" href="#" data-id="'+o.id+'"><i class="material-icons">create</i></a><a class="del-user" href="#" data-id="'+o.id+'"><i aria-hidden="true" title="Delete user" class="material-icons">delete</i></a></td></tr>'}$(t).html(s),$("#addUserModal").on("hidden.bs.modal",function(t){e()})})})})},editUser:function(e){e.preventDefault();var t=$(this).data("id");$.ajax({url:"/users/"+t,type:"GET",success:function(e){var t=$("#addUserForm");t.find("#firstName").val(e.firstName),t.find("#lastName").val(e.lastName),t.find("#userId").val(e.id),$.get("/strava/url",function(t){var a=t.url.replace("%24",e.id);$(".strava-url").attr("href",a)}),$(".strava-connect").removeClass("sr-only"),$("#addUserModal").modal("show")}})},saveUser:function(e){e.preventDefault();var t=$("#addUserForm"),a=t.find("#firstName").val(),s=t.find("#lastName").val(),n=t.find("#userId").val(),o={};o.firstName=a,o.lastName=s,o.id=n,$.ajax({type:"PUT",contentType:"application/json",dataType:"json",url:"/users/add",data:JSON.stringify(o),success:function(){$("#addUserModal").modal("hide")}})},deleteUser:function(e){e.preventDefault();var t=$(this).data("id");confirm("Are you sure you want to delete?")&&$.ajax({url:"/users/"+t,type:"DELETE",success:function(e){user.loadUser()}})}};function I(e){$("#load").load("/history",function(){$(this).find("#history").each(function(){$.get("/session/0/2",function(e){var t="";e.forEach(function(e){t=k(t,e)}),$("#cards").html('<div class="col"><div class="card-deck">'+t+"</div></div>"),$(".gpx-track").each(function(){$(this).trigger("load-map",this)})}),S($(this),e)})})}function S(e,t){var a=t*p,s=(t+1)*p-1;$.get("/session/"+a+"/"+s,function(a){$.get("/users",function(s){var n="",o=0,i=s.reduce(function(e,t){return e[t.id]=t,e},{});a.forEach(function(e){n=R(n,o+t*p,e,i),o++}),$("#histor-table-body").html(n),function(e,t){var a=$('<ul id="history-page" data-index="'+t+'"></ul>').addClass("pagination pagination-lg");$.get("session/size",function(s){var n=parseInt(parseInt(s)/p)+1,o=0===t?"disabled":"",i=t===n-1?"disabled":"",r=$('<li class="page-item '+o+'"></li>').append('<a class="page-link" href="#" data-next="-1" tabindex="-1">Previous</a>'),l=$('<li class="page-item '+i+'"></li>').append('<a class="page-link" data-next="1" href="#">Next</a>');a.append(r);for(var d=0;d<n;d++){var c="";t===d&&(c="active");var u=$('<li class="page-item '+c+'"><a class="page-link" data-index="'+d+'" href="#">'+(d+1)+"</a></li>");a.append(u)}a.append(l),$(e).html(a)})}(e.find(".page"),t)})})}var k=function(e,t){return e+='<div class="card gpx-track" data-name="'+t.name+'"">',e+='<div class="card-body">',e+='<div class="card-map-top "></div>',e+='<h5 class="card-title mt-2"><a class="sessions" data-name="'+t.name+'" href="/session">'+n.sessionNameToReadable(t.name)+"</a></h5>",e+='<p class="card-text">Length: '+parseInt(t.endStats.meters)+"m, Time: "+n.fmtMSS(parseInt(t.endStats.seconds))+"</p>",e+='<a href="/strava/upload/'+t.name+'" class="btn btn-primary strava btn-block">Upload to Strava</a>',e+="</div>",e+="</div>"},R=function(e,t,a,s){var o=s[a.user];return e+="<tr>",e+='<th scope="row">'+(t+1)+"</th>",e+='<td><a class="sessions" data-name="'+a.name+'" href="/?name='+a.name+'#session">'+n.sessionNameToReadable(a.name)+"</a></td>",e+="<td>Length: "+parseInt(a.endStats.meters)+"m</td>",e+=o?"<td>"+o.firstName+" "+o.lastName+"</td>":"<td></td>",e+='<td> <a href="/sessions/'+a.name+'.gpx"><i class="material-icons md-36">file_download</i><a class="strava" href="/strava/upload/'+a.name+'"><i aria-hidden="true" title="Upload to Strava" class="material-icons md-36 strava-icon">cloud_upload</i></a> <a class="del-session" href="#" data-name="'+a.name+'"><i aria-hidden="true" title="Delete session local" class="material-icons md-36">delete</i></a></td>',e+="</tr>"};var M={loadHistoryIndex:function(e){I(e)},loadHistory:I,loadHistoryList:S,openHistory:function(e){e.preventDefault();var t=parseInt($(this).data("next")),a=parseInt($(this).data("index")),s=parseInt($("#history-page").data("index"));isNaN(t)?isNaN(a)||(s=a):s+=t,S($("#history-table"),s)}};function T(e){$("#load").load("/sessions",function(){$(this).find("#routes").each(w.loadRoutes),$(this).find("#session-user").each(x.loadUsers),$(this).find("#history-session").each(function(){$.get("/session/"+e,function(t){var a=A.getHtml("History",t.endStats,!0);$("#routes").val(t.route),$("#session-user").val(t.user),a&&($("#table-content").html(a),$("#laps-body").html(U("History",t.endStats)),c.addGpxTrackToMap(e,$("#live-map"))),v.addGraph(t.raw,t.rawHr,parseInt(t.start),t.stroke)})})})}function U(e,t,a){var s="";if(parseInt(t.totalLaps)>0){var o=1,i=t.laps;a&&(i.reverse(),o=i.length),i.forEach(function(e){s+='<tr><th scope="row">'+o+"</th><td>"+parseInt(e.meters)+"</td><td>"+n.fmtMSS(parseInt(e.seconds))+"</td>",s+="<td>"+Math.round(10*parseFloat(e.watt))/10+"w</td></tr>",a?o--:o++})}return s}var N,C={loadSession:T,clickSession:function(e){e.preventDefault(),T($(this).data("name"))},getLapHtml:U,deleteSession:function(e){e.preventDefault();var t=$(this).data("name");confirm("Are you sure you want to delete session?")&&$.ajax({url:"/session/del/"+t,type:"DELETE",success:function(e){alert("Session deleted"),M.loadHistoryIndex(0,0)}})}};function D(){$("#load").load("/main",function(){$(this).find("#routes").each(w.loadRoutes),$(this).find("#session-user").each(x.loadUsers),$.get("/row/status",function(e){if("ROWING"===e.status){var t=$("#startRow");n.getUrlParameter("test")&&(t=$("#startSimulator")),L(t)}}),n.getUrlParameter("test")&&$("#startRow").attr("id","startSimulator")})}function L(e){$(window).scrollTop($("#main").offset().top),E(!0,"Rowing"),c.cleanMap(),$("#routes").attr("disabled","disabled"),$("#session-user").attr("disabled","disabled"),$("#startSimulator").attr("disabled","disabled"),$(e).attr("disabled","disabled"),$(e).html("Rowing..."),$(e).addClass("d-none"),$("#stopRow").removeClass("d-none")}function E(e,t){f.run=e,$.get("/row",function(e){var a=P(t,e);if(a){$("#table-content").html(a),$("#laps-body").html(C.getLapHtml(t,e,!0));var s=e.gps.lat,n=e.gps.lon,i=new google.maps.LatLng(s,n);if(o.livePoints.push(i),o.liveBounds)o.liveBounds.extend(i),c.createPolyLine(o.livePoints).setMap(o.liveMap),o.liveMap.fitBounds(o.liveBounds)}}).done(function(){f.run&&(N=setTimeout(function(){E(!0,t)},f.UPDATE_FREQ))})}function P(e,t,a){if(0!==parseInt(t.meters)){var s="";return a&&(s+='<div class="row"><div class="col-sm-4">Day</div><div class="col">'+t.start.substr(2,t.start.lastIndexOf("T")-2)+"</div></div>"),s+='<div class="row"><div class="col-sm-4">Start:</div><div class="col">'+t.start.substr(t.start.lastIndexOf("T")+1,8)+"</div></div>",s+='<div class="row"><div class="col-sm-4">Time:</div><div class="col">'+n.fmtMSS(parseInt(t.seconds))+"</div></div>",s+='<div class="row"><div class="col-sm-4">Length:</div><div class="col">'+parseInt(t.meters)+" m ("+parseInt(t.routeLap)+")</div></div>",s+='<div class="row"><div class="col-sm-4">Pace:</div><div class="col">'+Math.round(3.6*parseFloat(t.pace)*10)/10+" km/t</div></div>",s+='<div class="row"><div class="col-sm-4">500m:</div><div class="col">'+n.fmtMSS(parseInt(t.lapPace))+"</div></div>",s+='<div class="row"><div class="col-sm-4">2k:</div><div class="col">'+n.fmtMSS(parseInt(t.towKPace))+"</div></div>",s+='<div class="row"><div class="col-sm-4">Avg.W:</div><div class="col">'+Math.round(10*parseFloat(t.watt))/10+"w</div></div>",s+='<div class="row"><div class="col-sm-4">SR:</div><div class="col">'+Math.round(10*parseFloat(t.stroke))/10+"</div></div>",parseInt(t.hr)>0&&(s+='<div class="row"><div class="col-sm-4">HR:</div><div class="col '+n.getHeartRateColor(parseInt(t.hr))+'">'+parseInt(t.hr)+(parseInt(t.avgHr)>0?"("+parseInt(t.avgHr)+")":"")+"</div></div>"),t.fileName&&(s+='<div class="row"><div class="col">Actions:</div><div class="col"><a href="/sessions/'+t.fileName,s+='"><i class="material-icons">file_download</i><a class="strava" href="/strava/upload/'+t.name,s+='"><i aria-hidden="true" title="Upload to strava" class="material-icons">cloud_upload</i></a>',s+='<a class="sessions" data-name="'+t.name+'" href="/sessions"><i aria-hidden="true" title="Session" class="material-icons">fiber_new</i></a></div></div>'),s+""}}var A={loadMain:D,start:L,get_rowInfo:E,getHtml:P,startRow:function(e){e.preventDefault();var t=$("#routes").val(),a=this;$.get("/row/start",{routes:t},function(){L(a)})},stopRow:function(e){e.preventDefault();var t=$(this);clearTimeout(N),f.run=!1;var a=$("#routes").val(),s=$("#session-user").val();$.get("/row/stop",{routes:a,user:s},function(e){$("#table-content").html(P(0,e,!1));var a=$("#startRow");a.removeAttr("disabled"),a.removeClass("d-none"),a.html("Start row"),t.addClass("d-none"),$("#routes").removeAttr("disabled"),$("#session-user").removeAttr("disabled"),$("#startSimulator").removeAttr("disabled")})},load:function(){switch(window.location.hash){case"#route":w.loadRoute(0);break;case"#user":x.loadUser();break;case"#history":M.loadHistory(0);break;case"#session":C.loadSession(n.QueryString.name);break;default:D()}},uploadToStrava:function(e){e.preventDefault();var t=$(this).attr("href");$.get(t,function(e){console.log(e),alert("Uploaded to strava!")})}};window.QueryString=function(){for(var e={},t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var s=t[a].split("=");if(void 0===e[s[0]])e[s[0]]=decodeURIComponent(s[1]);else if("string"==typeof e[s[0]]){var n=[e[s[0]],decodeURIComponent(s[1])];e[s[0]]=n}else e[s[0]].push(decodeURIComponent(s[1]))}return e}(),$(function(){A.get_rowInfo(!1,""),$(document).on("click",".main",function(e){A.loadMain()}),$(document).on("click","#user",function(e){x.loadUser()}),$(document).on("click","#history-page a",M.openHistory),$(document).on("click","#route-page a",w.openRoute),$(document).on("click",".nav-link",function(e){$("#main-nav").find(".nav-item").each(function(){$(this).removeClass("active")}),$(this).parent().addClass("active")}),$(document).on("click",".sessions",C.clickSession),$(document).on("click","a#history",function(e){M.loadHistoryIndex(0,0)}),$(document).on("click","a#route",function(e){w.loadRoute(0)}),$(document).on("load-map",".gpx-track",c.loadGpxMap),$(document).on("click","button#startRow",A.startRow),$(document).on("click","button#stopRow",A.stopRow),$(document).on("click",".edit-user",x.editUser),$(document).on("click",".edit-route",w.editRoute),$(document).on("click",".strava",A.uploadToStrava),$(document).on("click",".del-session",C.deleteSession),$(document).on("click","#save-route",w.saveRoute),$(document).on("click","#save-user",x.saveUser),$(document).on("click",".del-user",x.deleteUser),$(document).on("click",".del-route",w.deleteRoute),$("#load").each(A.load),$("#routes").each(w.loadRoutes),$("#session-user").each(x.loadUsers),$(document).on("show.bs.modal","#show-route-modal",w.showRouteModal),$(document).on("shown.bs.modal","#show-route-modal",function(e){var t=$(e.relatedTarget).data("route-name");c.addRouteTrackToMap(t,$("#live-route-map"))}),$(document).on("change","#routes",w.changeRouteSelect)})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL21hcC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3V0aWxzL21hcFV0aWxzLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvdXRpbHMvZ2xvYmFscy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3V0aWxzL2dyYXBoVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy9yb3V0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3VzZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy9oaXN0b3J5L2luZGV4LmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvc2Vzc2lvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL2Zyb250L2luZGV4LmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvbWFpbi5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIldBVFRfUkFUSU9OIiwidXRpbHMiLCJjYWxjV2F0dCIsInBhY2UiLCJNYXRoIiwicG93Iiwic2Vzc2lvbk5hbWVUb1JlYWRhYmxlIiwibW9tZW50Iiwic2xpY2UiLCJmb3JtYXQiLCJnZXRIZWFydFJhdGVDb2xvciIsImhyIiwiZ2V0VXJsUGFyYW1ldGVyIiwic1BhcmFtIiwic1BhcmFtZXRlck5hbWUiLCJzVVJMVmFyaWFibGVzIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJzdWJzdHJpbmciLCJzcGxpdCIsImxlbmd0aCIsInVuZGVmaW5lZCIsImZtdE1TUyIsImRhdGUiLCJEYXRlIiwic2V0U2Vjb25kcyIsInRvSVNPU3RyaW5nIiwic3Vic3RyIiwiUXVlcnlTdHJpbmciLCJVUkwiLCJxdWVyeV9zdHJpbmciLCJ2YXJzIiwicGFpciIsImFyciIsInB1c2giLCJtYXAiLCJsaXZlUG9pbnRzIiwibGl2ZU1hcCIsImxpdmVCb3VuZHMiLCJzdHlsZXMiLCJmZWF0dXJlVHlwZSIsInN0eWxlcnMiLCJzYXR1cmF0aW9uIiwibGlnaHRuZXNzIiwidmlzaWJpbGl0eSIsImVsZW1lbnRUeXBlIiwiaHVlIiwiaW5pdE1hcCIsIm1hcERpdiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnb29nbGUiLCJtYXBzIiwiTWFwIiwiem9vbSIsIm1heFpvb20iLCJMYXRMbmdCb3VuZHMiLCJzZXQiLCJjcmVhdGVQb2x5TGluZSIsInBvaW50cyIsIlBvbHlsaW5lIiwicGF0aCIsInN0cm9rZUNvbG9yIiwic3Ryb2tlT3BhY2l0eSIsInN0cm9rZVdlaWdodCIsImFkZEdweFRyYWNrVG9NYXAiLCJlbGVtZW50IiwiJCIsImFqYXgiLCJ0eXBlIiwidXJsIiwic3VjY2VzcyIsInhtbCIsImJvdW5kcyIsImZpbmQiLCJlYWNoIiwibGF0IiwidGhpcyIsImF0dHIiLCJsb24iLCJMYXRMbmciLCJleHRlbmQiLCJzZXRNYXAiLCJmaXRCb3VuZHMiLCJtYXBVdGlscyIsImNsZWFuTWFwIiwiYWRkUm91dGVUcmFja1RvTWFwIiwiZGF0YSIsImdwcyIsImZvckVhY2giLCJwb2ludCIsImxvYWRHcHhNYXAiLCJSQVRJT04iLCJQQUdFX1NJWkUiLCJnbG9iYWxzIiwiVVBEQVRFX0ZSRVEiLCJydW4iLCJncmFwaFV0aWxzIiwiYWRkR3JhcGgiLCJ0aW1lIiwic3RhcnQiLCJzdHJva2VzIiwic3BlZWQiLCJ3YXR0Iiwic3Ryb2tlIiwic3Ryb2tlQ29udGVyIiwidGltZVZhbCIsInBhcnNlSW50Iiwic3Ryb2tlVGltZSIsInNlYyIsImxlbmdodCIsIndhdHRWYWx1ZSIsInNwZWVkTWVyZ2VkIiwiaHJNZXJnZWQiLCJ3YXR0TWVyZ2VkIiwic3Ryb2tlTWVyZ2VkIiwibGFiZWxzTWVyZ2VkIiwibWVyZ2VTaXplIiwiaCIsImEiLCJzcGxpY2UiLCJ0aW1lViIsInJlZHVjZSIsImIiLCJsYXN0SW5kZXhPZiIsInJvdW5kIiwicGFyc2VGbG9hdCIsInciLCJjdHgiLCJsaW5lQ2hhcnREYXRhIiwibGFiZWxzIiwiZGF0YXNldHMiLCJsYWJlbCIsImJvcmRlckNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwiZmlsbCIsInlBeGlzSUQiLCJsaW5lVGVuc2lvbiIsIkNoYXJ0IiwiTGluZSIsIm9wdGlvbnMiLCJyZXNwb25zaXZlIiwiaG92ZXJNb2RlIiwic3RhY2tlZCIsInNjYWxlcyIsInlBeGVzIiwiZGlzcGxheSIsInBvc2l0aW9uIiwiaWQiLCJ0aWNrcyIsInN1Z2dlc3RlZE1pbiIsIm1pbiIsInN0ZXBTaXplIiwiZ3JpZExpbmVzIiwiZHJhd09uQ2hhcnRBcmVhIiwiY3JlYXRlUm91dGVSZWNvcmQiLCJodG1sVGFibGUiLCJpbmRleCIsInJvdXRlIiwibWV0ZXJzIiwiY291bnRyeSIsInBlcm1hbmVudCIsImxvYWRSb3V0ZSIsIm1haW5JbmRleCIsImxvYWQiLCJsb2FkUm91dGVUYWJsZSIsImNyZWF0ZVJvdXRlTmF2UGFnZSIsInBhZ2UiLCJodG1sRWxlbWVudCIsImFkZENsYXNzIiwic2l6ZSIsIm5leHREaXNhYmxlZCIsInByZXYiLCJhcHBlbmQiLCJuZXh0IiwiYWN0aXZlIiwiaXRlbSIsImh0bWwiLCJzdG9wIiwib24iLCJlIiwiY2hhbmdlUm91dGVTZWxlY3QiLCJzZWxlY3RlZCIsInNyY19yb3V0ZSIsImxvYWRSb3V0ZXMiLCJ0aGF0IiwiZ3JvdXAiLCJzb3J0IiwiZWRpdFJvdXRlIiwicHJldmVudERlZmF1bHQiLCJyZXN1bHQiLCJmb3JtIiwidmFsIiwic2VnbWVudElkIiwiZ3BzQ3ZzIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1vZGFsIiwic2hvd1JvdXRlTW9kYWwiLCJyZWxhdGVkVGFyZ2V0IiwidGl0bGUiLCJzZWdlbWVudElkIiwiZ3BzTGVuZ2h0IiwiZGVsZXRlUm91dGUiLCJjb25maXJtIiwic2F2ZVJvdXRlIiwiZXZlbnQiLCJzdHJhdmFJZCIsImNvbnRlbnRUeXBlIiwiZGF0YVR5cGUiLCJvcGVuUm91dGUiLCJpc05hTiIsInNyY191c2VyIiwibG9hZFVzZXJzIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJsb2FkVXNlciIsInVzZXIiLCJlZGl0VXNlciIsInJlcGxhY2UiLCJyZW1vdmVDbGFzcyIsInNhdmVVc2VyIiwiZGVsZXRlVXNlciIsImxvYWRIaXN0b3J5IiwiaHRtbENhcmRzIiwic2Vzc2lvbiIsImNyZWF0ZUNhcmQiLCJ0cmlnZ2VyIiwibG9hZEhpc3RvcnlMaXN0IiwidXNlcnMiLCJ1c2VyTWFwIiwib2JqIiwiY3JlYXRlTGFwVGFibGVSZWNvcmQiLCJwcmV2RGlzYWJsZWQiLCJjcmVhdGVIaXN0b3J5TmF2UGFnZSIsImVuZFN0YXRzIiwic2Vjb25kcyIsInNyY19oaXN0b3J5IiwibG9hZEhpc3RvcnlJbmRleCIsIm9wZW5IaXN0b3J5IiwibG9hZFNlc3Npb24iLCJmcm9udCIsImdldEh0bWwiLCJnZXRMYXBIdG1sIiwicmF3IiwicmF3SHIiLCJqc29uIiwicmV2ZXJzZSIsInRvdGFsTGFwcyIsImxhcE51bSIsImxhcHMiLCJ0aW1lT3V0Iiwic3JjX3Nlc3Npb24iLCJjbGlja1Nlc3Npb24iLCJkZWxldGVTZXNzaW9uIiwiYWxlcnQiLCJsb2FkTWFpbiIsInN0YXR1cyIsInN0YXJ0QnV0dG9uIiwiZnJvbnRfc3RhcnQiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJnZXRfcm93SW5mbyIsImNvbnRpbnVlcyIsImRvbmUiLCJzZXRUaW1lb3V0IiwiZGF5Iiwicm91dGVMYXAiLCJsYXBQYWNlIiwidG93S1BhY2UiLCJhdmdIciIsImZpbGVOYW1lIiwic3RhcnRSb3ciLCJyb3V0ZXMiLCJzdG9wUm93IiwiY2xlYXJUaW1lb3V0IiwicmVtb3ZlQXR0ciIsImhhc2giLCJ1cGxvYWRUb1N0cmF2YSIsImhyZWYiLCJjb25zb2xlIiwibG9nIiwicGFyZW50Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJB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QTBDaUMsRUFBSVMsVUFFOUMxSixFQUFBbEIsVUFBQWtJLEdBQUEsb0JBQXlDaUMsRUFBSVUsWUFFN0MzSixFQUFBbEIsVUFBQWtJLEdBQUEscUJBQTBDSSxFQUFLb0IsYUFFL0N4SSxFQUFBLFNBQUFRLEtBQW9Cc0ssRUFBSzdFLE1BRXpCakcsRUFBQSxXQUFBUSxLQUFzQjRHLEVBQUtDLFlBRTNCckgsRUFBQSxpQkFBQVEsS0FBNEJ5SSxFQUFJQyxXQUVoQ2xKLEVBQUFsQixVQUFBa0ksR0FBQSxvQ0FBeURJLEVBQUtlLGdCQUU5RG5JLEVBQUFsQixVQUFBa0ksR0FBQSw4Q0FBQUMsR0FDQSxJQUFBL00sRUFBQThGLEVBQUFpSCxFQUFBbUIsZUFBQWhILEtBQUEsY0FDUUgsRUFBUUUsbUJBQUFqSCxFQUFBOEYsRUFBQSxzQkFHaEJBLEVBQUFsQixVQUFBa0ksR0FBQSxtQkFBd0NJLEVBQUtGIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImNvbnN0IFdBVFRfUkFUSU9OID0gMi44MDtcblxuZnVuY3Rpb24gY2FsY1dhdHQocGFjZSkge1xuICAgIHJldHVybiBXQVRUX1JBVElPTiAvIE1hdGgucG93KHBhY2UsIDMpO1xufVxuXG5mdW5jdGlvbiBzZXNzaW9uTmFtZVRvUmVhZGFibGUobmFtZSkge1xuICAgIHJldHVybiBtb21lbnQobmFtZS5zbGljZSgwLCAxMykgKyAnOicgKyBuYW1lLnNsaWNlKDEzLDE1KSArICc6JyArIG5hbWUuc2xpY2UoMTUpKS5mb3JtYXQoXCJZWVlZLU1NLUREIGhoOm1tOnNzXCIpO1xufVxuXG5mdW5jdGlvbiBnZXRIZWFydFJhdGVDb2xvcihocikge1xuICAgIGlmIChociA8IDEyNSkge1xuICAgICAgICByZXR1cm4gJ3RleHQtc3VjY2VzcydcbiAgICB9IGVsc2UgaWYgKGhyIDwgMTUwKSB7XG4gICAgICAgIHJldHVybiAndGV4dC1wcmltYXJ5J1xuICAgIH0gZWxzZSBpZiAoaHIgPCAxNzUpIHtcbiAgICAgICAgcmV0dXJuICd0ZXh0LXdhcm5pbmcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAndGV4dC1kYW5nZXInO1xuICAgIH1cbn1cblxudmFyIGdldFVybFBhcmFtZXRlciA9IGZ1bmN0aW9uIGdldFVybFBhcmFtZXRlcihzUGFyYW0pIHtcbiAgICB2YXIgc1BhZ2VVUkwgPSBkZWNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSkpLFxuICAgICAgICBzVVJMVmFyaWFibGVzID0gc1BhZ2VVUkwuc3BsaXQoJyYnKSxcbiAgICAgICAgc1BhcmFtZXRlck5hbWUsXG4gICAgICAgIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgc1VSTFZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzUGFyYW1ldGVyTmFtZSA9IHNVUkxWYXJpYWJsZXNbaV0uc3BsaXQoJz0nKTtcblxuICAgICAgICBpZiAoc1BhcmFtZXRlck5hbWVbMF0gPT09IHNQYXJhbSkge1xuICAgICAgICAgICAgcmV0dXJuIHNQYXJhbWV0ZXJOYW1lWzFdID09PSB1bmRlZmluZWQgPyB0cnVlIDogc1BhcmFtZXRlck5hbWVbMV07XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5mdW5jdGlvbiBmbXRNU1Mocykge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUobnVsbCk7XG4gICAgZGF0ZS5zZXRTZWNvbmRzKHMpOyAvLyBzcGVjaWZ5IHZhbHVlIGZvciBTRUNPTkRTIGhlcmVcbiAgICByZXR1cm4gZGF0ZS50b0lTT1N0cmluZygpLnN1YnN0cigxMSwgOCk7XG59XG5cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgZXZlcnkgZ2V0IHBhcmFtZXRlciBmcm9tIGEgVVJMIChmaXJzdCBhcmd1bWVudCkgYXMgYSBwcm9wZXJ0eVxuICogXG4gKiBAcGFyYW0gVVJMIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIFF1ZXJ5U3RyaW5nKFVSTCkge1xuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgYW5vbnltb3VzLCBpcyBleGVjdXRlZCBpbW1lZGlhdGVseSBhbmQgXG4gICAgLy8gdGhlIHJldHVybiB2YWx1ZSBpcyBhc3NpZ25lZCB0byBRdWVyeVN0cmluZyFcbiAgICB2YXIgcXVlcnlfc3RyaW5nID0ge307XG4gICAgdmFyIHVzZWZ1bFBhcmFtID0gVVJMLnNwbGl0KFwiP1wiKVsxXSB8fCBcIlwiO1xuICAgIHZhciBxdWVyeSA9IHVzZWZ1bFBhcmFtIHx8IFwiXCI7XG4gICAgdmFyIHZhcnMgPSBxdWVyeS5zcGxpdChcIiZcIik7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBhaXIgPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIGZpcnN0IGVudHJ5IHdpdGggdGhpcyBuYW1lXG4gICAgICAgIGlmICh0eXBlb2YgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICAgICAgICAvLyBJZiBzZWNvbmQgZW50cnkgd2l0aCB0aGlzIG5hbWVcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB2YXIgYXJyID0gW3F1ZXJ5X3N0cmluZ1twYWlyWzBdXSwgZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pXTtcbiAgICAgICAgICAgIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9IGFycjtcbiAgICAgICAgICAgIC8vIElmIHRoaXJkIG9yIGxhdGVyIGVudHJ5IHdpdGggdGhpcyBuYW1lXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0ucHVzaChkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHF1ZXJ5X3N0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBjYWxjV2F0dCwgc2Vzc2lvbk5hbWVUb1JlYWRhYmxlLCBnZXRIZWFydFJhdGVDb2xvciwgZ2V0VXJsUGFyYW1ldGVyLCBmbXRNU1MsIFxuICAgIFF1ZXJ5U3RyaW5nIH1cblxuIiwidmFyIGxpdmVQb2ludHMgPSBbXTtcbnZhciBsaXZlTWFwO1xudmFyIGxpdmVCb3VuZHM7XG5cblxuZXhwb3J0IGRlZmF1bHQgeyBsaXZlUG9pbnRzLCBsaXZlTWFwLCBsaXZlQm91bmRzIH0iLCJpbXBvcnQgbWFwIGZyb20gJy4uL21hcC9pbmRleCdcblxuY29uc3Qgc3R5bGVzID0gW3tcbiAgICBcImZlYXR1cmVUeXBlXCI6IFwibGFuZHNjYXBlXCIsIFwic3R5bGVyc1wiOiBbeyBcInNhdHVyYXRpb25cIjogLTEwMCB9LCB7IFwibGlnaHRuZXNzXCI6IDY1IH0sXG4gICAgICAgIHsgXCJ2aXNpYmlsaXR5XCI6IFwib25cIiB9XVxufSwge1xuICAgIFwiZmVhdHVyZVR5cGVcIjogXCJwb2lcIiwgXCJzdHlsZXJzXCI6IFt7IFwic2F0dXJhdGlvblwiOiAtMTAwIH0sIHsgXCJsaWdodG5lc3NcIjogNTEgfSxcbiAgICAgICAgeyBcInZpc2liaWxpdHlcIjogXCJzaW1wbGlmaWVkXCIgfV1cbn0sIHtcbiAgICBcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5oaWdod2F5XCIsIFwic3R5bGVyc1wiOiBbeyBcInNhdHVyYXRpb25cIjogLTEwMCB9LFxuICAgICAgICB7IFwidmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIiB9XVxufSwge1xuICAgIFwiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmFydGVyaWFsXCIsIFwic3R5bGVyc1wiOiBbeyBcInNhdHVyYXRpb25cIjogLTEwMCB9LFxuICAgICAgICB7IFwibGlnaHRuZXNzXCI6IDMwIH0sIHsgXCJ2aXNpYmlsaXR5XCI6IFwib25cIiB9XVxufSwge1xuICAgIFwiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmxvY2FsXCIsIFwic3R5bGVyc1wiOiBbeyBcInNhdHVyYXRpb25cIjogLTEwMCB9LFxuICAgICAgICB7IFwibGlnaHRuZXNzXCI6IDQwIH0sIHsgXCJ2aXNpYmlsaXR5XCI6IFwib25cIiB9XVxufSwge1xuICAgIFwiZmVhdHVyZVR5cGVcIjogXCJ0cmFuc2l0XCIsIFwic3R5bGVyc1wiOiBbeyBcInNhdHVyYXRpb25cIjogLTEwMCB9LFxuICAgICAgICB7IFwidmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIiB9XVxufSwgeyBcImZlYXR1cmVUeXBlXCI6IFwiYWRtaW5pc3RyYXRpdmUucHJvdmluY2VcIiwgXCJzdHlsZXJzXCI6IFt7IFwidmlzaWJpbGl0eVwiOiBcIm9mZlwiIH1dIH0sXG4gICAgeyBcImZlYXR1cmVUeXBlXCI6IFwid2F0ZXJcIiwgXCJlbGVtZW50VHlwZVwiOiBcImxhYmVsc1wiLCBcInN0eWxlcnNcIjogW3sgXCJ2aXNpYmlsaXR5XCI6IFwib25cIiB9LCB7IFwibGlnaHRuZXNzXCI6IC0yNSB9LCB7IFwic2F0dXJhdGlvblwiOiAtMTAwIH1dIH0sXG4gICAgeyBcImZlYXR1cmVUeXBlXCI6IFwid2F0ZXJcIiwgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5XCIsIFwic3R5bGVyc1wiOiBbeyBcImh1ZVwiOiBcIiNmZmZmMDBcIiB9LCB7IFwibGlnaHRuZXNzXCI6IC0yNSB9LCB7IFwic2F0dXJhdGlvblwiOiAtOTcgfV0gfV07XG5cbmZ1bmN0aW9uIGNsZWFuTWFwKCkge1xuICAgIGluaXRNYXAoKTtcbiAgICBtYXAubGl2ZVBvaW50cyA9IFtdO1xuICAgIHZhciBwb2x5ID0gY3JlYXRlUG9seUxpbmUobWFwLmxpdmVQb2ludHMpO1xuICAgIHBvbHkuc2V0TWFwKG1hcC5saXZlTWFwKTtcblxuICAgIC8vIGZpdCBib3VuZHMgdG8gdHJhY2tcbiAgICBpZiAodHlwZW9mIG1hcC5saXZlTWFwLmZpdEJvdW5kcyA9PT0gJ2Z1bmN0aW9uJyApIHtcbiAgICAgICAgbWFwLmxpdmVNYXAuZml0Qm91bmRzKG1hcC5saXZlQm91bmRzKTtcbiAgICB9XG4gICBcbn1cblxuZnVuY3Rpb24gaW5pdE1hcCgpIHtcbiAgICB2YXIgbWFwRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpdmUtbWFwJyk7XG4gICAgaWYgKG1hcERpdikge1xuICAgICAgICBtYXAubGl2ZU1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAobWFwRGl2LCB7XG4gICAgICAgICAgICB6b29tOiA4LFxuICAgICAgICAgICAgbWF4Wm9vbTogMTZcbiAgICAgICAgfSk7XG4gICAgICAgIG1hcC5saXZlQm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpO1xuICAgICAgICBtYXAubGl2ZU1hcC5zZXQoJ3N0eWxlcycsIHN0eWxlcyk7XG4gICAgfVxufVxuXG4vL1RPRE86IENoYW5nZSBjb2xvciBieSBzcGVlZCBvciBoci5cbmZ1bmN0aW9uIGNyZWF0ZVBvbHlMaW5lKHBvaW50cykge1xuICAgIHJldHVybiBuZXcgZ29vZ2xlLm1hcHMuUG9seWxpbmUoe1xuICAgICAgICBwYXRoOiBwb2ludHMsXG4gICAgICAgIHN0cm9rZUNvbG9yOiBcIiNGRjAwQUFcIixcbiAgICAgICAgc3Ryb2tlT3BhY2l0eTogLjcsXG4gICAgICAgIHN0cm9rZVdlaWdodDogNFxuICAgIH0pO1xufVxuXG52YXIgYWRkUm91dGVUcmFja1RvTWFwID0gZnVuY3Rpb24gKG5hbWUsIGVsZW1lbnQpIHtcbiAgICBpZiAobmFtZSkge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcbiAgICAgICAgICAgIHVybDogJy9yb3V0ZXMvJyArIG5hbWUsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChlbGVtZW50WzBdLCB7XG4gICAgICAgICAgICAgICAgICAgIHpvb206IDgsXG4gICAgICAgICAgICAgICAgICAgIG1heFpvb206IDE2XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBtYXAuc2V0KCdzdHlsZXMnLCBzdHlsZXMpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMoKTtcblxuICAgICAgICAgICAgICAgIGRhdGEuZ3BzLmZvckVhY2goZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXQgPSBwb2ludC5sYXQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb24gPSBwb2ludC5sb247XG4gICAgICAgICAgICAgICAgICAgIHZhciBwID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhsYXQsIGxvbik7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHApO1xuICAgICAgICAgICAgICAgICAgICBib3VuZHMuZXh0ZW5kKHApO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBvbHkgPSBjcmVhdGVQb2x5TGluZShwb2ludHMpO1xuXG4gICAgICAgICAgICAgICAgcG9seS5zZXRNYXAobWFwKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpdCBib3VuZHMgdG8gdHJhY2tcbiAgICAgICAgICAgICAgICBtYXAuZml0Qm91bmRzKGJvdW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbnZhciBhZGRHcHhUcmFja1RvTWFwID0gZnVuY3Rpb24gKG5hbWUsIGVsZW1lbnQpIHtcbiAgICBpZiAobmFtZSkge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcbiAgICAgICAgICAgIHVybDogJy9zZXNzaW9ucy8nICsgbmFtZSArICcuZ3B4JyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICh4bWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZWxlbWVudFswXSwge1xuICAgICAgICAgICAgICAgICAgICB6b29tOiAxNlxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbWFwLnNldCgnc3R5bGVzJywgc3R5bGVzKTtcblxuICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKCk7XG5cbiAgICAgICAgICAgICAgICAkKHhtbCkuZmluZChcInRya3B0XCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGF0ID0gJCh0aGlzKS5hdHRyKFwibGF0XCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG9uID0gJCh0aGlzKS5hdHRyKFwibG9uXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobGF0LCBsb24pO1xuICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChwKTtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLmV4dGVuZChwKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBwb2x5ID0gY3JlYXRlUG9seUxpbmUocG9pbnRzKTtcblxuICAgICAgICAgICAgICAgIHBvbHkuc2V0TWFwKG1hcCk7XG5cbiAgICAgICAgICAgICAgICAvLyBmaXQgYm91bmRzIHRvIHRyYWNrXG4gICAgICAgICAgICAgICAgbWFwLmZpdEJvdW5kcyhib3VuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBsb2FkR3B4TWFwKCkge1xuICAgIHZhciBuYW1lID0gJCh0aGlzKS5kYXRhKCduYW1lJyk7XG4gICAgdmFyIGVsZW1lbnQgPSAkKHRoaXMpLmZpbmQoJy5jYXJkLW1hcC10b3AnKTtcbiAgICBhZGRHcHhUcmFja1RvTWFwKG5hbWUsIGVsZW1lbnQpO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IHsgY2xlYW5NYXAsIGluaXRNYXAsIHN0eWxlcywgYWRkUm91dGVUcmFja1RvTWFwLCBhZGRHcHhUcmFja1RvTWFwLCBsb2FkR3B4TWFwLFxuICAgIGNyZWF0ZVBvbHlMaW5lIH0iLCJleHBvcnQgY29uc3QgUkFUSU9OID0gKDEwMCAvIDQuODA1KSAqIDY7XG5leHBvcnQgY29uc3QgUEFHRV9TSVpFID0gMTA7XG5leHBvcnQgY29uc3QgVVBEQVRFX0ZSRVEgPSAxMDAwO1xuZXhwb3J0IHZhciBydW4gPSBmYWxzZTtcblxuXG5leHBvcnQgZGVmYXVsdCB7IFJBVElPTiwgUEFHRV9TSVpFLCBVUERBVEVfRlJFUSwgcnVuIH0iLCJpbXBvcnQgeyBVUERBVEVfRlJFUSwgUEFHRV9TSVpFLCBSQVRJT04sIHJ1biB9IGZyb20gJy4uL3V0aWxzL2dsb2JhbHMnO1xuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzL3V0aWxzJztcblxuZnVuY3Rpb24gYWRkR3JhcGgodGltZSwgaHIsIHN0YXJ0LCBzdHJva2VzKSB7XG4gICAgdmFyIHNwZWVkID0gW107XG4gICAgdmFyIHdhdHQgPSBbXTtcbiAgICB2YXIgc3Ryb2tlID0gW107XG4gICAgdmFyIHN0cm9rZUNvbnRlciA9IDE7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aW1lLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0aW1lVmFsID0gcGFyc2VJbnQodGltZVtpXSk7XG4gICAgICAgIHZhciBzdHJva2VUaW1lID0gcGFyc2VJbnQoc3Ryb2tlc1tzdHJva2VDb250ZXJdKTtcbiAgICAgICAgdmFyIHNlYyA9ICgodGltZVZhbCAtIHN0YXJ0KSAvIDEwMDApO1xuICAgICAgICB2YXIgbGVuZ2h0ID0gKFJBVElPTiAvIDEwMCk7XG4gICAgICAgIHNwZWVkLnB1c2goKChsZW5naHQgLyBzZWMpKSAqIDMuNik7XG4gICAgICAgIHZhciB3YXR0VmFsdWUgPSB1dGlscy5jYWxjV2F0dChzZWMgLyBsZW5naHQpO1xuICAgICAgICB3YXR0LnB1c2god2F0dFZhbHVlKTtcbiAgICAgICAgc3Ryb2tlLnB1c2goMTAwMCo2MCAvIChzdHJva2VUaW1lIC0gcGFyc2VJbnQoc3Ryb2tlc1tzdHJva2VDb250ZXItMV0pKSk7XG4gICAgICAgIHN0YXJ0ID0gcGFyc2VJbnQodGltZVtpXSk7XG4gICAgICAgIGlmICh0aW1lVmFsID4gc3Ryb2tlVGltZSkge1xuICAgICAgICAgICAgc3Ryb2tlQ29udGVyKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvL1JlbW92ZSBldmVyIHNlY29uZCBlbGVtZW50XG4gICAgdmFyIHNwZWVkTWVyZ2VkID0gW107XG4gICAgdmFyIGhyTWVyZ2VkID0gW107XG4gICAgdmFyIHdhdHRNZXJnZWQgPSBbXTtcbiAgICB2YXIgc3Ryb2tlTWVyZ2VkID0gW107XG4gICAgdmFyIGxhYmVsc01lcmdlZCA9IFtdO1xuICAgIHZhciBtZXJnZVNpemUgPSAxMDtcbiAgICBpZiAodGltZS5sZW5ndGggPiAxMDAwKSB7XG4gICAgICAgIG1lcmdlU2l6ZSA9IDIwO1xuICAgIH1cblxuICAgIHdoaWxlICh0aW1lLmxlbmd0aCkge1xuICAgICAgICB2YXIgYSA9IHRpbWUuc3BsaWNlKDAsIG1lcmdlU2l6ZSk7XG4gICAgICAgIHZhciB0aW1lViA9IHBhcnNlSW50KGEucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICsgYjsgfSkgLyBhLmxlbmd0aCk7XG4gICAgICAgIGxhYmVsc01lcmdlZC5wdXNoKG5ldyBEYXRlKHRpbWVWKS50b0lTT1N0cmluZygpLnN1YnN0cihuZXcgRGF0ZSh0aW1lVikudG9JU09TdHJpbmcoKS5sYXN0SW5kZXhPZignVCcpICsgMSwgOCkpO1xuICAgICAgICBpZiAoaHIpIHtcbiAgICAgICAgICAgIHZhciBoID0gaHIuc3BsaWNlKDAsIG1lcmdlU2l6ZSk7XG4gICAgICAgICAgICBpZiAoaC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaHJNZXJnZWQucHVzaChwYXJzZUludChoLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSArIGI7IH0pIC8gaC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICAgICAgICB2YXIgaCA9IHN0cm9rZS5zcGxpY2UoMCwgbWVyZ2VTaXplKTtcbiAgICAgICAgICAgIGlmIChoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzdHJva2VNZXJnZWQucHVzaChNYXRoLnJvdW5kKHBhcnNlRmxvYXQoaC5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKyBiOyB9KSAvIGgubGVuZ3RoKSAqIDEwKSAvIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3BlZWQpIHtcbiAgICAgICAgICAgIHZhciBzID0gc3BlZWQuc3BsaWNlKDAsIG1lcmdlU2l6ZSk7XG4gICAgICAgICAgICB2YXIgdyA9IHdhdHQuc3BsaWNlKDAsIG1lcmdlU2l6ZSk7XG4gICAgICAgICAgICBpZiAocy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgc3BlZWRNZXJnZWQucHVzaChNYXRoLnJvdW5kKHBhcnNlRmxvYXQocy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKyBiOyB9KSAvIHMubGVuZ3RoKSAqIDEwKSAvIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh3Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB3YXR0TWVyZ2VkLnB1c2goTWF0aC5yb3VuZChwYXJzZUZsb2F0KHcucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICsgYjsgfSkgLyB3Lmxlbmd0aCkgKiAxMCkgLyAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgY3R4ID0gJCgnI2hyLWdyYXBoJyk7XG4gICAgdmFyIGxpbmVDaGFydERhdGEgPSB7XG4gICAgICAgIGxhYmVsczogbGFiZWxzTWVyZ2VkLFxuICAgICAgICBkYXRhc2V0czogW3tcbiAgICAgICAgICAgIGxhYmVsOiAnSGVhcnQgcmF0ZSAoYnBtKScsXG4gICAgICAgICAgICBib3JkZXJDb2xvcjogJyNkYzM1NDUnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2RjMzU0NScsXG4gICAgICAgICAgICBmaWxsOiBmYWxzZSxcbiAgICAgICAgICAgIGRhdGE6IGhyTWVyZ2VkLFxuICAgICAgICAgICAgLy8gY3ViaWNJbnRlcnBvbGF0aW9uTW9kZTogJ21vbm90b25lJyxcbiAgICAgICAgICAgIHlBeGlzSUQ6ICd5LWF4aXMtMScsXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGxhYmVsOiAnU3BlZWQgKGttL3QpJyxcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzAwN2JmZicsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDA3YmZmJyxcbiAgICAgICAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgICAgICAgZGF0YTogc3BlZWRNZXJnZWQsXG4gICAgICAgICAgICAvL2N1YmljSW50ZXJwb2xhdGlvbk1vZGU6ICdtb25vdG9uZScsXG4gICAgICAgICAgICB5QXhpc0lEOiAneS1heGlzLTInXG4gICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdXYXR0JyxcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyM0YmMwYzAnLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM0YmMwYzAnLFxuICAgICAgICAgICAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRhdGE6IHdhdHRNZXJnZWQsXG4gICAgICAgICAgICAgICAgbGluZVRlbnNpb246IDAsXG4gICAgICAgICAgICAgICAgLy9jdWJpY0ludGVycG9sYXRpb25Nb2RlOiAnbW9ub3RvbmUnLFxuICAgICAgICAgICAgICAgIHlBeGlzSUQ6ICd5LWF4aXMtMydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdTdHJva2UgcmF0ZSAoc3BtKScsXG4gICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjOTk2NkZGJyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjOTk2NkZGJyxcbiAgICAgICAgICAgICAgICBmaWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkYXRhOiBzdHJva2VNZXJnZWQsXG4gICAgICAgICAgICAgICAgeUF4aXNJRDogJ3ktYXhpcy00J1xuICAgICAgICAgICAgfV1cbiAgICB9O1xuICAgIHZhciBteUxpbmVDaGFydCA9IENoYXJ0LkxpbmUoY3R4LCB7XG4gICAgICAgIGRhdGE6IGxpbmVDaGFydERhdGEsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsXG4gICAgICAgICAgICBob3Zlck1vZGU6ICdpbmRleCcsXG4gICAgICAgICAgICBzdGFja2VkOiBmYWxzZSxcbiAgICAgICAgICAgIHNjYWxlczoge1xuICAgICAgICAgICAgICAgIHlBeGVzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZWFyJywgLy8gb25seSBsaW5lYXIgYnV0IGFsbG93IHNjYWxlIHR5cGUgcmVnaXN0cmF0aW9uLiBUaGlzIGFsbG93cyBleHRlbnNpb25zIHRvIGV4aXN0IHNvbGVseSBmb3IgbG9nIHNjYWxlIGZvciBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2xlZnQnLFxuICAgICAgICAgICAgICAgICAgICBpZDogJ3ktYXhpcy0xJyxcbiAgICAgICAgICAgICAgICAgICAgdGlja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RlZE1pbjogMzAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwU2l6ZTogNVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZWFyJywgLy8gb25seSBsaW5lYXIgYnV0IGFsbG93IHNjYWxlIHR5cGUgcmVnaXN0cmF0aW9uLiBUaGlzIGFsbG93cyBleHRlbnNpb25zIHRvIGV4aXN0IHNvbGVseSBmb3IgbG9nIHNjYWxlIGZvciBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICd5LWF4aXMtMicsXG4gICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwU2l6ZTogMlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBncmlkIGxpbmUgc2V0dGluZ3NcbiAgICAgICAgICAgICAgICAgICAgZ3JpZExpbmVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcmF3T25DaGFydEFyZWE6IGZhbHNlIC8vIG9ubHkgd2FudCB0aGUgZ3JpZCBsaW5lcyBmb3Igb25lIGF4aXMgdG8gc2hvdyB1cFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcicsIC8vIG9ubHkgbGluZWFyIGJ1dCBhbGxvdyBzY2FsZSB0eXBlIHJlZ2lzdHJhdGlvbi4gVGhpcyBhbGxvd3MgZXh0ZW5zaW9ucyB0byBleGlzdCBzb2xlbHkgZm9yIGxvZyBzY2FsZSBmb3IgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAneS1heGlzLTMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGlja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwU2l6ZTogMjVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBncmlkIGxpbmUgc2V0dGluZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRMaW5lczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdPbkNoYXJ0QXJlYTogZmFsc2UgLy8gb25seSB3YW50IHRoZSBncmlkIGxpbmVzIGZvciBvbmUgYXhpcyB0byBzaG93IHVwXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lYXInLCAvLyBvbmx5IGxpbmVhciBidXQgYWxsb3cgc2NhbGUgdHlwZSByZWdpc3RyYXRpb24uIFRoaXMgYWxsb3dzIGV4dGVuc2lvbnMgdG8gZXhpc3Qgc29sZWx5IGZvciBsb2cgc2NhbGUgZm9yIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyaWdodCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3ktYXhpcy00JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcFNpemU6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGVkTWluOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBncmlkIGxpbmUgc2V0dGluZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRMaW5lczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdPbkNoYXJ0QXJlYTogZmFsc2UgLy8gb25seSB3YW50IHRoZSBncmlkIGxpbmVzIGZvciBvbmUgYXhpcyB0byBzaG93IHVwXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBhZGRHcmFwaCB9XG4iLCJpbXBvcnQgbWFwVXRpbHMgZnJvbSAnLi4vdXRpbHMvbWFwVXRpbHMnXG5pbXBvcnQgbWFwIGZyb20gJy4uL21hcC9pbmRleCdcbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy91dGlscyc7XG5pbXBvcnQgZ3JhcGhVdGlscyBmcm9tICcuLi91dGlscy9ncmFwaFV0aWxzJztcbmltcG9ydCB7IFVQREFURV9GUkVRLCBQQUdFX1NJWkUsIFJBVElPTiwgcnVuIH0gZnJvbSAnLi4vdXRpbHMvZ2xvYmFscyc7XG5cbi8qKiBBbGwgbG9hZCBmdW5jdGlvbnMgKi9cbnZhciBsb2FkUm91dGVzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAkLmdldChcIi9yb3cvcm91dGVzXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBodG1sID0gJyc7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBncm91cCA9ICcnO1xuICAgICAgICBkYXRhLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIChhLmNvdW50cnkgPiBiLmNvdW50cnkpID8gMSA6ICgoYi5jb3VudHJ5ID4gYS5jb3VudHJ5KSA/IC0xIDogMCk7IH0pO1xuXG4gICAgICAgIHZhciBzZWxlY3RlZCA9ICdzZWxlY3RlZD1cInNlbGVjdGVkXCInO1xuICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUuY291bnRyeSAhPT0gZ3JvdXApIHtcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8b3B0Z3JvdXAgbGFiZWw9XCInICsgdmFsdWUuY291bnRyeSArICdcIj4nO1xuICAgICAgICAgICAgICAgIGdyb3VwID0gdmFsdWUuY291bnRyeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh0bWwgKz0gJzxvcHRpb24gJyArIHNlbGVjdGVkICsgJyB2YWx1ZT1cIicgKyB2YWx1ZS5pbmRleCArICdcIiBkYXRhLW5hbWU9XCInICsgdmFsdWUubmFtZSArICdcIiBkYXRhLWxhdD1cIicgK1xuICAgICAgICAgICAgICAgIHZhbHVlLmdwc1swXS5sYXQgKyAnXCIgZGF0YS1sb249XCInICsgdmFsdWUuZ3BzWzBdLmxvbiArICdcIj4nICsgdmFsdWUubmFtZSArICcgKCcgKyB2YWx1ZS5tZXRlcnMgKyAnbSk8L29wdGlvbj4nO1xuICAgICAgICAgICAgc2VsZWN0ZWQgPSAnJztcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH0pO1xuICAgICAgICAkKHRoYXQpLmh0bWwoaHRtbCk7XG5cbiAgICAgICAgY2hhbmdlUm91dGVTZWxlY3QoKTtcbiAgICB9KTtcblxufTtcblxudmFyIGNyZWF0ZVJvdXRlUmVjb3JkID0gZnVuY3Rpb24gKGh0bWxUYWJsZSwgaW5kZXgsIHJvdXRlKSB7XG4gICAgaHRtbFRhYmxlICs9ICc8dHI+JztcbiAgICBodG1sVGFibGUgKz0gJzx0aCBzY29wZT1cInJvd1wiPicgKyAoaW5kZXggKyAxKSArICc8L3RoPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+PGEgZGF0YS10b2dnbGU9XCJtb2RhbFwiIGRhdGEtcm91dGUtbmFtZT1cIicgKyByb3V0ZS5uYW1lICsgJ1wiIGRhdGEtdGFyZ2V0PVwiI3Nob3ctcm91dGUtbW9kYWxcIiBocmVmPVwiL3JvdXRlcy8nICsgcm91dGUubmFtZSArICdcIj4nICsgcm91dGUubmFtZSArICc8L2E+PC90ZD4nO1xuICAgIGh0bWxUYWJsZSArPSAnPHRkPicgKyBwYXJzZUludChyb3V0ZS5tZXRlcnMpICsgJ208L3RkPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+JyArIHJvdXRlLmNvdW50cnkgKyAnPC90ZD4nO1xuICAgIGh0bWxUYWJsZSArPSAnPHRkPidcbiAgICBpZiAocm91dGUucGVybWFuZW50ICE9PSB0cnVlKSB7XG4gICAgICAgIGh0bWxUYWJsZSArPSAnPGEgY2xhc3M9XCJlZGl0LXJvdXRlXCIgaHJlZj1cIiNcIiBkYXRhLWlkPVwiJyArIHJvdXRlLm5hbWUgKyAnXCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmNyZWF0ZTwvaT48L2E+JyArXG4gICAgICAgICAgICAnPGEgY2xhc3M9XCJkZWwtcm91dGVcIiBocmVmPVwiI1wiIGRhdGEtaWQ9XCInICsgcm91dGUubmFtZSArICdcIj4nICtcbiAgICAgICAgICAgICc8aSBhcmlhLWhpZGRlbj1cInRydWVcIiB0aXRsZT1cIkRlbGV0ZSByb3V0ZVwiIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5kZWxldGU8L2k+PC9hPicgKyAnPC90ZD4nO1xuICAgIH1cbiAgICBodG1sVGFibGUgKz0gJzwvdHI+JztcbiAgICByZXR1cm4gaHRtbFRhYmxlO1xufTtcblxuZnVuY3Rpb24gbG9hZFJvdXRlKG1haW5JbmRleCkge1xuICAgICQoJyNsb2FkJykubG9hZCgnL3JvdXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmZpbmQoJyNyb3V0ZXMtdCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbG9hZFJvdXRlVGFibGUoMCk7XG4gICAgICAgICAgICB2YXIgcGFnID0gJCgnI3JvdXRlcy10YWJsZScpLmZpbmQoJy5wYWdlJyk7XG4gICAgICAgICAgICBjcmVhdGVSb3V0ZU5hdlBhZ2UocGFnWzBdLCBtYWluSW5kZXgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUm91dGVOYXZQYWdlKHBhZ2UsIGluZGV4KSB7XG4gICAgdmFyIGh0bWxFbGVtZW50ID0gJCgnPHVsIGlkPVwicm91dGUtcGFnZVwiIGRhdGEtaW5kZXg9XCInICsgaW5kZXggKyAnXCI+PC91bD4nKS5hZGRDbGFzcyhcInBhZ2luYXRpb24gcGFnaW5hdGlvbi1sZ1wiKTtcbiAgICAkLmdldChcInJvdXRlcy9zaXplXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocGFyc2VJbnQoZGF0YSkgLyBQQUdFX1NJWkUpICsgMTtcbiAgICAgICAgdmFyIHByZXZEaXNhYmxlZCA9IChpbmRleCA9PT0gMCA/ICdkaXNhYmxlZCcgOiAnJyk7XG4gICAgICAgIHZhciBuZXh0RGlzYWJsZWQgPSAoaW5kZXggPT09IHNpemUgLSAxID8gJ2Rpc2FibGVkJyA6ICcnKTtcbiAgICAgICAgdmFyIHByZXYgPSAkKCc8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gJyArIHByZXZEaXNhYmxlZCArICdcIj48L2xpPicpLmFwcGVuZCgnPGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBocmVmPVwiI1wiIGRhdGEtbmV4dD1cIi0xXCIgdGFiaW5kZXg9XCItMVwiPlByZXZpb3VzPC9hPicpO1xuICAgICAgICB2YXIgbmV4dCA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgbmV4dERpc2FibGVkICsgJ1wiPjwvbGk+JykuYXBwZW5kKCc8YSBjbGFzcz1cInBhZ2UtbGlua1wiIGRhdGEtbmV4dD1cIjFcIiBocmVmPVwiI1wiPk5leHQ8L2E+Jyk7XG5cbiAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kKHByZXYpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgdmFyIGFjdGl2ZSA9ICcnO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBpKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlID0gXCJhY3RpdmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpdGVtID0gJCgnPGxpIGNsYXNzPVwicGFnZS1pdGVtICcgKyBhY3RpdmUgKyAnXCI+PGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBkYXRhLWluZGV4PVwiJyArIGkgKyAnXCIgaHJlZj1cIiNcIj4nICsgKGkgKyAxKSArICc8L2E+PC9saT4nKTtcbiAgICAgICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBodG1sRWxlbWVudC5hcHBlbmQobmV4dCk7XG4gICAgICAgICQocGFnZSkuaHRtbChodG1sRWxlbWVudCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvYWRSb3V0ZVRhYmxlKG1haW5JbmRleCkge1xuICAgIHZhciBzdGFydCA9IG1haW5JbmRleCAqIFBBR0VfU0laRSwgc3RvcCA9ICgoKG1haW5JbmRleCArIDEpICogUEFHRV9TSVpFKSkgLSAxO1xuICAgICQuZ2V0KCcvcm91dGVzLycgKyBzdGFydCArICcvJyArIHN0b3AsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBodG1sVGFibGUgPSAnJztcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyb3V0ZSkge1xuICAgICAgICAgICAgaHRtbFRhYmxlID0gY3JlYXRlUm91dGVSZWNvcmQoaHRtbFRhYmxlLCBpbmRleCArIChtYWluSW5kZXggKiBQQUdFX1NJWkUpLCByb3V0ZSk7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjcm91dGVzLXRhYmxlLWJvZHknKS5odG1sKGh0bWxUYWJsZSk7XG4gICAgICAgICQoJyNhZGQtcm91dGUtbW9kYWwnKS5vbignaGlkZGVuLmJzLm1vZGFsJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGxvYWRSb3V0ZSgwKTtcbiAgICAgICAgfSlcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZWRpdFJvdXRlKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIGlkID0gJCh0aGlzKS5kYXRhKCdpZCcpO1xuICAgICQuYWpheCh7XG4gICAgICAgIHVybDogJy9yb3V0ZXMvJyArIGlkLFxuICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgdmFyIGZvcm0gPSAkKFwiI2FkZFJvdXRlXCIpO1xuICAgICAgICAgICAgZm9ybS5maW5kKCcjbmFtZScpLnZhbChyZXN1bHQubmFtZSk7XG4gICAgICAgICAgICBmb3JtLmZpbmQoJyNtZXRlcnMnKS52YWwocmVzdWx0Lm1ldGVycyk7XG4gICAgICAgICAgICBmb3JtLmZpbmQoJyNzZWdtZW50SWQnKS52YWwocmVzdWx0LnNlZ21lbnRJZCk7XG4gICAgICAgICAgICBmb3JtLmZpbmQoJyNjb3VudHJpZXMnKS52YWwocmVzdWx0LmNvdW50cnkpO1xuICAgICAgICAgICAgLy9ncHMucmVwbGFjZSgvKC4qKSwoLiopLCguKikvZ20sICd7IFwibGF0XCI6ICQxLCBcImxvblwiOiAkMiwgXCJlbFwiOiAkMyB9LCcpO1xuICAgICAgICAgICAgdmFyIGdwc0N2cyA9IEpTT04uc3RyaW5naWZ5KHJlc3VsdC5ncHMpO1xuICAgICAgICAgICAgZm9ybS5maW5kKCcjZ3BzJykuYXBwZW5kKGdwc0N2cyk7XG4gICAgICAgICAgICAkKCcjYWRkLXJvdXRlLW1vZGFsJykubW9kYWwoJ3Nob3cnKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzaG93Um91dGVNb2RhbChlKSB7XG4gICAgdmFyIG5hbWUgPSAkKGUucmVsYXRlZFRhcmdldCkuZGF0YSgncm91dGUtbmFtZScpO1xuICAgIHZhciB0aGF0ID0gJCh0aGlzKTtcbiAgICAkLmdldChcIi9yb3V0ZXMvXCIgKyBuYW1lLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgdGl0bGUgPSBkYXRhLm5hbWU7XG4gICAgICAgIGlmIChkYXRhLnNlZ2VtZW50SWQpIHtcbiAgICAgICAgICAgIHRpdGxlID0gJzxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwczovL3d3dy5zdHJhdmEuY29tL3NlZ21lbnRzLycgKyBkYXRhLnNlZ2VtZW50SWQgKyAnXCI+JyArIHRpdGxlICsgJyA8L2E+JztcbiAgICAgICAgfVxuICAgICAgICB0aGF0LmZpbmQoJyNzaG93LXJvdXRlLW1vZGFsLXRpdGxlJykuaHRtbCh0aXRsZSk7XG4gICAgICAgIHZhciBodG1sID0gJzxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiPjxoNSBjbGFzcz1cImNhcmQtdGl0bGVcIj5EaXNwbGF5IExlbmdodDo8L2g1PicgKyBkYXRhLm1ldGVycyArICcgbTwvbGk+JztcbiAgICAgICAgaHRtbCArPSAnPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCI+PGg1IGNsYXNzPVwiY2FyZC10aXRsZVwiPkdwcyBMZW5naHQ6PC9oNT4nICsgZGF0YS5ncHNMZW5naHQgKyAnIG08L2xpPic7XG4gICAgICAgIGh0bWwgKz0gJzxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiPjxoNSBjbGFzcz1cImNhcmQtdGl0bGVcIj5Db3VudHJ5OjwvaDU+JyArIGRhdGEuY291bnRyeSArICc8L2xpPic7XG4gICAgICAgIHRoYXQuZmluZCgnLmNhcmQgLmxpc3QtZ3JvdXAnKS5odG1sKGh0bWwpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjaGFuZ2VSb3V0ZVNlbGVjdCgpIHtcbiAgICB2YXIgc2VsZWN0ZWQgPSAkKCcjcm91dGVzJykuZmluZChcIjpzZWxlY3RlZFwiKTtcbiAgICBtYXBVdGlscy5jbGVhbk1hcCgpO1xuICAgIHZhciBuYW1lID0gc2VsZWN0ZWQuZGF0YSgnbmFtZScpO1xuICAgIG1hcFV0aWxzLmFkZFJvdXRlVHJhY2tUb01hcChuYW1lLCAkKFwiI2xpdmUtbWFwXCIpKTtcbn1cblxuZnVuY3Rpb24gZGVsZXRlUm91dGUoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgaWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XG4gICAgdmFyIHJlc3VsdCA9IGNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHJvdXRlP1wiKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6ICcvcm91dGVzLycgKyBpZCxcbiAgICAgICAgICAgIHR5cGU6ICdERUxFVEUnLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJvdXRlLmxvYWRSb3V0ZSgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzYXZlUm91dGUoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBmb3JtID0gJChcIiNhZGRSb3V0ZVwiKTtcbiAgICB2YXIgcm91dGUgPSB7fTtcbiAgICByb3V0ZS5uYW1lID0gZm9ybS5maW5kKCcjbmFtZScpLnZhbCgpO1xuICAgIHJvdXRlLm1ldGVycyA9IGZvcm0uZmluZCgnI21ldGVycycpLnZhbCgpO1xuICAgIHJvdXRlLnN0cmF2YUlkID0gZm9ybS5maW5kKCcjc2VnbWVudElkJykudmFsKCk7XG4gICAgcm91dGUuY291bnRyeSA9IGZvcm0uZmluZCgnI2NvdW50cmllcycpLnZhbCgpO1xuICAgIHJvdXRlLmdwcyA9IGZvcm0uZmluZCgndGV4dGFyZWEnKS52YWwoKTtcbiAgICAkLmFqYXgoe1xuICAgICAgICB0eXBlOiAnUFVUJyxcbiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgdXJsOiBcIi9yb3V0ZXMvYWRkXCIsXG4gICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHJvdXRlKSxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCgnI2FkZC1yb3V0ZS1tb2RhbCcpLm1vZGFsKCdoaWRlJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gb3BlblJvdXRlKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIG5leHQgPSBwYXJzZUludCgkKHRoaXMpLmRhdGEoJ25leHQnKSksIGluZGV4ID0gcGFyc2VJbnQoJCh0aGlzKS5kYXRhKCdpbmRleCcpKSxcbiAgICAgICAgbWFpbkluZGV4ID0gcGFyc2VJbnQoJCgnI3JvdXRlLXBhZ2UnKS5kYXRhKCdpbmRleCcpKTtcbiAgICBpZiAoIWlzTmFOKG5leHQpKSB7XG4gICAgICAgIG1haW5JbmRleCArPSBuZXh0O1xuICAgIH0gZWxzZSBpZiAoIWlzTmFOKGluZGV4KSkge1xuICAgICAgICBtYWluSW5kZXggPSBpbmRleDtcbiAgICB9XG4gICAgdmFyIHBhZyA9ICQoJyNyb3V0ZXMtdGFibGUnKS5maW5kKCcucGFnZScpO1xuICAgIGNyZWF0ZVJvdXRlTmF2UGFnZShwYWdbMF0sIG1haW5JbmRleCk7XG4gICAgbG9hZFJvdXRlVGFibGUobWFpbkluZGV4KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBsb2FkUm91dGVzLCBjcmVhdGVSb3V0ZVJlY29yZCwgbG9hZFJvdXRlLCBsb2FkUm91dGVUYWJsZSxcbiAgICAgY3JlYXRlUm91dGVOYXZQYWdlLCBlZGl0Um91dGUsIHNob3dSb3V0ZU1vZGFsLCBjaGFuZ2VSb3V0ZVNlbGVjdCwgZGVsZXRlUm91dGUsXG5zYXZlUm91dGUsIG9wZW5Sb3V0ZX0iLCJcbnZhciBsb2FkVXNlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICQuZ2V0KFwiL3VzZXJzXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBodG1sID0gJyc7XG4gICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxvcHRpb24gdmFsdWU9XCInICsgdmFsdWUuaWQgKyAnXCI+JyArIHZhbHVlLmZpcnN0TmFtZSArICcgJyArIHZhbHVlLmxhc3ROYW1lICsgJzwvb3B0aW9uPidcbiAgICAgICAgfSk7XG4gICAgICAgICQodGhhdCkuaHRtbChodG1sKVxuICAgIH0pO1xufTtcblxuZnVuY3Rpb24gZWRpdFVzZXIoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgaWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XG4gICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiAnL3VzZXJzLycgKyBpZCxcbiAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHZhciBmb3JtID0gJChcIiNhZGRVc2VyRm9ybVwiKTtcbiAgICAgICAgICAgIGZvcm0uZmluZCgnI2ZpcnN0TmFtZScpLnZhbChyZXN1bHQuZmlyc3ROYW1lKTtcbiAgICAgICAgICAgIGZvcm0uZmluZCgnI2xhc3ROYW1lJykudmFsKHJlc3VsdC5sYXN0TmFtZSk7XG4gICAgICAgICAgICBmb3JtLmZpbmQoJyN1c2VySWQnKS52YWwocmVzdWx0LmlkKTtcbiAgICAgICAgICAgICQuZ2V0KCcvc3RyYXZhL3VybCcsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IGRhdGEudXJsLnJlcGxhY2UoXCIlMjRcIiwgcmVzdWx0LmlkKTtcbiAgICAgICAgICAgICAgICAkKCcuc3RyYXZhLXVybCcpLmF0dHIoJ2hyZWYnLCB1cmwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgY29ubmVjdCA9ICQoXCIuc3RyYXZhLWNvbm5lY3RcIik7XG4gICAgICAgICAgICBjb25uZWN0LnJlbW92ZUNsYXNzKFwic3Itb25seVwiKTtcbiAgICAgICAgICAgICQoJyNhZGRVc2VyTW9kYWwnKS5tb2RhbCgnc2hvdycpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvYWRVc2VyKCkge1xuICAgICQoJyNsb2FkJykubG9hZCgnL3VzZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykuZmluZCgnI3VzZXJzLWJvZHknKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgICQuZ2V0KFwiL3VzZXJzL1wiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBodG1sID0gJyc7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1c2VyID0gZGF0YVtpXTtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPHRyPjx0ZD48YSBocmVmPVwiI1wiIGRhdGEtaWQ9XCInICsgdXNlci5pZCArICdcIj4nICsgKGkgKyAxKSArICc8L2E+PC90ZD48dGQ+JyArIHVzZXIuZmlyc3ROYW1lICsgJzwvdGQ+PHRkPicgKyB1c2VyLmxhc3ROYW1lICsgJzwvdGQ+JztcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPHRkPjxhIGNsYXNzPVwiZWRpdC11c2VyXCIgaHJlZj1cIiNcIiBkYXRhLWlkPVwiJyArIHVzZXIuaWQgKyAnXCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmNyZWF0ZTwvaT48L2E+PGEgY2xhc3M9XCJkZWwtdXNlclwiIGhyZWY9XCIjXCIgZGF0YS1pZD1cIicgKyB1c2VyLmlkICsgJ1wiPjxpIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHRpdGxlPVwiRGVsZXRlIHVzZXJcIiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZGVsZXRlPC9pPjwvYT48L3RkPicgKyAnPC90cj4nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQodGhhdCkuaHRtbChodG1sKTtcbiAgICAgICAgICAgICAgICAkKCcjYWRkVXNlck1vZGFsJykub24oJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRVc2VyKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc2F2ZVVzZXIoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBmb3JtID0gJChcIiNhZGRVc2VyRm9ybVwiKTtcbiAgICB2YXIgZmlyc3ROYW1lID0gZm9ybS5maW5kKCcjZmlyc3ROYW1lJykudmFsKCk7XG4gICAgdmFyIGxhc3ROYW1lID0gZm9ybS5maW5kKCcjbGFzdE5hbWUnKS52YWwoKTtcbiAgICB2YXIgaWQgPSBmb3JtLmZpbmQoJyN1c2VySWQnKS52YWwoKTtcbiAgICB2YXIgdXNlciA9IHt9O1xuICAgIHVzZXIuZmlyc3ROYW1lID0gZmlyc3ROYW1lO1xuICAgIHVzZXIubGFzdE5hbWUgPSBsYXN0TmFtZTtcbiAgICB1c2VyLmlkID0gaWQ7XG4gICAgJC5hamF4KHtcbiAgICAgICAgdHlwZTogJ1BVVCcsXG4gICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgIHVybDogXCIvdXNlcnMvYWRkXCIsXG4gICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHVzZXIpLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKCcjYWRkVXNlck1vZGFsJykubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG59XG5cbmZ1bmN0aW9uIGRlbGV0ZVVzZXIoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgaWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XG4gICAgdmFyIHJlc3VsdCA9IGNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlP1wiKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6ICcvdXNlcnMvJyArIGlkLFxuICAgICAgICAgICAgdHlwZTogJ0RFTEVURScsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdXNlci5sb2FkVXNlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgeyBsb2FkVXNlcnMsIGxvYWRVc2VyLCBlZGl0VXNlciwgc2F2ZVVzZXIsIGRlbGV0ZVVzZXIgfSIsImltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy91dGlscyc7XG5pbXBvcnQgeyBVUERBVEVfRlJFUSwgUEFHRV9TSVpFLCBSQVRJT04gfSBmcm9tICcuLi91dGlscy9nbG9iYWxzJztcblxuXG5mdW5jdGlvbiBsb2FkSGlzdG9yeUluZGV4KGluZGV4KSB7XG4gICAgbG9hZEhpc3RvcnkoaW5kZXgpO1xufVxuXG5mdW5jdGlvbiBsb2FkSGlzdG9yeShtYWluSW5kZXgpIHtcbiAgICAkKCcjbG9hZCcpLmxvYWQoJy9oaXN0b3J5JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmZpbmQoJyNoaXN0b3J5JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsb2FkTGFzdDNTZXNzaW9ucygpO1xuICAgICAgICAgICAgbG9hZEhpc3RvcnlMaXN0KCQodGhpcyksIG1haW5JbmRleCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkTGFzdDNTZXNzaW9ucygpIHtcbiAgICAkLmdldCgnL3Nlc3Npb24vJyArIDAgKyAnLycgKyAyLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgaHRtbENhcmRzID0gJyc7XG4gICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoc2Vzc2lvbikge1xuICAgICAgICAgICAgaHRtbENhcmRzID0gY3JlYXRlQ2FyZChodG1sQ2FyZHMsIHNlc3Npb24pO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjY2FyZHMnKS5odG1sKCc8ZGl2IGNsYXNzPVwiY29sXCI+PGRpdiBjbGFzcz1cImNhcmQtZGVja1wiPicgKyBodG1sQ2FyZHMgKyAnPC9kaXY+PC9kaXY+Jyk7XG4gICAgICAgICQoJy5ncHgtdHJhY2snKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQodGhpcykudHJpZ2dlcihcImxvYWQtbWFwXCIsIHRoaXMpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbG9hZEhpc3RvcnlMaXN0KHRoYXQsIG1haW5JbmRleCkge1xuICAgIHZhciBzdGFydCA9IG1haW5JbmRleCAqIFBBR0VfU0laRSwgc3RvcCA9ICgoKG1haW5JbmRleCArIDEpICogUEFHRV9TSVpFKSkgLSAxO1xuICAgICQuZ2V0KCcvc2Vzc2lvbi8nICsgc3RhcnQgKyAnLycgKyBzdG9wLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAkLmdldCgnL3VzZXJzJywgZnVuY3Rpb24gKHVzZXJzKSB7XG4gICAgICAgICAgICB2YXIgaHRtbFRhYmxlID0gJycsIGluZGV4ID0gMDtcbiAgICAgICAgICAgIHZhciB1c2VyTWFwID0gdXNlcnMucmVkdWNlKGZ1bmN0aW9uKG1hcCwgb2JqKSB7XG4gICAgICAgICAgICAgICAgbWFwW29iai5pZF0gPSBvYmo7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIGh0bWxUYWJsZSA9IGNyZWF0ZUxhcFRhYmxlUmVjb3JkKGh0bWxUYWJsZSwgaW5kZXggKyAobWFpbkluZGV4ICogUEFHRV9TSVpFKSwgc2Vzc2lvbiwgdXNlck1hcCk7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCcjaGlzdG9yLXRhYmxlLWJvZHknKS5odG1sKGh0bWxUYWJsZSk7XG4gICAgICAgICAgICB2YXIgcGFnID0gdGhhdC5maW5kKCcucGFnZScpO1xuICAgICAgICAgICAgY3JlYXRlSGlzdG9yeU5hdlBhZ2UocGFnLCBtYWluSW5kZXgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gb3Blbkhpc3RvcnkoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgbmV4dCA9IHBhcnNlSW50KCQodGhpcykuZGF0YSgnbmV4dCcpKSwgaW5kZXggPSBwYXJzZUludCgkKHRoaXMpLmRhdGEoJ2luZGV4JykpLFxuICAgICAgICBtYWluSW5kZXggPSBwYXJzZUludCgkKCcjaGlzdG9yeS1wYWdlJykuZGF0YSgnaW5kZXgnKSk7XG4gICAgaWYgKCFpc05hTihuZXh0KSkge1xuICAgICAgICBtYWluSW5kZXggKz0gbmV4dDtcbiAgICB9IGVsc2UgaWYgKCFpc05hTihpbmRleCkpIHtcbiAgICAgICAgbWFpbkluZGV4ID0gaW5kZXg7XG4gICAgfVxuICAgIGxvYWRIaXN0b3J5TGlzdCgkKCcjaGlzdG9yeS10YWJsZScpLCBtYWluSW5kZXgpO1xufVxuXG5cbnZhciBjcmVhdGVDYXJkID0gZnVuY3Rpb24gKGh0bWxDYXJkcywgc2Vzc2lvbikge1xuICAgIGh0bWxDYXJkcyArPSAnPGRpdiBjbGFzcz1cImNhcmQgZ3B4LXRyYWNrXCIgZGF0YS1uYW1lPVwiJyArIHNlc3Npb24ubmFtZSArICdcIlwiPic7XG4gICAgaHRtbENhcmRzICs9ICc8ZGl2IGNsYXNzPVwiY2FyZC1ib2R5XCI+JztcbiAgICBodG1sQ2FyZHMgKz0gJzxkaXYgY2xhc3M9XCJjYXJkLW1hcC10b3AgXCI+PC9kaXY+JztcbiAgICBodG1sQ2FyZHMgKz0gJzxoNSBjbGFzcz1cImNhcmQtdGl0bGUgbXQtMlwiPjxhIGNsYXNzPVwic2Vzc2lvbnNcIiBkYXRhLW5hbWU9XCInICsgc2Vzc2lvbi5uYW1lICsgJ1wiIGhyZWY9XCIvc2Vzc2lvblwiPicgKyB1dGlscy5zZXNzaW9uTmFtZVRvUmVhZGFibGUoc2Vzc2lvbi5uYW1lKSArICc8L2E+PC9oNT4nO1xuICAgIGh0bWxDYXJkcyArPSAnPHAgY2xhc3M9XCJjYXJkLXRleHRcIj5MZW5ndGg6ICcgKyBwYXJzZUludChzZXNzaW9uLmVuZFN0YXRzLm1ldGVycykgKyAnbSwgVGltZTogJyArIHV0aWxzLmZtdE1TUyhwYXJzZUludChzZXNzaW9uLmVuZFN0YXRzLnNlY29uZHMpKSArICc8L3A+JztcbiAgICBodG1sQ2FyZHMgKz0gJzxhIGhyZWY9XCIvc3RyYXZhL3VwbG9hZC8nICsgc2Vzc2lvbi5uYW1lICsgJ1wiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IHN0cmF2YSBidG4tYmxvY2tcIj5VcGxvYWQgdG8gU3RyYXZhPC9hPic7XG4gICAgaHRtbENhcmRzICs9ICc8L2Rpdj4nO1xuICAgIGh0bWxDYXJkcyArPSAnPC9kaXY+JztcbiAgICByZXR1cm4gaHRtbENhcmRzO1xufTtcblxudmFyIGNyZWF0ZUxhcFRhYmxlUmVjb3JkID0gZnVuY3Rpb24gKGh0bWxUYWJsZSwgaW5kZXgsIHNlc3Npb24sIHVzZXJNYXApIHtcbiAgICB2YXIgdXNlciA9IHVzZXJNYXBbc2Vzc2lvbi51c2VyXTtcbiAgICBodG1sVGFibGUgKz0gJzx0cj4nO1xuICAgIGh0bWxUYWJsZSArPSAnPHRoIHNjb3BlPVwicm93XCI+JyArIChpbmRleCArIDEpICsgJzwvdGg+JztcbiAgICBodG1sVGFibGUgKz0gJzx0ZD48YSBjbGFzcz1cInNlc3Npb25zXCIgZGF0YS1uYW1lPVwiJyArIHNlc3Npb24ubmFtZSArICdcIiBocmVmPVwiLz9uYW1lPScrc2Vzc2lvbi5uYW1lKycjc2Vzc2lvblwiPicgKyB1dGlscy5zZXNzaW9uTmFtZVRvUmVhZGFibGUoc2Vzc2lvbi5uYW1lKSArICc8L2E+PC90ZD4nO1xuICAgIGh0bWxUYWJsZSArPSAnPHRkPkxlbmd0aDogJyArIHBhcnNlSW50KHNlc3Npb24uZW5kU3RhdHMubWV0ZXJzKSArICdtPC90ZD4nO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICAgIGh0bWxUYWJsZSArPSAnPHRkPicgKyB1c2VyLmZpcnN0TmFtZSArICcgJyArIHVzZXIubGFzdE5hbWUgKyAnPC90ZD4nO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGh0bWxUYWJsZSArPSAnPHRkPjwvdGQ+JztcbiAgICB9XG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+IDxhIGhyZWY9XCIvc2Vzc2lvbnMvJyArIHNlc3Npb24ubmFtZSArICcuZ3B4XCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBtZC0zNlwiPmZpbGVfZG93bmxvYWQ8L2k+PGEgY2xhc3M9XCJzdHJhdmFcIiBocmVmPVwiL3N0cmF2YS91cGxvYWQvJyArIHNlc3Npb24ubmFtZSArICdcIj4nICtcbiAgICAgICAgJzxpIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHRpdGxlPVwiVXBsb2FkIHRvIFN0cmF2YVwiIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgbWQtMzYgc3RyYXZhLWljb25cIj5jbG91ZF91cGxvYWQ8L2k+PC9hPiA8YSBjbGFzcz1cImRlbC1zZXNzaW9uXCIgaHJlZj1cIiNcIiBkYXRhLW5hbWU9XCInICsgc2Vzc2lvbi5uYW1lICsgJ1wiPicgK1xuICAgICAgICAnPGkgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdGl0bGU9XCJEZWxldGUgc2Vzc2lvbiBsb2NhbFwiIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgbWQtMzZcIj5kZWxldGU8L2k+PC9hPjwvdGQ+JztcbiAgICBodG1sVGFibGUgKz0gJzwvdHI+JztcbiAgICByZXR1cm4gaHRtbFRhYmxlO1xufTtcblxuZnVuY3Rpb24gY3JlYXRlSGlzdG9yeU5hdlBhZ2UocGFnZSwgaW5kZXgpIHtcbiAgICB2YXIgaHRtbEVsZW1lbnQgPSAkKCc8dWwgaWQ9XCJoaXN0b3J5LXBhZ2VcIiBkYXRhLWluZGV4PVwiJyArIGluZGV4ICsgJ1wiPjwvdWw+JykuYWRkQ2xhc3MoXCJwYWdpbmF0aW9uIHBhZ2luYXRpb24tbGdcIik7XG4gICAgJC5nZXQoXCJzZXNzaW9uL3NpemVcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIHNpemUgPSBwYXJzZUludChwYXJzZUludChkYXRhKSAvIFBBR0VfU0laRSkgKyAxO1xuICAgICAgICB2YXIgcHJldkRpc2FibGVkID0gKGluZGV4ID09PSAwID8gJ2Rpc2FibGVkJyA6ICcnKTtcbiAgICAgICAgdmFyIG5leHREaXNhYmxlZCA9IChpbmRleCA9PT0gc2l6ZSAtIDEgPyAnZGlzYWJsZWQnIDogJycpO1xuICAgICAgICB2YXIgcHJldiA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgcHJldkRpc2FibGVkICsgJ1wiPjwvbGk+JykuYXBwZW5kKCc8YSBjbGFzcz1cInBhZ2UtbGlua1wiIGhyZWY9XCIjXCIgZGF0YS1uZXh0PVwiLTFcIiB0YWJpbmRleD1cIi0xXCI+UHJldmlvdXM8L2E+Jyk7XG4gICAgICAgIHZhciBuZXh0ID0gJCgnPGxpIGNsYXNzPVwicGFnZS1pdGVtICcgKyBuZXh0RGlzYWJsZWQgKyAnXCI+PC9saT4nKS5hcHBlbmQoJzxhIGNsYXNzPVwicGFnZS1saW5rXCIgZGF0YS1uZXh0PVwiMVwiIGhyZWY9XCIjXCI+TmV4dDwvYT4nKTtcblxuICAgICAgICBodG1sRWxlbWVudC5hcHBlbmQocHJldik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYWN0aXZlID0gJyc7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IGkpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSBcImFjdGl2ZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGl0ZW0gPSAkKCc8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gJyArIGFjdGl2ZSArICdcIj48YSBjbGFzcz1cInBhZ2UtbGlua1wiIGRhdGEtaW5kZXg9XCInICsgaSArICdcIiBocmVmPVwiI1wiPicgKyAoaSArIDEpICsgJzwvYT48L2xpPicpO1xuICAgICAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZChuZXh0KTtcbiAgICAgICAgJChwYWdlKS5odG1sKGh0bWxFbGVtZW50KTtcbiAgICB9KTtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCB7IGxvYWRIaXN0b3J5SW5kZXgsIGxvYWRIaXN0b3J5LCBsb2FkSGlzdG9yeUxpc3QsIG9wZW5IaXN0b3J5IH0iLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IGdyYXBoVXRpbHMgZnJvbSAnLi4vdXRpbHMvZ3JhcGhVdGlscyc7XG5pbXBvcnQgeyBVUERBVEVfRlJFUSwgUEFHRV9TSVpFLCBSQVRJT04sIHJ1biB9IGZyb20gJy4uL3V0aWxzL2dsb2JhbHMnO1xuaW1wb3J0IGZyb250IGZyb20gJy4uL2Zyb250L2luZGV4JztcbmltcG9ydCByb3V0ZSBmcm9tICcuLi9yb3V0ZS9pbmRleCc7XG5pbXBvcnQgdXNlciBmcm9tICcuLi91c2VyL2luZGV4JztcbmltcG9ydCBtYXBVdGlscyBmcm9tICcuLi91dGlscy9tYXBVdGlscydcbmltcG9ydCBtYXAgZnJvbSAnLi4vbWFwL2luZGV4J1xuaW1wb3J0IGhpc3RvcnkgZnJvbSAnLi4vaGlzdG9yeS9pbmRleCdcblxuXG5mdW5jdGlvbiBsb2FkU2Vzc2lvbihuYW1lKSB7XG4gICAgJCgnI2xvYWQnKS5sb2FkKCcvc2Vzc2lvbnMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykuZmluZCgnI3JvdXRlcycpLmVhY2gocm91dGUubG9hZFJvdXRlcyk7XG4gICAgICAgICQodGhpcykuZmluZCgnI3Nlc3Npb24tdXNlcicpLmVhY2godXNlci5sb2FkVXNlcnMpO1xuICAgICAgICAkKHRoaXMpLmZpbmQoJyNoaXN0b3J5LXNlc3Npb24nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aXRsZSA9IFwiSGlzdG9yeVwiO1xuICAgICAgICAgICAgJC5nZXQoXCIvc2Vzc2lvbi9cIiArIG5hbWUsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSBmcm9udC5nZXRIdG1sKHRpdGxlLCBkYXRhLmVuZFN0YXRzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAkKCcjcm91dGVzJykudmFsKGRhdGEucm91dGUpO1xuICAgICAgICAgICAgICAgICQoJyNzZXNzaW9uLXVzZXInKS52YWwoZGF0YS51c2VyKTtcbiAgICAgICAgICAgICAgICBpZiAoaHRtbCkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjdGFibGUtY29udGVudCcpLmh0bWwoaHRtbCk7XG4gICAgICAgICAgICAgICAgICAgICQoJyNsYXBzLWJvZHknKS5odG1sKGdldExhcEh0bWwodGl0bGUsIGRhdGEuZW5kU3RhdHMpKTtcbiAgICAgICAgICAgICAgICAgICAgbWFwVXRpbHMuYWRkR3B4VHJhY2tUb01hcChuYW1lLCAkKFwiI2xpdmUtbWFwXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ3JhcGhVdGlscy5hZGRHcmFwaChkYXRhLnJhdywgZGF0YS5yYXdIciwgcGFyc2VJbnQoZGF0YS5zdGFydCksIGRhdGEuc3Ryb2tlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0TGFwSHRtbChsYWJlbCwganNvbiwgcmV2ZXJzZSkge1xuICAgIHZhciBodG1sID0gJyc7XG4gICAgaWYgKHBhcnNlSW50KGpzb24udG90YWxMYXBzKSA+IDApIHtcbiAgICAgICAgdmFyIGxhcE51bSA9IDE7XG4gICAgICAgIHZhciBsYXBzID0ganNvbi5sYXBzO1xuICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgbGFwcy5yZXZlcnNlKCk7XG4gICAgICAgICAgICBsYXBOdW0gPSBsYXBzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBsYXBzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSAnPHRyPjx0aCBzY29wZT1cInJvd1wiPicgKyBsYXBOdW0gKyAnPC90aD48dGQ+JyArIHBhcnNlSW50KHZhbHVlLm1ldGVycykgKyAnPC90ZD48dGQ+JyArIHV0aWxzLmZtdE1TUyhwYXJzZUludCh2YWx1ZS5zZWNvbmRzKSkgKyAnPC90ZD4nO1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzx0ZD4nICsgTWF0aC5yb3VuZChwYXJzZUZsb2F0KHZhbHVlLndhdHQpICogMTApIC8gMTAgKyAndzwvdGQ+PC90cj4nO1xuICAgICAgICAgICAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhcE51bS0tO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxhcE51bSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGh0bWw7XG59XG5cblxudmFyIGNsaWNrU2Vzc2lvbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBuYW1lID0gJCh0aGlzKS5kYXRhKCduYW1lJyk7XG4gICAgbG9hZFNlc3Npb24obmFtZSk7XG59O1xuXG5mdW5jdGlvbiBkZWxldGVTZXNzaW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIG5hbWUgPSAkKHRoaXMpLmRhdGEoJ25hbWUnKTtcbiAgICB2YXIgcmVzdWx0ID0gY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgc2Vzc2lvbj9cIik7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiAnL3Nlc3Npb24vZGVsLycgKyBuYW1lLFxuICAgICAgICAgICAgdHlwZTogJ0RFTEVURScsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJTZXNzaW9uIGRlbGV0ZWRcIik7XG4gICAgICAgICAgICAgICAgaGlzdG9yeS5sb2FkSGlzdG9yeUluZGV4KDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgbG9hZFNlc3Npb24sIGNsaWNrU2Vzc2lvbiwgZ2V0TGFwSHRtbCwgZGVsZXRlU2Vzc2lvbiB9IiwiaW1wb3J0IHJvdXRlIGZyb20gJy4uL3JvdXRlL2luZGV4JztcbmltcG9ydCB1c2VyIGZyb20gJy4uL3VzZXIvaW5kZXgnO1xuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzL3V0aWxzJ1xuaW1wb3J0IG1hcFV0aWxzIGZyb20gJy4uL3V0aWxzL21hcFV0aWxzJ1xuaW1wb3J0IGdsb2JhbHMgZnJvbSAnLi4vdXRpbHMvZ2xvYmFscyc7XG5pbXBvcnQgc2Vzc2lvbiBmcm9tICcuLi9zZXNzaW9uL2luZGV4JztcbmltcG9ydCBtYXAgZnJvbSAnLi4vbWFwL2luZGV4J1xuaW1wb3J0IGhpc3RvcnkgZnJvbSAnLi4vaGlzdG9yeS9pbmRleCdcblxudmFyIHRpbWVPdXQ7XG5cbmZ1bmN0aW9uIGxvYWRNYWluKCkge1xuICAgICQoJyNsb2FkJykubG9hZCgnL21haW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykuZmluZCgnI3JvdXRlcycpLmVhY2gocm91dGUubG9hZFJvdXRlcyk7XG4gICAgICAgICQodGhpcykuZmluZCgnI3Nlc3Npb24tdXNlcicpLmVhY2godXNlci5sb2FkVXNlcnMpO1xuICAgICAgICAkLmdldChcIi9yb3cvc3RhdHVzXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09ICdST1dJTkcnKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0QnV0dG9uID0gJCgnI3N0YXJ0Um93Jyk7XG4gICAgICAgICAgICAgICAgaWYgKHV0aWxzLmdldFVybFBhcmFtZXRlcihcInRlc3RcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRCdXR0b24gPSAkKCcjc3RhcnRTaW11bGF0b3InKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGFydChzdGFydEJ1dHRvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vUnVuIHNpbXVsYXRvciBpZiB0ZXN0LlxuICAgICAgICBpZiAodXRpbHMuZ2V0VXJsUGFyYW1ldGVyKFwidGVzdFwiKSkge1xuICAgICAgICAgICAgJCgnI3N0YXJ0Um93JykuYXR0cihcImlkXCIsIFwic3RhcnRTaW11bGF0b3JcIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gdXBsb2FkVG9TdHJhdmEoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgaHJlZiA9ICQodGhpcykuYXR0cignaHJlZicpO1xuICAgICQuZ2V0KGhyZWYsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICBhbGVydChcIlVwbG9hZGVkIHRvIHN0cmF2YSFcIik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0Um93KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIHJvdXRlcyA9ICQoJyNyb3V0ZXMnKS52YWwoKTtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgJC5nZXQoXCIvcm93L3N0YXJ0XCIsIHsgcm91dGVzOiByb3V0ZXMgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBzdGFydCh0aGF0KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc3RvcFJvdyhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciB0aGF0ID0gJCh0aGlzKTtcbiAgICBjbGVhclRpbWVvdXQodGltZU91dCk7XG4gICAgZ2xvYmFscy5ydW4gPSBmYWxzZTtcbiAgICB2YXIgcm91dGVzID0gJCgnI3JvdXRlcycpLnZhbCgpO1xuICAgIHZhciB1c2VyID0gJCgnI3Nlc3Npb24tdXNlcicpLnZhbCgpO1xuICAgICQuZ2V0KFwiL3Jvdy9zdG9wXCIsIHsgcm91dGVzOiByb3V0ZXMsIHVzZXI6IHVzZXIgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgJCgnI3RhYmxlLWNvbnRlbnQnKS5odG1sKGdldEh0bWwoXCJTdG9wcGVkXCIsIGRhdGEsIGZhbHNlKSk7XG4gICAgICAgIHZhciBzdGFydFJvdyA9ICQoXCIjc3RhcnRSb3dcIik7XG4gICAgICAgIHN0YXJ0Um93LnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgIHN0YXJ0Um93LnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgc3RhcnRSb3cuaHRtbCgnU3RhcnQgcm93Jyk7XG4gICAgICAgIHRoYXQuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAkKCcjcm91dGVzJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgJCgnI3Nlc3Npb24tdXNlcicpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICQoXCIjc3RhcnRTaW11bGF0b3JcIikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc3RhcnQoc3RhcnRCdXR0b24pIHtcbiAgICAkKHdpbmRvdykuc2Nyb2xsVG9wKCQoJyNtYWluJykub2Zmc2V0KCkudG9wKTsgLy9TY3JvbGxcbiAgICBnZXRfcm93SW5mbyh0cnVlLCBcIlJvd2luZ1wiKTtcbiAgICBtYXBVdGlscy5jbGVhbk1hcCgpO1xuICAgICQoJyNyb3V0ZXMnKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICQoJyNzZXNzaW9uLXVzZXInKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICQoXCIjc3RhcnRTaW11bGF0b3JcIikuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAkKHN0YXJ0QnV0dG9uKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICQoc3RhcnRCdXR0b24pLmh0bWwoJ1Jvd2luZy4uLicpO1xuICAgICQoc3RhcnRCdXR0b24pLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAkKCcjc3RvcFJvdycpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbn1cblxuZnVuY3Rpb24gZ2V0X3Jvd0luZm8oY29udGludWVzLCB0aXRsZSkge1xuICAgIGdsb2JhbHMucnVuID0gY29udGludWVzO1xuICAgICQuZ2V0KFwiL3Jvd1wiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgaHRtbCA9IGdldEh0bWwodGl0bGUsIGRhdGEpO1xuICAgICAgICBpZiAoaHRtbCkge1xuICAgICAgICAgICAgJCgnI3RhYmxlLWNvbnRlbnQnKS5odG1sKGh0bWwpO1xuICAgICAgICAgICAgJCgnI2xhcHMtYm9keScpLmh0bWwoc2Vzc2lvbi5nZXRMYXBIdG1sKHRpdGxlLCBkYXRhLCB0cnVlKSk7XG4gICAgICAgICAgICB2YXIgbGF0ID0gZGF0YS5ncHMubGF0O1xuICAgICAgICAgICAgdmFyIGxvbiA9IGRhdGEuZ3BzLmxvbjtcbiAgICAgICAgICAgIHZhciBwID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhsYXQsIGxvbik7XG4gICAgICAgICAgICBtYXAubGl2ZVBvaW50cy5wdXNoKHApO1xuICAgICAgICAgICAgaWYgKG1hcC5saXZlQm91bmRzKSB7XG4gICAgICAgICAgICAgICAgbWFwLmxpdmVCb3VuZHMuZXh0ZW5kKHApO1xuICAgICAgICAgICAgICAgIHZhciBwb2x5ID0gbWFwVXRpbHMuY3JlYXRlUG9seUxpbmUobWFwLmxpdmVQb2ludHMpO1xuICAgICAgICAgICAgICAgIHBvbHkuc2V0TWFwKG1hcC5saXZlTWFwKTtcbiAgICAgICAgICAgICAgICBtYXAubGl2ZU1hcC5maXRCb3VuZHMobWFwLmxpdmVCb3VuZHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9KS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGdsb2JhbHMucnVuKSB7XG4gICAgICAgICAgICB0aW1lT3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGdldF9yb3dJbmZvKHRydWUsIHRpdGxlKTsgfSwgZ2xvYmFscy5VUERBVEVfRlJFUSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbG9hZCgpIHtcbiAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuICAgIHN3aXRjaCAoaGFzaCkge1xuICAgICAgICBjYXNlICcjcm91dGUnOlxuICAgICAgICAgICAgcm91dGUubG9hZFJvdXRlKDApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJyN1c2VyJzpcbiAgICAgICAgICAgIHVzZXIubG9hZFVzZXIoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICcjaGlzdG9yeSc6XG4gICAgICAgICAgICBoaXN0b3J5LmxvYWRIaXN0b3J5KDApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJyNzZXNzaW9uJzpcbiAgICAgICAgICAgIHNlc3Npb24ubG9hZFNlc3Npb24odXRpbHMuUXVlcnlTdHJpbmdbXCJuYW1lXCJdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbG9hZE1haW4oKTtcbiAgICB9XG59XG5cblxuZnVuY3Rpb24gZ2V0SHRtbChsYWJlbCwganNvbiwgZGF5KSB7XG4gICAgaWYgKHBhcnNlSW50KGpzb24ubWV0ZXJzKSA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBodG1sID0gJyc7XG4gICAgaWYgKGRheSkge1xuICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+RGF5PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBqc29uLnN0YXJ0LnN1YnN0cigyLCBqc29uLnN0YXJ0Lmxhc3RJbmRleE9mKCdUJykgLSAyKSArICc8L2Rpdj48L2Rpdj4nO1xuICAgIH1cbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+U3RhcnQ6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBqc29uLnN0YXJ0LnN1YnN0cihqc29uLnN0YXJ0Lmxhc3RJbmRleE9mKCdUJykgKyAxLCA4KSArICc8L2Rpdj48L2Rpdj4nO1xuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5UaW1lOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2xcIj4nICsgdXRpbHMuZm10TVNTKHBhcnNlSW50KGpzb24uc2Vjb25kcykpICsgJzwvZGl2PjwvZGl2Pic7XG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPkxlbmd0aDo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIHBhcnNlSW50KGpzb24ubWV0ZXJzKSArICcgbSAoJyArIHBhcnNlSW50KGpzb24ucm91dGVMYXApICsgJyk8L2Rpdj48L2Rpdj4nO1xuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5QYWNlOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2xcIj4nICsgTWF0aC5yb3VuZChwYXJzZUZsb2F0KGpzb24ucGFjZSkgKiAzLjYgKiAxMCkgLyAxMCArICcga20vdDwvZGl2PjwvZGl2Pic7XG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPjUwMG06PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyB1dGlscy5mbXRNU1MocGFyc2VJbnQoanNvbi5sYXBQYWNlKSkgKyAnPC9kaXY+PC9kaXY+JztcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+Mms6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyB1dGlscy5mbXRNU1MocGFyc2VJbnQoanNvbi50b3dLUGFjZSkpICsgJzwvZGl2PjwvZGl2Pic7XG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPkF2Zy5XOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2xcIj4nICsgTWF0aC5yb3VuZChwYXJzZUZsb2F0KGpzb24ud2F0dCkgKiAxMCkgLyAxMCArICd3PC9kaXY+PC9kaXY+JztcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+U1I6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoanNvbi5zdHJva2UpICogMTApIC8gMTAgKyAnPC9kaXY+PC9kaXY+JztcbiAgICBpZiAocGFyc2VJbnQoanNvbi5ocikgPiAwKSB7XG4gICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5IUjo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sICcgKyB1dGlscy5nZXRIZWFydFJhdGVDb2xvcihwYXJzZUludChqc29uLmhyKSkgKyAnXCI+JyArIHBhcnNlSW50KGpzb24uaHIpICsgKHBhcnNlSW50KGpzb24uYXZnSHIpID4gMCA/ICcoJyArIHBhcnNlSW50KGpzb24uYXZnSHIpICsgJyknIDogJycpICsgJzwvZGl2PjwvZGl2Pic7XG4gICAgfVxuICAgIGlmIChqc29uLmZpbGVOYW1lKSB7XG4gICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sXCI+QWN0aW9uczo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+PGEgaHJlZj1cIi9zZXNzaW9ucy8nICsganNvbi5maWxlTmFtZTtcbiAgICAgICAgaHRtbCArPSAnXCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmZpbGVfZG93bmxvYWQ8L2k+PGEgY2xhc3M9XCJzdHJhdmFcIiBocmVmPVwiL3N0cmF2YS91cGxvYWQvJyArIGpzb24ubmFtZTtcbiAgICAgICAgaHRtbCArPSAnXCI+PGkgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdGl0bGU9XCJVcGxvYWQgdG8gc3RyYXZhXCIgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmNsb3VkX3VwbG9hZDwvaT48L2E+JztcbiAgICAgICAgaHRtbCArPSAnPGEgY2xhc3M9XCJzZXNzaW9uc1wiIGRhdGEtbmFtZT1cIicgKyBqc29uLm5hbWUgKyAnXCIgaHJlZj1cIi9zZXNzaW9uc1wiPjxpIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHRpdGxlPVwiU2Vzc2lvblwiIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5maWJlcl9uZXc8L2k+PC9hPjwvZGl2PjwvZGl2Pic7XG4gICAgfVxuICAgIHJldHVybiBodG1sICsgXCJcIjtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCB7IGxvYWRNYWluLCBzdGFydCwgZ2V0X3Jvd0luZm8sIGdldEh0bWwsIHN0YXJ0Um93LCBzdG9wUm93LCBsb2FkLCB1cGxvYWRUb1N0cmF2YSB9OyIsImltcG9ydCB1dGlscyBmcm9tICcuL3V0aWxzL3V0aWxzJztcbmltcG9ydCBmcm9udCBmcm9tICcuL2Zyb250L2luZGV4JztcbmltcG9ydCByb3V0ZSBmcm9tICcuL3JvdXRlL2luZGV4JztcbmltcG9ydCB1c2VyIGZyb20gJy4vdXNlci9pbmRleCc7XG5pbXBvcnQgbWFwVXRpbHMgZnJvbSAnLi91dGlscy9tYXBVdGlscydcbmltcG9ydCBtYXAgZnJvbSAnLi9tYXAvaW5kZXgnXG5pbXBvcnQgaGlzdG9yeSBmcm9tICcuL2hpc3RvcnkvaW5kZXgnXG5pbXBvcnQgc2Vzc2lvbiBmcm9tICcuL3Nlc3Npb24vaW5kZXgnXG5cbi8qKlxuICogRGVjbGFyZXMgYSBuZXcgb2JqZWN0IGluIHRoZSB3aW5kb3cgbmFtZWx5IFF1ZXJ5U3RyaW5nIHRoYXQgY29udGFpbnMgZXZlcnkgZ2V0IHBhcmFtZXRlciBmcm9tIHRoZSBjdXJyZW50IFVSTCBhcyBhIHByb3BlcnR5XG4gKi9cbndpbmRvdy5RdWVyeVN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIGFub255bW91cywgaXMgZXhlY3V0ZWQgaW1tZWRpYXRlbHkgYW5kIFxuICAgIC8vIHRoZSByZXR1cm4gdmFsdWUgaXMgYXNzaWduZWQgdG8gUXVlcnlTdHJpbmchXG4gICAgdmFyIHF1ZXJ5X3N0cmluZyA9IHt9O1xuICAgIHZhciBxdWVyeSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpO1xuICAgIHZhciB2YXJzID0gcXVlcnkuc3BsaXQoXCImXCIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwYWlyID0gdmFyc1tpXS5zcGxpdChcIj1cIik7XG5cbiAgICAgICAgLy8gSWYgZmlyc3QgZW50cnkgd2l0aCB0aGlzIG5hbWVcbiAgICAgICAgaWYgKHR5cGVvZiBxdWVyeV9zdHJpbmdbcGFpclswXV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcbiAgICAgICAgICAgIC8vIElmIHNlY29uZCBlbnRyeSB3aXRoIHRoaXMgbmFtZVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBxdWVyeV9zdHJpbmdbcGFpclswXV0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHZhciBhcnIgPSBbcXVlcnlfc3RyaW5nW3BhaXJbMF1dLCBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSldO1xuICAgICAgICAgICAgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID0gYXJyO1xuICAgICAgICAgICAgLy8gSWYgdGhpcmQgb3IgbGF0ZXIgZW50cnkgd2l0aCB0aGlzIG5hbWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXS5wdXNoKGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcXVlcnlfc3RyaW5nO1xufSgpO1xuXG4kKGZ1bmN0aW9uICgpIHtcblxuICAgIC8qKiBJbml0IHNoYXJlZCAqL1xuICAgIGZyb250LmdldF9yb3dJbmZvKGZhbHNlLCBcIlwiKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5tYWluJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZnJvbnQubG9hZE1haW4oKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJyN1c2VyJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdXNlci5sb2FkVXNlcigpO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnI2hpc3RvcnktcGFnZSBhJywgaGlzdG9yeS5vcGVuSGlzdG9yeSk7XG5cbiAgICAvL1RPRE86IHJlZmFjdG9yeVxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJyNyb3V0ZS1wYWdlIGEnLCByb3V0ZS5vcGVuUm91dGUpO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLm5hdi1saW5rJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgJCgnI21haW4tbmF2JykuZmluZChcIi5uYXYtaXRlbVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgIH0pO1xuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLnNlc3Npb25zJywgc2Vzc2lvbi5jbGlja1Nlc3Npb24pO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnYSNoaXN0b3J5JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaGlzdG9yeS5sb2FkSGlzdG9yeUluZGV4KDAsIDApO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnYSNyb3V0ZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJvdXRlLmxvYWRSb3V0ZSgwKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwibG9hZC1tYXBcIiwgJy5ncHgtdHJhY2snLCBtYXBVdGlscy5sb2FkR3B4TWFwKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJ2J1dHRvbiNzdGFydFJvdycsIGZyb250LnN0YXJ0Um93KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJ2J1dHRvbiNzdG9wUm93JywgZnJvbnQuc3RvcFJvdyk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcuZWRpdC11c2VyJywgdXNlci5lZGl0VXNlcik7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcuZWRpdC1yb3V0ZScsIHJvdXRlLmVkaXRSb3V0ZSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcuc3RyYXZhJywgZnJvbnQudXBsb2FkVG9TdHJhdmEpO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLmRlbC1zZXNzaW9uJywgc2Vzc2lvbi5kZWxldGVTZXNzaW9uKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIjc2F2ZS1yb3V0ZVwiLCByb3V0ZS5zYXZlUm91dGUpO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIiNzYXZlLXVzZXJcIiwgdXNlci5zYXZlVXNlcik7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcuZGVsLXVzZXInLCB1c2VyLmRlbGV0ZVVzZXIpO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLmRlbC1yb3V0ZScsIHJvdXRlLmRlbGV0ZVJvdXRlKTtcblxuICAgICQoJyNsb2FkJykuZWFjaChmcm9udC5sb2FkKTtcblxuICAgICQoJyNyb3V0ZXMnKS5lYWNoKHJvdXRlLmxvYWRSb3V0ZXMpO1xuXG4gICAgJCgnI3Nlc3Npb24tdXNlcicpLmVhY2godXNlci5sb2FkVXNlcnMpO1xuXG4gICAgJChkb2N1bWVudCkub24oJ3Nob3cuYnMubW9kYWwnLCAnI3Nob3ctcm91dGUtbW9kYWwnLCByb3V0ZS5zaG93Um91dGVNb2RhbCk7XG5cbiAgICAkKGRvY3VtZW50KS5vbignc2hvd24uYnMubW9kYWwnLCAnI3Nob3ctcm91dGUtbW9kYWwnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgbmFtZSA9ICQoZS5yZWxhdGVkVGFyZ2V0KS5kYXRhKCdyb3V0ZS1uYW1lJyk7XG4gICAgICAgIG1hcFV0aWxzLmFkZFJvdXRlVHJhY2tUb01hcChuYW1lLCAkKFwiI2xpdmUtcm91dGUtbWFwXCIpKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2hhbmdlXCIsICcjcm91dGVzJywgcm91dGUuY2hhbmdlUm91dGVTZWxlY3QpO1xufSk7XG5cblxuXG5cblxuXG4iXSwic291cmNlUm9vdCI6IiJ9