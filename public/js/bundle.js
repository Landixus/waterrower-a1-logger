!function(e){var t={};function a(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";a.r(t);const s=2.8;var n={calcWatt:function(e){return s/Math.pow(e,3)},sessionNameToReadable:function(e){return moment(e.slice(0,13)+":"+e.slice(13,15)+":"+e.slice(15)).format("YYYY-MM-DD hh:mm:ss")},getHeartRateColor:function(e){return e<125?"text-success":e<150?"text-primary":e<175?"text-warning":"text-danger"},getUrlParameter:function(e){var t,a,s=decodeURIComponent(window.location.search.substring(1)).split("&");for(a=0;a<s.length;a++)if((t=s[a].split("="))[0]===e)return void 0===t[1]||t[1]},fmtMSS:function(e){var t=new Date(null);return t.setSeconds(e),t.toISOString().substr(11,8)}};const o=100/4.805*6,i=10;var r={RATION:o,PAGE_SIZE:i,UPDATE_FREQ:1e3,run:!1};var l={addGraph:function(e,t,a,s){for(var i=[],r=[],l=[],d=1,c=1;c<e.length;c++){var u=parseInt(e[c]),p=parseInt(s[d]),f=(u-a)/1e3,v=o/100;i.push(v/f*3.6);var m=n.calcWatt(f/v);r.push(m),l.push(6e4/(p-parseInt(s[d-1]))),a=parseInt(e[c]),u>p&&d++}var h=[],g=[],y=[],b=[],w=[],x=10;for(e.length>1e3&&(x=20);e.length;){var I,k=e.splice(0,x),S=parseInt(k.reduce(function(e,t){return e+t})/k.length);if(w.push(new Date(S).toISOString().substr(new Date(S).toISOString().lastIndexOf("T")+1,8)),t&&(I=t.splice(0,x)).length>0&&g.push(parseInt(I.reduce(function(e,t){return e+t})/I.length)),l&&(I=l.splice(0,x)).length>0&&b.push(Math.round(10*parseFloat(I.reduce(function(e,t){return e+t})/I.length))/10),i){var M=i.splice(0,x),T=r.splice(0,x);M.length>0&&h.push(Math.round(10*parseFloat(M.reduce(function(e,t){return e+t})/M.length))/10),T.length>0&&y.push(Math.round(10*parseFloat(T.reduce(function(e,t){return e+t})/T.length))/10)}}var R=$("#hr-graph"),N={labels:w,datasets:[{label:"Heart rate (bpm)",borderColor:"#dc3545",backgroundColor:"#dc3545",fill:!1,data:g,yAxisID:"y-axis-1"},{label:"Speed (km/t)",borderColor:"#007bff",backgroundColor:"#007bff",fill:!1,data:h,yAxisID:"y-axis-2"},{label:"Watt",borderColor:"#4bc0c0",backgroundColor:"#4bc0c0",fill:!1,data:y,lineTension:0,yAxisID:"y-axis-3"},{label:"Stroke rate (spm)",borderColor:"#9966FF",backgroundColor:"#9966FF",fill:!1,data:b,yAxisID:"y-axis-4"}]};Chart.Line(R,{data:N,options:{responsive:!0,hoverMode:"index",stacked:!1,scales:{yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1",ticks:{suggestedMin:30,min:0,stepSize:5}},{type:"linear",display:!0,position:"right",id:"y-axis-2",ticks:{stepSize:2},gridLines:{drawOnChartArea:!1}},{type:"linear",display:!0,position:"right",id:"y-axis-3",ticks:{stepSize:25},gridLines:{drawOnChartArea:!1}},{type:"linear",display:!0,position:"right",id:"y-axis-4",ticks:{stepSize:2,suggestedMin:10},gridLines:{drawOnChartArea:!1}}]}}})}},d={livePoints:[],liveMap:{},liveBounds:{}};const c=[{featureType:"landscape",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]}];function u(){d.liveMap=new google.maps.Map(document.getElementById("live-map"),{zoom:8,maxZoom:16}),d.liveBounds=new google.maps.LatLngBounds,d.liveMap.set("styles",c)}function p(e){return new google.maps.Polyline({path:e,strokeColor:"#FF00AA",strokeOpacity:.7,strokeWeight:4})}var f=function(e,t){e&&$.ajax({type:"GET",url:"/sessions/"+e+".gpx",success:function(e){var a=[],s=new google.maps.Map(t[0],{zoom:16});s.set("styles",c);var n=new google.maps.LatLngBounds;$(e).find("trkpt").each(function(){var e=$(this).attr("lat"),t=$(this).attr("lon"),s=new google.maps.LatLng(e,t);a.push(s),n.extend(s)}),p(a).setMap(s),s.fitBounds(n)}})};var v={cleanMap:function(){u(),d.livePoints=[],p(d.livePoints).setMap(d.liveMap),d.liveMap.fitBounds(d.liveBounds)},initMap:u,styles:c,addRouteTrackToMap:function(e,t){e&&$.ajax({type:"GET",url:"/routes/"+e,success:function(e){var a=[],s=new google.maps.Map(t[0],{zoom:8,maxZoom:16});s.set("styles",c);var n=new google.maps.LatLngBounds;e.gps.forEach(function(e){var t=e.lat,s=e.lon,o=new google.maps.LatLng(t,s);a.push(o),n.extend(o)}),p(a).setMap(s),s.fitBounds(n)}})},addGpxTrackToMap:f,loadGpxMap:function(){var e=$(this).data("name"),t=$(this).find(".card-map-top");f(e,t)}},m=function(e,t,a){return e+="<tr>",e+='<th scope="row">'+(t+1)+"</th>",e+='<td><a data-toggle="modal" data-route-name="'+a.name+'" data-target="#show-route-modal" href="/routes/'+a.name+'">'+a.name+"</a></td>",e+="<td>"+parseInt(a.meters)+"m</td>",e+="<td>"+a.country+"</td>",e+="<td>",!0!==a.permanent&&(e+='<a class="edit-route" href="#" data-id="'+a.name+'"><i class="material-icons">create</i></a><a class="del-route" href="#" data-id="'+a.name+'"><i aria-hidden="true" title="Delete route" class="material-icons">delete</i></a></td>'),e+="</tr>"};function h(e){$("#load").load("/route",function(){$(this).find("#routes-t").each(function(){y(0),g($("#routes-table").find(".page")[0],e)})})}function g(e,t){var a=$('<ul id="route-page" data-index="'+t+'"></ul>').addClass("pagination pagination-lg");$.get("routes/size",function(s){var n=parseInt(parseInt(s)/i)+1,o=t===n-1?"disabled":"",r=$('<li class="page-item '+(0===t?"disabled":"")+'"></li>').append('<a class="page-link" href="#" data-next="-1" tabindex="-1">Previous</a>'),l=$('<li class="page-item '+o+'"></li>').append('<a class="page-link" data-next="1" href="#">Next</a>');a.append(r);for(var d=0;d<n;d++){var c="";t===d&&(c="active");var u=$('<li class="page-item '+c+'"><a class="page-link" data-index="'+d+'" href="#">'+(d+1)+"</a></li>");a.append(u)}a.append(l),$(e).html(a)})}function y(e){var t=e*i,a=(e+1)*i-1;$.get("/routes/"+t+"/"+a,function(t){var a="",s=0;t.forEach(function(t){a=m(a,s+e*i,t),s++}),$("#routes-table-body").html(a),$("#add-route-modal").on("hidden.bs.modal",function(e){h(0)})})}var b={loadRoutes:function(){var e=this;$.get("/row/routes",function(t){var a="",s="";t.sort(function(e,t){return e.country>t.country?1:t.country>e.country?-1:0});var n='selected="selected"';t.forEach(function(e){e.country!==s&&(a+='<optgroup label="'+e.country+'">',s=e.country),a+="<option "+n+' value="'+e.index+'" data-lat="'+e.gps[0].lat+'" data-lon="'+e.gps[0].lon+'">'+e.name+" ("+e.meters+"m)</option>",n=""}),$(e).html(a),n=$("#routes").find(":selected"),v.cleanMap();var o=new google.maps.LatLng($(n).data("lat"),$(n).data("lon"));d.liveMap.panTo(o)})},createRouteRecord:m,loadRoute:h,loadRouteTable:y,createRouteNavPage:g};var w={loadUsers:function(){var e=this;$.get("/users",function(t){var a="";t.forEach(function(e){a+='<option value="'+e.id+'">'+e.firstName+" "+e.lastName+"</option>"}),$(e).html(a)})},loadUser:function e(){$("#load").load("/user",function(){$(this).find("#users-body").each(function(){var t=this;$.get("/users/",function(a){for(var s="",n=0;n<a.length;n++){var o=a[n];s+='<tr><td><a href="#" data-id="'+o.id+'">'+(n+1)+"</a></td><td>"+o.firstName+"</td><td>"+o.lastName+"</td>",s+='<td><a class="edit-user" href="#" data-id="'+o.id+'"><i class="material-icons">create</i></a><a class="del-user" href="#" data-id="'+o.id+'"><i aria-hidden="true" title="Delete user" class="material-icons">delete</i></a></td></tr>'}$(t).html(s),$("#addUserModal").on("hidden.bs.modal",function(t){e()})})})})}};function x(e){$(window).scrollTop($("#main").offset().top),I(!0,"Rowing"),v.cleanMap(),$("#routes").attr("disabled","disabled"),$("#session-user").attr("disabled","disabled"),$("#startSimulator").attr("disabled","disabled"),$(e).attr("disabled","disabled"),$(e).html("Rowing..."),$(e).addClass("d-none"),$("#stopRow").removeClass("d-none")}function I(e,t){r.run=e,$.get("/row",function(e){var a=k(t,e);if(a){$("#table-content").html(a),$("#laps-body").html(getLapHtml(t,e,!0));var s=e.gps.lat,n=e.gps.lon,o=new google.maps.LatLng(s,n);if(map.livePoints.push(o),map.liveBounds)map.liveBounds.extend(o),v.createPolyLine(map.livePoints).setMap(map.liveMap),map.liveMap.fitBounds(map.liveBounds)}}).done(function(){r.run&&(timeOut=setTimeout(function(){I(!0,t)},UPDATE_FREQ))})}function k(e,t,a){if(0!==parseInt(t.meters)){var s="";return a&&(s+='<div class="row"><div class="col-sm-4">Day</div><div class="col">'+t.start.substr(2,t.start.lastIndexOf("T")-2)+"</div></div>"),s+='<div class="row"><div class="col-sm-4">Start:</div><div class="col">'+t.start.substr(t.start.lastIndexOf("T")+1,8)+"</div></div>",s+='<div class="row"><div class="col-sm-4">Time:</div><div class="col">'+n.fmtMSS(parseInt(t.seconds))+"</div></div>",s+='<div class="row"><div class="col-sm-4">Length:</div><div class="col">'+parseInt(t.meters)+" m ("+parseInt(t.routeLap)+")</div></div>",s+='<div class="row"><div class="col-sm-4">Pace:</div><div class="col">'+Math.round(3.6*parseFloat(t.pace)*10)/10+" km/t</div></div>",s+='<div class="row"><div class="col-sm-4">500m:</div><div class="col">'+n.fmtMSS(parseInt(t.lapPace))+"</div></div>",s+='<div class="row"><div class="col-sm-4">2k:</div><div class="col">'+n.fmtMSS(parseInt(t.towKPace))+"</div></div>",s+='<div class="row"><div class="col-sm-4">Avg.W:</div><div class="col">'+Math.round(10*parseFloat(t.watt))/10+"w</div></div>",s+='<div class="row"><div class="col-sm-4">SR:</div><div class="col">'+Math.round(10*parseFloat(t.stroke))/10+"</div></div>",parseInt(t.hr)>0&&(s+='<div class="row"><div class="col-sm-4">HR:</div><div class="col '+n.getHeartRateColor(parseInt(t.hr))+'">'+parseInt(t.hr)+(parseInt(t.avgHr)>0?"("+parseInt(t.avgHr)+")":"")+"</div></div>"),t.fileName&&(s+='<div class="row"><div class="col">Actions:</div><div class="col"><a href="/sessions/'+t.fileName,s+='"><i class="material-icons">file_download</i><a class="strava" href="/strava/upload/'+t.name,s+='"><i aria-hidden="true" title="Upload to strava" class="material-icons">cloud_upload</i></a>',s+='<a class="sessions" data-name="'+t.name+'" href="/sessions"><i aria-hidden="true" title="Session" class="material-icons">fiber_new</i></a></div></div>'),s+""}}var S={loadMain:function(){$("#load").load("/main",function(){$(this).find("#routes").each(b.loadRoutes),$(this).find("#session-user").each(w.loadUsers),$.get("/row/status",function(e){if("ROWING"===e.status){var t=$("#startRow");n.getUrlParameter("test")&&(t=$("#startSimulator")),x(t)}}),n.getUrlParameter("test")&&$("#startRow").attr("id","startSimulator")})},start:x,get_rowInfo:I,getHtml:k};function M(e){$("#load").load("/history",function(){$(this).find("#history").each(function(){$.get("/session/0/2",function(e){var t="";e.forEach(function(e){t=R(t,e)}),$("#cards").html('<div class="col"><div class="card-deck">'+t+"</div></div>"),$(".gpx-track").each(function(){$(this).trigger("load-map",this)})}),T($(this),e)})})}function T(e,t){var a=t*i,s=(t+1)*i-1;$.get("/session/"+a+"/"+s,function(a){$.get("/users",function(s){var n="",o=0,r=s.reduce(function(e,t){return e[t.id]=t,e},{});a.forEach(function(e){n=N(n,o+t*i,e,r),o++}),$("#histor-table-body").html(n),function(e,t){var a=$('<ul id="history-page" data-index="'+t+'"></ul>').addClass("pagination pagination-lg");$.get("session/size",function(s){var n=parseInt(parseInt(s)/i)+1,o=0===t?"disabled":"",r=t===n-1?"disabled":"",l=$('<li class="page-item '+o+'"></li>').append('<a class="page-link" href="#" data-next="-1" tabindex="-1">Previous</a>'),d=$('<li class="page-item '+r+'"></li>').append('<a class="page-link" data-next="1" href="#">Next</a>');a.append(l);for(var c=0;c<n;c++){var u="";t===c&&(u="active");var p=$('<li class="page-item '+u+'"><a class="page-link" data-index="'+c+'" href="#">'+(c+1)+"</a></li>");a.append(p)}a.append(d),$(e).html(a)})}(e.find(".page"),t)})})}var R=function(e,t){return e+='<div class="card gpx-track" data-name="'+t.name+'"">',e+='<div class="card-body">',e+='<div class="card-map-top "></div>',e+='<h5 class="card-title mt-2"><a class="sessions" data-name="'+t.name+'" href="/session">'+n.sessionNameToReadable(t.name)+"</a></h5>",e+='<p class="card-text">Length: '+parseInt(t.endStats.meters)+"m, Time: "+n.fmtMSS(parseInt(t.endStats.seconds))+"</p>",e+='<a href="/strava/upload/'+t.name+'" class="btn btn-primary strava btn-block">Upload to Strava</a>',e+="</div>",e+="</div>"},N=function(e,t,a,s){var o=s[a.user];return e+="<tr>",e+='<th scope="row">'+(t+1)+"</th>",e+='<td><a class="sessions" data-name="'+a.name+'" href="/?name='+a.name+'#session">'+n.sessionNameToReadable(a.name)+"</a></td>",e+="<td>Length: "+parseInt(a.endStats.meters)+"m</td>",e+=o?"<td>"+o.firstName+" "+o.lastName+"</td>":"<td></td>",e+='<td> <a href="/sessions/'+a.name+'.gpx"><i class="material-icons md-36">file_download</i><a class="strava" href="/strava/upload/'+a.name+'"><i aria-hidden="true" title="Upload to Strava" class="material-icons md-36">cloud_upload</i></a> <a class="del-session" href="#" data-name="'+a.name+'"><i aria-hidden="true" title="Delete session local" class="material-icons md-36">delete</i></a></td>',e+="</tr>"};var L={loadHistoryIndex:function(e){M(e)},loadHistory:M,loadHistoryList:T};var C={loadSession:function(e){$("#load").load("/sessions",function(){$(this).find("#routes").each(b.loadRoutes),$(this).find("#session-user").each(w.loadUsers),$(this).find("#history-session").each(function(){$.get("/session/"+e,function(t){var a=S.getHtml("History",t.endStats,!0);$("#routes").val(t.route),$("#session-user").val(t.user),a&&($("#table-content").html(a),$("#laps-body").html(function(e,t,a){var s="";if(parseInt(t.totalLaps)>0){var o=1,i=t.laps;a&&(i.reverse(),o=i.length),i.forEach(function(e){s+='<tr><th scope="row">'+o+"</th><td>"+parseInt(e.meters)+"</td><td>"+n.fmtMSS(parseInt(e.seconds))+"</td>",s+="<td>"+Math.round(10*parseFloat(e.watt))/10+"w</td></tr>",a?o--:o++})}return s}(0,t.endStats)),v.addGpxTrackToMap(e,$("#live-map"))),l.addGraph(t.raw,t.rawHr,parseInt(t.start),t.stroke)})})})},clickSession:function(e){e.preventDefault();var t=$(this).data("name");session.loadSession(t)}};function D(e){for(var t={},a=(e.split("?")[1]||""||"").split("&"),s=0;s<a.length;s++){var n=a[s].split("=");if(void 0===t[n[0]])t[n[0]]=decodeURIComponent(n[1]);else if("string"==typeof t[n[0]]){var o=[t[n[0]],decodeURIComponent(n[1])];t[n[0]]=o}else t[n[0]].push(decodeURIComponent(n[1]))}return t}window.QueryString=function(){for(var e={},t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var s=t[a].split("=");if(void 0===e[s[0]])e[s[0]]=decodeURIComponent(s[1]);else if("string"==typeof e[s[0]]){var n=[e[s[0]],decodeURIComponent(s[1])];e[s[0]]=n}else e[s[0]].push(decodeURIComponent(s[1]))}return e}(),$(function(){S.get_rowInfo(!1,""),$(document).on("click",".main",function(e){S.loadMain()}),$(document).on("click","#user",function(e){w.loadUser()}),$(document).on("click","#history-page a",function(e){e.preventDefault();var t=parseInt($(this).data("next")),a=parseInt($(this).data("index")),s=parseInt($("#history-page").data("index"));isNaN(t)?isNaN(a)||(s=a):s+=t,L.loadHistoryList($("#history-table"),s)}),$(document).on("click","#route-page a",function(e){e.preventDefault();var t=parseInt($(this).data("next")),a=parseInt($(this).data("index")),s=parseInt($("#route-page").data("index"));isNaN(t)?isNaN(a)||(s=a):s+=t;var n=$("#routes-table").find(".page");b.createRouteNavPage(n[0],s),b.loadRouteTable(s)}),$(document).on("click",".nav-link",function(e){$("#main-nav").find(".nav-item").each(function(){$(this).removeClass("active")}),$(this).parent().addClass("active")}),$(document).on("click",".sessions",C.clickSession),$(document).on("click","a#history",function(e){L.loadHistoryIndex(0,0)}),$(document).on("click","a#route",function(e){b.loadRoute(0)}),$(document).on("load-map",".gpx-track",v.loadGpxMap),$(document).on("click","button#startRow",function(e){e.preventDefault();var t=$("#routes").val(),a=this;$.get("/row/start",{routes:t},function(){S.start(a)})}),$(document).on("click","button#stopRow",function(e){e.preventDefault();var t=$(this);clearTimeout(void 0),run=!1;var a=$("#routes").val(),s=$("#session-user").val();$.get("/row/stop",{routes:a,user:s},function(e){$("#table-content").html(S.getHtml("Stopped",e,!1));var a=$("#startRow");a.removeAttr("disabled"),a.removeClass("d-none"),a.html("Start row"),t.addClass("d-none"),$("#routes").removeAttr("disabled"),$("#session-user").removeAttr("disabled"),$("#startSimulator").removeAttr("disabled")})}),$(document).on("click",".edit-user",function(e){e.preventDefault();var t=$(this).data("id");$.ajax({url:"/users/"+t,type:"GET",success:function(e){var t=$("#addUserForm");t.find("#firstName").val(e.firstName),t.find("#lastName").val(e.lastName),t.find("#userId").val(e.id),$.get("/strava/url",function(t){var a=t.url.replace("%24",e.id);$(".strava-url").attr("href",a)}),$(".strava-connect").removeClass("sr-only"),$("#addUserModal").modal("show")}})}),$(document).on("click",".edit-route",function(e){e.preventDefault();var t=$(this).data("id");$.ajax({url:"/routes/"+t,type:"GET",success:function(e){var t=$("#addRoute");t.find("#name").val(e.name),t.find("#meters").val(e.meters),t.find("#segmentId").val(e.segmentId),t.find("#countries").val(e.country);var a=JSON.stringify(e.gps);t.find("#gps").append(a),$("#add-route-modal").modal("show")}})}),$(document).on("click",".strava",function(e){e.preventDefault();var t=$(this).attr("href");$.get(t,function(e){console.log(e),alert("Uploaded to strava!")})}),$(document).on("click",".del-session",function(e){e.preventDefault();var t=$(this).data("name");confirm("Are you sure you want to delete session?")&&$.ajax({url:"/session/del/"+t,type:"DELETE",success:function(e){alert("Session deleted"),L.loadHistoryIndex(0,0)}})}),$(document).on("click","#save-route",function(e){e.preventDefault();var t=$("#addRoute"),a={};a.name=t.find("#name").val(),a.meters=t.find("#meters").val(),a.stravaId=t.find("#segmentId").val(),a.country=t.find("#countries").val(),a.gps=t.find("textarea").val(),$.ajax({type:"PUT",contentType:"application/json",dataType:"json",url:"/routes/add",data:JSON.stringify(a),success:function(){$("#add-route-modal").modal("hide")}})}),$(document).on("click","#save-user",function(e){e.preventDefault();var t=$("#addUserForm"),a=t.find("#firstName").val(),s=t.find("#lastName").val(),n=t.find("#userId").val(),o={};o.firstName=a,o.lastName=s,o.id=n,$.ajax({type:"PUT",contentType:"application/json",dataType:"json",url:"/users/add",data:JSON.stringify(o),success:function(){$("#addUserModal").modal("hide")}})}),$(document).on("click",".del-user",function(e){e.preventDefault();var t=$(this).data("id");confirm("Are you sure you want to delete?")&&$.ajax({url:"/users/"+t,type:"DELETE",success:function(e){w.loadUser()}})}),$(document).on("click",".del-route",function(e){e.preventDefault();var t=$(this).data("id");confirm("Are you sure you want to delete route?")&&$.ajax({url:"/routes/"+t,type:"DELETE",success:function(e){b.loadRoute(0)}})}),$("#load").each(function(){switch(window.location.hash){case"#route":b.loadRoute(0);break;case"#user":w.loadUser();break;case"#history":L.loadHistory(0);break;case"#session":C.loadSession(D.name);break;default:S.loadMain()}}),$("#routes").each(b.loadRoutes),$("#session-user").each(w.loadUsers),$(document).on("show.bs.modal","#show-route-modal",function(e){var t=$(e.relatedTarget).data("route-name"),a=$(this);$.get("/routes/"+t,function(e){var t=e.name;e.segementId&&(t='<a target="_blank" href="https://www.strava.com/segments/'+e.segementId+'">'+t+" </a>"),a.find("#show-route-modal-title").html(t);var s='<li class="list-group-item"><h5 class="card-title">Display Lenght:</h5>'+e.meters+" m</li>";s+='<li class="list-group-item"><h5 class="card-title">Gps Lenght:</h5>'+e.gpsLenght+" m</li>",s+='<li class="list-group-item"><h5 class="card-title">Country:</h5>'+e.country+"</li>",a.find(".card .list-group").html(s)})}),$(document).on("shown.bs.modal","#show-route-modal",function(e){var t=$(e.relatedTarget).data("route-name");v.addRouteTrackToMap(t,$("#live-route-map"))}),$(document).on("change","#routes",function(e){var t=$("#routes").find(":selected");v.cleanMap();var a=new google.maps.LatLng($(t).data("lat"),$(t).data("lon"));d.liveMap.panTo(a)})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3V0aWxzL2dsb2JhbHMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy91dGlscy9ncmFwaFV0aWxzLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvbWFwL2luZGV4LmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvdXRpbHMvbWFwVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy9yb3V0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3VzZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy9mcm9udC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL2hpc3RvcnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy9zZXNzaW9uL2luZGV4LmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvbWFpbi5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIldBVFRfUkFUSU9OIiwidXRpbHMiLCJjYWxjV2F0dCIsInBhY2UiLCJNYXRoIiwicG93Iiwic2Vzc2lvbk5hbWVUb1JlYWRhYmxlIiwibW9tZW50Iiwic2xpY2UiLCJmb3JtYXQiLCJnZXRIZWFydFJhdGVDb2xvciIsImhyIiwiZ2V0VXJsUGFyYW1ldGVyIiwic1BhcmFtIiwic1BhcmFtZXRlck5hbWUiLCJzVVJMVmFyaWFibGVzIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJzdWJzdHJpbmciLCJzcGxpdCIsImxlbmd0aCIsInVuZGVmaW5lZCIsImZtdE1TUyIsImRhdGUiLCJEYXRlIiwic2V0U2Vjb25kcyIsInRvSVNPU3RyaW5nIiwic3Vic3RyIiwiUkFUSU9OIiwiUEFHRV9TSVpFIiwiZ2xvYmFscyIsIlVQREFURV9GUkVRIiwicnVuIiwiZ3JhcGhVdGlscyIsImFkZEdyYXBoIiwidGltZSIsInN0YXJ0Iiwic3Ryb2tlcyIsInNwZWVkIiwid2F0dCIsInN0cm9rZSIsInN0cm9rZUNvbnRlciIsInRpbWVWYWwiLCJwYXJzZUludCIsInN0cm9rZVRpbWUiLCJzZWMiLCJsZW5naHQiLCJwdXNoIiwid2F0dFZhbHVlIiwic3BlZWRNZXJnZWQiLCJock1lcmdlZCIsIndhdHRNZXJnZWQiLCJzdHJva2VNZXJnZWQiLCJsYWJlbHNNZXJnZWQiLCJtZXJnZVNpemUiLCJoIiwiYSIsInNwbGljZSIsInRpbWVWIiwicmVkdWNlIiwiYiIsImxhc3RJbmRleE9mIiwicm91bmQiLCJwYXJzZUZsb2F0IiwidyIsImN0eCIsIiQiLCJsaW5lQ2hhcnREYXRhIiwibGFiZWxzIiwiZGF0YXNldHMiLCJsYWJlbCIsImJvcmRlckNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwiZmlsbCIsImRhdGEiLCJ5QXhpc0lEIiwibGluZVRlbnNpb24iLCJDaGFydCIsIkxpbmUiLCJvcHRpb25zIiwicmVzcG9uc2l2ZSIsImhvdmVyTW9kZSIsInN0YWNrZWQiLCJzY2FsZXMiLCJ5QXhlcyIsInR5cGUiLCJkaXNwbGF5IiwicG9zaXRpb24iLCJpZCIsInRpY2tzIiwic3VnZ2VzdGVkTWluIiwibWluIiwic3RlcFNpemUiLCJncmlkTGluZXMiLCJkcmF3T25DaGFydEFyZWEiLCJzcmNfbWFwIiwibGl2ZVBvaW50cyIsImxpdmVNYXAiLCJsaXZlQm91bmRzIiwic3R5bGVzIiwiZmVhdHVyZVR5cGUiLCJzdHlsZXJzIiwic2F0dXJhdGlvbiIsImxpZ2h0bmVzcyIsInZpc2liaWxpdHkiLCJlbGVtZW50VHlwZSIsImh1ZSIsImluaXRNYXAiLCJnb29nbGUiLCJtYXBzIiwiTWFwIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInpvb20iLCJtYXhab29tIiwiTGF0TG5nQm91bmRzIiwic2V0IiwiY3JlYXRlUG9seUxpbmUiLCJwb2ludHMiLCJQb2x5bGluZSIsInBhdGgiLCJzdHJva2VDb2xvciIsInN0cm9rZU9wYWNpdHkiLCJzdHJva2VXZWlnaHQiLCJhZGRHcHhUcmFja1RvTWFwIiwiZWxlbWVudCIsImFqYXgiLCJ1cmwiLCJzdWNjZXNzIiwieG1sIiwibWFwIiwiYm91bmRzIiwiZmluZCIsImVhY2giLCJsYXQiLCJ0aGlzIiwiYXR0ciIsImxvbiIsIkxhdExuZyIsImV4dGVuZCIsInNldE1hcCIsImZpdEJvdW5kcyIsIm1hcFV0aWxzIiwiY2xlYW5NYXAiLCJhZGRSb3V0ZVRyYWNrVG9NYXAiLCJncHMiLCJmb3JFYWNoIiwicG9pbnQiLCJsb2FkR3B4TWFwIiwiY3JlYXRlUm91dGVSZWNvcmQiLCJodG1sVGFibGUiLCJpbmRleCIsInJvdXRlIiwibWV0ZXJzIiwiY291bnRyeSIsInBlcm1hbmVudCIsImxvYWRSb3V0ZSIsIm1haW5JbmRleCIsImxvYWQiLCJsb2FkUm91dGVUYWJsZSIsImNyZWF0ZVJvdXRlTmF2UGFnZSIsInBhZ2UiLCJodG1sRWxlbWVudCIsImFkZENsYXNzIiwic2l6ZSIsIm5leHREaXNhYmxlZCIsInByZXYiLCJhcHBlbmQiLCJuZXh0IiwiYWN0aXZlIiwiaXRlbSIsImh0bWwiLCJzdG9wIiwib24iLCJlIiwic3JjX3JvdXRlIiwibG9hZFJvdXRlcyIsInRoYXQiLCJncm91cCIsInNvcnQiLCJzZWxlY3RlZCIsInBhblRvIiwic3JjX3VzZXIiLCJsb2FkVXNlcnMiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImxvYWRVc2VyIiwidXNlciIsImZyb250X3N0YXJ0Iiwic3RhcnRCdXR0b24iLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJnZXRfcm93SW5mbyIsInJlbW92ZUNsYXNzIiwiY29udGludWVzIiwidGl0bGUiLCJnZXRIdG1sIiwiZ2V0TGFwSHRtbCIsImRvbmUiLCJ0aW1lT3V0Iiwic2V0VGltZW91dCIsImpzb24iLCJkYXkiLCJzZWNvbmRzIiwicm91dGVMYXAiLCJsYXBQYWNlIiwidG93S1BhY2UiLCJhdmdIciIsImZpbGVOYW1lIiwiZnJvbnQiLCJsb2FkTWFpbiIsInN0YXR1cyIsImxvYWRIaXN0b3J5IiwiaHRtbENhcmRzIiwic2Vzc2lvbiIsImNyZWF0ZUNhcmQiLCJ0cmlnZ2VyIiwibG9hZEhpc3RvcnlMaXN0IiwidXNlcnMiLCJ1c2VyTWFwIiwib2JqIiwiY3JlYXRlTGFwVGFibGVSZWNvcmQiLCJwcmV2RGlzYWJsZWQiLCJjcmVhdGVIaXN0b3J5TmF2UGFnZSIsImVuZFN0YXRzIiwic3JjX2hpc3RvcnkiLCJsb2FkSGlzdG9yeUluZGV4Iiwic3JjX3Nlc3Npb24iLCJsb2FkU2Vzc2lvbiIsInZhbCIsInJldmVyc2UiLCJ0b3RhbExhcHMiLCJsYXBOdW0iLCJsYXBzIiwic2Vzc2lvbl9nZXRMYXBIdG1sIiwicmF3IiwicmF3SHIiLCJjbGlja1Nlc3Npb24iLCJwcmV2ZW50RGVmYXVsdCIsIlF1ZXJ5U3RyaW5nIiwiVVJMIiwicXVlcnlfc3RyaW5nIiwidmFycyIsInBhaXIiLCJhcnIiLCJpc05hTiIsInBhZyIsInBhcmVudCIsInJvdXRlcyIsImNsZWFyVGltZW91dCIsIm1haW5fdGltZU91dCIsInN0YXJ0Um93IiwicmVtb3ZlQXR0ciIsInJlc3VsdCIsImZvcm0iLCJyZXBsYWNlIiwibW9kYWwiLCJzZWdtZW50SWQiLCJncHNDdnMiLCJKU09OIiwic3RyaW5naWZ5IiwiaHJlZiIsImNvbnNvbGUiLCJsb2ciLCJhbGVydCIsImNvbmZpcm0iLCJldmVudCIsInN0cmF2YUlkIiwiY29udGVudFR5cGUiLCJkYXRhVHlwZSIsImhhc2giLCJyZWxhdGVkVGFyZ2V0Iiwic2VnZW1lbnRJZCIsImdwc0xlbmdodCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxVQUN6QyxFQUFBRSxHQUFBLGlCQUFBRixFQUFBLFFBQUFNLEtBQUFOLEVBQUFyQixFQUFBVSxFQUFBZSxFQUFBRSxFQUFBLFNBQUFBLEdBQWdILE9BQUFOLEVBQUFNLElBQXFCQyxLQUFBLEtBQUFELElBQ3JJLE9BQUFGLEdBSUF6QixFQUFBNkIsRUFBQSxTQUFBMUIsR0FDQSxJQUFBUyxFQUFBVCxLQUFBcUIsV0FDQSxXQUEyQixPQUFBckIsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSCxFQUFBVSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFaLEVBQUFhLEVBQUEsU0FBQWlCLEVBQUFDLEdBQXNELE9BQUFqQixPQUFBa0IsVUFBQUMsZUFBQTFCLEtBQUF1QixFQUFBQyxJQUd0RC9CLEVBQUFrQyxFQUFBLEdBSUFsQyxJQUFBbUMsRUFBQSx5Q0NsRkEsTUFBQUMsRUFBQSxJQTJDZSxJQUFBQyxHQUFDQyxTQXpDaEIsU0FBQUMsR0FDQSxPQUFBSCxFQUFBSSxLQUFBQyxJQUFBRixFQUFBLElBd0NnQkcsc0JBckNoQixTQUFBL0IsR0FDQSxPQUFBZ0MsT0FBQWhDLEVBQUFpQyxNQUFBLFVBQUFqQyxFQUFBaUMsTUFBQSxXQUFBakMsRUFBQWlDLE1BQUEsS0FBQUMsT0FBQSx3QkFvQ2dCQyxrQkFqQ2hCLFNBQUFDLEdBQ0EsT0FBQUEsRUFBQSxJQUNBLGVBQ0tBLEVBQUEsSUFDTCxlQUNLQSxFQUFBLElBQ0wsZUFFQSxlQXlCZ0JDLGdCQXJCaEIsU0FBQUMsR0FDQSxJQUVBQyxFQUNBOUMsRUFGQStDLEVBREFDLG1CQUFBQyxPQUFBQyxTQUFBQyxPQUFBQyxVQUFBLElBQ0FDLE1BQUEsS0FJQSxJQUFBckQsRUFBQSxFQUFlQSxFQUFBK0MsRUFBQU8sT0FBMEJ0RCxJQUd6QyxJQUZBOEMsRUFBQUMsRUFBQS9DLEdBQUFxRCxNQUFBLE1BRUEsS0FBQVIsRUFDQSxZQUFBVSxJQUFBVCxFQUFBLElBQUFBLEVBQUEsSUFXZ0JVLE9BTmhCLFNBQUF6QixHQUNBLElBQUEwQixFQUFBLElBQUFDLEtBQUEsTUFFQSxPQURBRCxFQUFBRSxXQUFBNUIsR0FDQTBCLEVBQUFHLGNBQUFDLE9BQUEsUUN4Q08sTUFBQUMsRUFBQSxZQUNBQyxFQUFBLEdBRUEsSUFHUUMsR0FBQ0YsU0FBQUMsWUFBQUUsWUFKUSxJQUl1QkMsS0FIakMsR0NnS0MsSUFBQUMsR0FBQ0MsU0FoS2hCLFNBQUFDLEVBQUExQixFQUFBMkIsRUFBQUMsR0FLQSxJQUpBLElBQUFDLEtBQ0FDLEtBQ0FDLEtBQ0FDLEVBQUEsRUFDQTNFLEVBQUEsRUFBbUJBLEVBQUFxRSxFQUFBZixPQUFpQnRELElBQUEsQ0FDcEMsSUFBQTRFLEVBQUFDLFNBQUFSLEVBQUFyRSxJQUNBOEUsRUFBQUQsU0FBQU4sRUFBQUksSUFDQUksR0FBQUgsRUFBQU4sR0FBQSxJQUNBVSxFQUFzQmxCLEVBQU0sSUFDNUJVLEVBQUFTLEtBQUFELEVBQUFELEVBQUEsS0FDQSxJQUFBRyxFQUF3QmpELEVBQUtDLFNBQUE2QyxFQUFBQyxHQUM3QlAsRUFBQVEsS0FBQUMsR0FDQVIsRUFBQU8sS0FBQSxLQUFBSCxFQUFBRCxTQUFBTixFQUFBSSxFQUFBLE1BQ0FMLEVBQUFPLFNBQUFSLEVBQUFyRSxJQUNBNEUsRUFBQUUsR0FDQUgsSUFLQSxJQUFBUSxLQUNBQyxLQUNBQyxLQUNBQyxLQUNBQyxLQUNBQyxFQUFBLEdBS0EsSUFKQW5CLEVBQUFmLE9BQUEsTUFDQWtDLEVBQUEsSUFHQW5CLEVBQUFmLFFBQUEsQ0FDQSxJQVVBbUMsRUFWQUMsRUFBQXJCLEVBQUFzQixPQUFBLEVBQUFILEdBQ0FJLEVBQUFmLFNBQUFhLEVBQUFHLE9BQUEsU0FBQUgsRUFBQUksR0FBdUQsT0FBQUosRUFBQUksSUFBZ0JKLEVBQUFwQyxRQWN2RSxHQWJBaUMsRUFBQU4sS0FBQSxJQUFBdkIsS0FBQWtDLEdBQUFoQyxjQUFBQyxPQUFBLElBQUFILEtBQUFrQyxHQUFBaEMsY0FBQW1DLFlBQUEsV0FDQXBELElBQ0E4QyxFQUFBOUMsRUFBQWdELE9BQUEsRUFBQUgsSUFDQWxDLE9BQUEsR0FDQThCLEVBQUFILEtBQUFKLFNBQUFZLEVBQUFJLE9BQUEsU0FBQUgsRUFBQUksR0FBaUUsT0FBQUosRUFBQUksSUFBZ0JMLEVBQUFuQyxTQUdqRm9CLElBQ0FlLEVBQUFmLEVBQUFpQixPQUFBLEVBQUFILElBQ0FsQyxPQUFBLEdBQ0FnQyxFQUFBTCxLQUFBN0MsS0FBQTRELE1BQWtHLEdBQWxHQyxXQUFBUixFQUFBSSxPQUFBLFNBQUFILEVBQUFJLEdBQWtGLE9BQUFKLEVBQUFJLElBQWdCTCxFQUFBbkMsU0FBQSxJQUdsR2tCLEVBQUEsQ0FDQSxJQUFBekMsRUFBQXlDLEVBQUFtQixPQUFBLEVBQUFILEdBQ0FVLEVBQUF6QixFQUFBa0IsT0FBQSxFQUFBSCxHQUNBekQsRUFBQXVCLE9BQUEsR0FDQTZCLEVBQUFGLEtBQUE3QyxLQUFBNEQsTUFBaUcsR0FBakdDLFdBQUFsRSxFQUFBOEQsT0FBQSxTQUFBSCxFQUFBSSxHQUFpRixPQUFBSixFQUFBSSxJQUFnQi9ELEVBQUF1QixTQUFBLElBRWpHNEMsRUFBQTVDLE9BQUEsR0FDQStCLEVBQUFKLEtBQUE3QyxLQUFBNEQsTUFBZ0csR0FBaEdDLFdBQUFDLEVBQUFMLE9BQUEsU0FBQUgsRUFBQUksR0FBZ0YsT0FBQUosRUFBQUksSUFBZ0JJLEVBQUE1QyxTQUFBLEtBS2hHLElBQUE2QyxFQUFBQyxFQUFBLGFBQ0FDLEdBQ0FDLE9BQUFmLEVBQ0FnQixXQUNBQyxNQUFBLG1CQUNBQyxZQUFBLFVBQ0FDLGdCQUFBLFVBQ0FDLE1BQUEsRUFDQUMsS0FBQXhCLEVBRUF5QixRQUFBLGFBRUFMLE1BQUEsZUFDQUMsWUFBQSxVQUNBQyxnQkFBQSxVQUNBQyxNQUFBLEVBQ0FDLEtBQUF6QixFQUVBMEIsUUFBQSxhQUdBTCxNQUFBLE9BQ0FDLFlBQUEsVUFDQUMsZ0JBQUEsVUFDQUMsTUFBQSxFQUNBQyxLQUFBdkIsRUFDQXlCLFlBQUEsRUFFQUQsUUFBQSxhQUdBTCxNQUFBLG9CQUNBQyxZQUFBLFVBQ0FDLGdCQUFBLFVBQ0FDLE1BQUEsRUFDQUMsS0FBQXRCLEVBQ0F1QixRQUFBLGNBR0FFLE1BQUFDLEtBQUFiLEdBQ0FTLEtBQUFQLEVBQ0FZLFNBQ0FDLFlBQUEsRUFDQUMsVUFBQSxRQUNBQyxTQUFBLEVBQ0FDLFFBQ0FDLFFBQ0FDLEtBQUEsU0FDQUMsU0FBQSxFQUNBQyxTQUFBLE9BQ0FDLEdBQUEsV0FDQUMsT0FDQUMsYUFBQSxHQUNBQyxJQUFBLEVBQ0FDLFNBQUEsS0FHQVAsS0FBQSxTQUNBQyxTQUFBLEVBQ0FDLFNBQUEsUUFDQUMsR0FBQSxXQUNBQyxPQUNBRyxTQUFBLEdBR0FDLFdBQ0FDLGlCQUFBLEtBSUFULEtBQUEsU0FDQUMsU0FBQSxFQUNBQyxTQUFBLFFBQ0FDLEdBQUEsV0FDQUMsT0FDQUcsU0FBQSxJQUdBQyxXQUNBQyxpQkFBQSxLQUlBVCxLQUFBLFNBQ0FDLFNBQUEsRUFDQUMsU0FBQSxRQUNBQyxHQUFBLFdBQ0FDLE9BQ0FHLFNBQUEsRUFDQUYsYUFBQSxJQUdBRyxXQUNBQyxpQkFBQSxXQ3RKZUMsR0FBQ0MsY0FBQUMsV0FBQUMsZUNIaEIsTUFBQUMsSUFDQUMsWUFBQSxZQUFBQyxVQUE2Q0MsWUFBQSxNQUF3QkMsVUFBQSxLQUM1REMsV0FBQSxTQUVUSixZQUFBLE1BQUFDLFVBQXVDQyxZQUFBLE1BQXdCQyxVQUFBLEtBQ3REQyxXQUFBLGlCQUVUSixZQUFBLGVBQUFDLFVBQWdEQyxZQUFBLE1BQ3ZDRSxXQUFBLGlCQUVUSixZQUFBLGdCQUFBQyxVQUFpREMsWUFBQSxNQUN4Q0MsVUFBQSxLQUFxQkMsV0FBQSxTQUU5QkosWUFBQSxhQUFBQyxVQUE4Q0MsWUFBQSxNQUNyQ0MsVUFBQSxLQUFxQkMsV0FBQSxTQUU5QkosWUFBQSxVQUFBQyxVQUEyQ0MsWUFBQSxNQUNsQ0UsV0FBQSxpQkFDTEosWUFBQSwwQkFBQUMsVUFBd0RHLFdBQUEsVUFDdkRKLFlBQUEsUUFBQUssWUFBQSxTQUFBSixVQUErREcsV0FBQSxPQUF3QkQsV0FBQSxLQUFzQkQsWUFBQSxRQUM3R0YsWUFBQSxRQUFBSyxZQUFBLFdBQUFKLFVBQWlFSyxJQUFBLFlBQXNCSCxXQUFBLEtBQXNCRCxZQUFBLE9BWWxILFNBQUFLLElBQ0laLEVBQUdFLFFBQUEsSUFBQVcsT0FBQUMsS0FBQUMsSUFBQUMsU0FBQUMsZUFBQSxhQUNQQyxLQUFBLEVBQ0FDLFFBQUEsS0FHSW5CLEVBQUdHLFdBQUEsSUFBQVUsT0FBQUMsS0FBQU0sYUFDSHBCLEVBQUdFLFFBQUFtQixJQUFBLFNBQUFqQixHQUlQLFNBQUFrQixFQUFBQyxHQUNBLFdBQUFWLE9BQUFDLEtBQUFVLFVBQ0FDLEtBQUFGLEVBQ0FHLFlBQUEsVUFDQUMsY0FBQSxHQUNBQyxhQUFBLElBSUEsSUFtQ0FDLEVBQUEsU0FBQXZKLEVBQUF3SixHQUNBeEosR0FDQTZGLEVBQUE0RCxNQUNBekMsS0FBQSxNQUNBMEMsSUFBQSxhQUFBMUosRUFBQSxPQUNBMkosUUFBQSxTQUFBQyxHQUNBLElBQUFYLEtBQ0FZLEVBQUEsSUFBQXRCLE9BQUFDLEtBQUFDLElBQUFlLEVBQUEsSUFDQVosS0FBQSxLQUdBaUIsRUFBQWQsSUFBQSxTQUFBakIsR0FFQSxJQUFBZ0MsRUFBQSxJQUFBdkIsT0FBQUMsS0FBQU0sYUFFQWpELEVBQUErRCxHQUFBRyxLQUFBLFNBQUFDLEtBQUEsV0FDQSxJQUFBQyxFQUFBcEUsRUFBQXFFLE1BQUFDLEtBQUEsT0FDQUMsRUFBQXZFLEVBQUFxRSxNQUFBQyxLQUFBLE9BQ0E1SSxFQUFBLElBQUFnSCxPQUFBQyxLQUFBNkIsT0FBQUosRUFBQUcsR0FDQW5CLEVBQUF2RSxLQUFBbkQsR0FDQXVJLEVBQUFRLE9BQUEvSSxLQUdBeUgsRUFBQUMsR0FFQXNCLE9BQUFWLEdBR0FBLEVBQUFXLFVBQUFWLE9BYWUsSUFBQVcsR0FBQ0MsU0ExR2hCLFdBQ0FwQyxJQUNJWixFQUFHQyxjQUNQcUIsRUFBOEJ0QixFQUFHQyxZQUNqQzRDLE9BQWdCN0MsRUFBR0UsU0FHZkYsRUFBR0UsUUFBQTRDLFVBQW1COUMsRUFBR0csYUFtR2JTLFVBQUFSLFNBQUE2QyxtQkE1RWhCLFNBQUEzSyxFQUFBd0osR0FDQXhKLEdBQ0E2RixFQUFBNEQsTUFDQXpDLEtBQUEsTUFDQTBDLElBQUEsV0FBQTFKLEVBQ0EySixRQUFBLFNBQUF0RCxHQUNBLElBQUE0QyxLQUNBWSxFQUFBLElBQUF0QixPQUFBQyxLQUFBQyxJQUFBZSxFQUFBLElBQ0FaLEtBQUEsRUFDQUMsUUFBQSxLQUdBZ0IsRUFBQWQsSUFBQSxTQUFBakIsR0FFQSxJQUFBZ0MsRUFBQSxJQUFBdkIsT0FBQUMsS0FBQU0sYUFFQXpDLEVBQUF1RSxJQUFBQyxRQUFBLFNBQUFDLEdBQ0EsSUFBQWIsRUFBQWEsRUFBQWIsSUFDQUcsRUFBQVUsRUFBQVYsSUFDQTdJLEVBQUEsSUFBQWdILE9BQUFDLEtBQUE2QixPQUFBSixFQUFBRyxHQUNBbkIsRUFBQXZFLEtBQUFuRCxHQUNBdUksRUFBQVEsT0FBQS9JLEtBR0F5SCxFQUFBQyxHQUVBc0IsT0FBQVYsR0FHQUEsRUFBQVcsVUFBQVYsT0ErQ2dCUCxtQkFBQXdCLFdBUGhCLFdBQ0EsSUFBQS9LLEVBQUE2RixFQUFBcUUsTUFBQTdELEtBQUEsUUFDQW1ELEVBQUEzRCxFQUFBcUUsTUFBQUgsS0FBQSxpQkFDQVIsRUFBQXZKLEVBQUF3SixLQzVGQXdCLEVBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FXQSxPQVZBRixHQUFBLE9BQ0FBLEdBQUEsb0JBQUFDLEVBQUEsV0FDQUQsR0FBQSwrQ0FBQUUsRUFBQW5MLEtBQUEsbURBQUFtTCxFQUFBbkwsS0FBQSxLQUFBbUwsRUFBQW5MLEtBQUEsWUFDQWlMLEdBQUEsT0FBQTNHLFNBQUE2RyxFQUFBQyxRQUFBLFNBQ0FILEdBQUEsT0FBQUUsRUFBQUUsUUFBQSxRQUNBSixHQUFBLFFBQ0EsSUFBQUUsRUFBQUcsWUFDQUwsR0FBQSwyQ0FBQUUsRUFBQW5MLEtBQUEsb0ZBQUFtTCxFQUFBbkwsS0FBQSwyRkFFQWlMLEdBQUEsU0FJQSxTQUFBTSxFQUFBQyxHQUNBM0YsRUFBQSxTQUFBNEYsS0FBQSxvQkFDQTVGLEVBQUFxRSxNQUFBSCxLQUFBLGFBQUFDLEtBQUEsV0FDQTBCLEVBQUEsR0FFQUMsRUFEQTlGLEVBQUEsaUJBQUFrRSxLQUFBLFNBQ0EsR0FBQXlCLE9BS0EsU0FBQUcsRUFBQUMsRUFBQVYsR0FDQSxJQUFBVyxFQUFBaEcsRUFBQSxtQ0FBQXFGLEVBQUEsV0FBQVksU0FBQSw0QkFDQWpHLEVBQUF2RixJQUFBLHVCQUFBK0YsR0FDQSxJQUFBMEYsRUFBQXpILGtCQUFBK0IsR0FBNkM3QyxHQUFTLEVBRXREd0ksRUFBQWQsSUFBQWEsRUFBQSxnQkFDQUUsRUFBQXBHLEVBQUEseUJBRkEsSUFBQXFGLEVBQUEsZUFFQSxXQUFBZ0IsT0FBQSwyRUFDQUMsRUFBQXRHLEVBQUEsd0JBQUFtRyxFQUFBLFdBQUFFLE9BQUEsd0RBRUFMLEVBQUFLLE9BQUFELEdBQ0EsUUFBQXhNLEVBQUEsRUFBdUJBLEVBQUFzTSxFQUFVdE0sSUFBQSxDQUNqQyxJQUFBMk0sRUFBQSxHQUNBbEIsSUFBQXpMLElBQ0EyTSxFQUFBLFVBRUEsSUFBQUMsRUFBQXhHLEVBQUEsd0JBQUF1RyxFQUFBLHNDQUFBM00sRUFBQSxlQUFBQSxFQUFBLGdCQUNBb00sRUFBQUssT0FBQUcsR0FFQVIsRUFBQUssT0FBQUMsR0FDQXRHLEVBQUErRixHQUFBVSxLQUFBVCxLQUlBLFNBQUFILEVBQUFGLEdBQ0EsSUFBQXpILEVBQUF5SCxFQUE0QmhJLEVBQVMrSSxHQUFBZixFQUFBLEdBQTZCaEksRUFBUyxFQUMzRXFDLEVBQUF2RixJQUFBLFdBQUF5RCxFQUFBLElBQUF3SSxFQUFBLFNBQUFsRyxHQUNBLElBQUE0RSxFQUFBLEdBQ0FDLEVBQUEsRUFDQTdFLEVBQUF3RSxRQUFBLFNBQUFNLEdBQ0FGLEVBQUFELEVBQUFDLEVBQUFDLEVBQUFNLEVBQTBFaEksRUFBUzJILEdBQ25GRCxNQUdBckYsRUFBQSxzQkFBQXlHLEtBQUFyQixHQUNBcEYsRUFBQSxvQkFBQTJHLEdBQUEsMkJBQUFDLEdBQ0FsQixFQUFBLE9BS2UsSUFBQW1CLEdBQUNDLFdBM0ZoQixXQUNBLElBQUFDLEVBQUExQyxLQUNBckUsRUFBQXZGLElBQUEsdUJBQUErRixHQUNBLElBQUFpRyxFQUFBLEdBRUFPLEVBQUEsR0FDQXhHLEVBQUF5RyxLQUFBLFNBQUEzSCxFQUFBSSxHQUFtQyxPQUFBSixFQUFBa0csUUFBQTlGLEVBQUE4RixRQUFBLEVBQUE5RixFQUFBOEYsUUFBQWxHLEVBQUFrRyxTQUFBLE1BRW5DLElBQUEwQixFQUFBLHNCQUNBMUcsRUFBQXdFLFFBQUEsU0FBQW5LLEdBQ0FBLEVBQUEySyxVQUFBd0IsSUFDQVAsR0FBQSxvQkFBQTVMLEVBQUEySyxRQUFBLEtBQ0F3QixFQUFBbk0sRUFBQTJLLFNBRUFpQixHQUFBLFdBQUFTLEVBQUEsV0FBQXJNLEVBQUF3SyxNQUFBLGVBQUF4SyxFQUFBa0ssSUFBQSxHQUFBWCxJQUFBLGVBQUF2SixFQUFBa0ssSUFBQSxHQUFBUixJQUFBLEtBQUExSixFQUFBVixLQUFBLEtBQUFVLEVBQUEwSyxPQUFBLGNBQ0EyQixFQUFBLEtBR0FsSCxFQUFBK0csR0FBQU4sUUFDQVMsRUFBQWxILEVBQUEsV0FBQWtFLEtBQUEsYUFDUVUsRUFBUUMsV0FDaEIsSUFBQW5KLEVBQUEsSUFBQWdILE9BQUFDLEtBQUE2QixPQUFBeEUsRUFBQWtILEdBQUExRyxLQUFBLE9BQUFSLEVBQUFrSCxHQUFBMUcsS0FBQSxRQUNRcUIsRUFBR0UsUUFBQW9GLE1BQUF6TCxNQXFFS3lKLG9CQUFBTyxZQUFBRyxpQkFBQUMsc0JDaEVELElBQUFzQixHQUFDQyxVQWpDaEIsV0FDQSxJQUFBTixFQUFBMUMsS0FDQXJFLEVBQUF2RixJQUFBLGtCQUFBK0YsR0FDQSxJQUFBaUcsRUFBQSxHQUNBakcsRUFBQXdFLFFBQUEsU0FBQW5LLEdBQ0E0TCxHQUFBLGtCQUFBNUwsRUFBQXlHLEdBQUEsS0FBQXpHLEVBQUF5TSxVQUFBLElBQUF6TSxFQUFBME0sU0FBQSxjQUVBdkgsRUFBQStHLEdBQUFOLFdBMEJnQmUsU0FyQmhCLFNBQUFBLElBQ0F4SCxFQUFBLFNBQUE0RixLQUFBLG1CQUNBNUYsRUFBQXFFLE1BQUFILEtBQUEsZUFBQUMsS0FBQSxXQUNBLElBQUE0QyxFQUFBMUMsS0FDQXJFLEVBQUF2RixJQUFBLG1CQUFBK0YsR0FFQSxJQURBLElBQUFpRyxFQUFBLEdBQ0E3TSxFQUFBLEVBQStCQSxFQUFBNEcsRUFBQXRELE9BQWlCdEQsSUFBQSxDQUNoRCxJQUFBNk4sRUFBQWpILEVBQUE1RyxHQUNBNk0sR0FBQSxnQ0FBQWdCLEVBQUFuRyxHQUFBLE1BQUExSCxFQUFBLG1CQUFBNk4sRUFBQUgsVUFBQSxZQUFBRyxFQUFBRixTQUFBLFFBQ0FkLEdBQUEsOENBQUFnQixFQUFBbkcsR0FBQSxtRkFBQW1HLEVBQUFuRyxHQUFBLDhGQUVBdEIsRUFBQStHLEdBQUFOLFFBQ0F6RyxFQUFBLGlCQUFBMkcsR0FBQSwyQkFBQUMsR0FDQVksY0NDQSxTQUFTRSxFQUFLQyxHQUNkM0gsRUFBQW5ELFFBQUErSyxVQUFBNUgsRUFBQSxTQUFBNkgsU0FBQUMsS0FDQUMsR0FBQSxZQUNJbkQsRUFBUUMsV0FDWjdFLEVBQUEsV0FBQXNFLEtBQUEsdUJBQ0F0RSxFQUFBLGlCQUFBc0UsS0FBQSx1QkFDQXRFLEVBQUEsbUJBQUFzRSxLQUFBLHVCQUNBdEUsRUFBQTJILEdBQUFyRCxLQUFBLHVCQUNBdEUsRUFBQTJILEdBQUFsQixLQUFBLGFBQ0F6RyxFQUFBMkgsR0FBQTFCLFNBQUEsVUFDQWpHLEVBQUEsWUFBQWdJLFlBQUEsVUFHQSxTQUFBRCxFQUFBRSxFQUFBQyxHQUNJdEssRUFBT0UsSUFBQW1LLEVBQ1hqSSxFQUFBdkYsSUFBQSxnQkFBQStGLEdBQ0EsSUFBQWlHLEVBQUEwQixFQUFBRCxFQUFBMUgsR0FDQSxHQUFBaUcsRUFBQSxDQUNBekcsRUFBQSxrQkFBQXlHLFFBQ0F6RyxFQUFBLGNBQUF5RyxLQUFBMkIsV0FBQUYsRUFBQTFILEdBQUEsSUFDQSxJQUFBNEQsRUFBQTVELEVBQUF1RSxJQUFBWCxJQUNBRyxFQUFBL0QsRUFBQXVFLElBQUFSLElBQ0E3SSxFQUFBLElBQUFnSCxPQUFBQyxLQUFBNkIsT0FBQUosRUFBQUcsR0FFQSxHQURBUCxJQUFBbEMsV0FBQWpELEtBQUFuRCxHQUNBc0ksSUFBQWhDLFdBQ0FnQyxJQUFBaEMsV0FBQXlDLE9BQUEvSSxHQUMyQmtKLEVBQVF6QixlQUFBYSxJQUFBbEMsWUFDbkM0QyxPQUFBVixJQUFBakMsU0FDQWlDLElBQUFqQyxRQUFBNEMsVUFBQVgsSUFBQWhDLGVBSUtxRyxLQUFBLFdBQ096SyxFQUFPRSxNQUNuQndLLFFBQUFDLFdBQUEsV0FBOENSLEdBQUEsRUFBQUcsSUFBNEJySyxnQkFNMUUsU0FBQXNLLEVBQUEvSCxFQUFBb0ksRUFBQUMsR0FDQSxPQUFBaEssU0FBQStKLEVBQUFqRCxRQUFBLENBR0EsSUFBQWtCLEVBQUEsR0FxQkEsT0FwQkFnQyxJQUNBaEMsR0FBQSxvRUFBQStCLEVBQUF0SyxNQUFBVCxPQUFBLEVBQUErSyxFQUFBdEssTUFBQXlCLFlBQUEsd0JBRUE4RyxHQUFBLHVFQUFBK0IsRUFBQXRLLE1BQUFULE9BQUErSyxFQUFBdEssTUFBQXlCLFlBQUEseUJBQ0E4RyxHQUFBLHNFQUFvRjVLLEVBQUt1QixPQUFBcUIsU0FBQStKLEVBQUFFLFVBQUEsZUFDekZqQyxHQUFBLHdFQUFBaEksU0FBQStKLEVBQUFqRCxRQUFBLE9BQUE5RyxTQUFBK0osRUFBQUcsVUFBQSxnQkFDQWxDLEdBQUEsc0VBQUF6SyxLQUFBNEQsTUFBQSxJQUFBQyxXQUFBMkksRUFBQXpNLE1BQUEsMkJBQ0EwSyxHQUFBLHNFQUFvRjVLLEVBQUt1QixPQUFBcUIsU0FBQStKLEVBQUFJLFVBQUEsZUFDekZuQyxHQUFBLG9FQUFrRjVLLEVBQUt1QixPQUFBcUIsU0FBQStKLEVBQUFLLFdBQUEsZUFDdkZwQyxHQUFBLHVFQUFBekssS0FBQTRELE1BQUEsR0FBQUMsV0FBQTJJLEVBQUFuSyxPQUFBLG1CQUNBb0ksR0FBQSxvRUFBQXpLLEtBQUE0RCxNQUFBLEdBQUFDLFdBQUEySSxFQUFBbEssU0FBQSxrQkFDQUcsU0FBQStKLEVBQUFqTSxJQUFBLElBQ0FrSyxHQUFBLG1FQUFxRjVLLEVBQUtTLGtCQUFBbUMsU0FBQStKLEVBQUFqTSxLQUFBLEtBQUFrQyxTQUFBK0osRUFBQWpNLEtBQUFrQyxTQUFBK0osRUFBQU0sT0FBQSxNQUFBckssU0FBQStKLEVBQUFNLE9BQUEsd0JBRTFGTixFQUFBTyxXQUNBdEMsR0FBQSx1RkFBQStCLEVBQUFPLFNBQ0F0QyxHQUFBLHVGQUFBK0IsRUFBQXJPLEtBQ0FzTSxHQUFBLCtGQUNBQSxHQUFBLGtDQUFBK0IsRUFBQXJPLEtBQUEsaUhBRUFzTSxFQUFBLElBSWUsSUFBQXVDLEdBQUNDLFNBMUZoQixXQUNBakosRUFBQSxTQUFBNEYsS0FBQSxtQkFDQTVGLEVBQUFxRSxNQUFBSCxLQUFBLFdBQUFDLEtBQXFDMEMsRUFBS0MsWUFDMUM5RyxFQUFBcUUsTUFBQUgsS0FBQSxpQkFBQUMsS0FBMkNpRCxFQUFJQyxXQUMvQ3JILEVBQUF2RixJQUFBLHVCQUFBK0YsR0FDQSxjQUFBQSxFQUFBMEksT0FBQSxDQUNBLElBQUF2QixFQUFBM0gsRUFBQSxhQUNvQm5FLEVBQUtXLGdCQUFBLFVBQ3pCbUwsRUFBQTNILEVBQUEsb0JBRWdCMEgsRUFBS0MsTUFLVDlMLEVBQUtXLGdCQUFBLFNBQ2pCd0QsRUFBQSxhQUFBc0UsS0FBQSwwQkEwRWdCcEcsTUFBZ0J3SixFQUFBSyxjQUFBSSxXQ3hGaEMsU0FBQWdCLEVBQUF4RCxHQUNBM0YsRUFBQSxTQUFBNEYsS0FBQSxzQkFDQTVGLEVBQUFxRSxNQUFBSCxLQUFBLFlBQUFDLEtBQUEsV0FRQW5FLEVBQUF2RixJQUFBLHdCQUFBK0YsR0FDQSxJQUFBNEksRUFBQSxHQUNBNUksRUFBQXdFLFFBQUEsU0FBQXFFLEdBQ0FELEVBQUFFLEVBQUFGLEVBQUFDLEtBR0FySixFQUFBLFVBQUF5RyxLQUFBLDJDQUFBMkMsRUFBQSxnQkFDQXBKLEVBQUEsY0FBQW1FLEtBQUEsV0FDQW5FLEVBQUFxRSxNQUFBa0YsUUFBQSxXQUFBbEYsVUFkQW1GLEVBQUF4SixFQUFBcUUsTUFBQXNCLE9BbUJBLFNBQUE2RCxFQUFBekMsRUFBQXBCLEdBQ0EsSUFBQXpILEVBQUF5SCxFQUE0QmhJLEVBQVMrSSxHQUFBZixFQUFBLEdBQTZCaEksRUFBUyxFQUMzRXFDLEVBQUF2RixJQUFBLFlBQUF5RCxFQUFBLElBQUF3SSxFQUFBLFNBQUFsRyxHQUNBUixFQUFBdkYsSUFBQSxrQkFBQWdQLEdBQ0EsSUFBQXJFLEVBQUEsR0FBQUMsRUFBQSxFQUNBcUUsRUFBQUQsRUFBQWhLLE9BQUEsU0FBQXVFLEVBQUEyRixHQUVBLE9BREEzRixFQUFBMkYsRUFBQXJJLElBQUFxSSxFQUNBM0YsT0FFQXhELEVBQUF3RSxRQUFBLFNBQUFxRSxHQUNBakUsRUFBQXdFLEVBQUF4RSxFQUFBQyxFQUFBTSxFQUFpRmhJLEVBQVMwTCxFQUFBSyxHQUMxRnJFLE1BR0FyRixFQUFBLHNCQUFBeUcsS0FBQXJCLEdBb0NBLFNBQUFXLEVBQUFWLEdBQ0EsSUFBQVcsRUFBQWhHLEVBQUEscUNBQUFxRixFQUFBLFdBQUFZLFNBQUEsNEJBQ0FqRyxFQUFBdkYsSUFBQSx3QkFBQStGLEdBQ0EsSUFBQTBGLEVBQUF6SCxrQkFBQStCLEdBQTZDN0MsR0FBUyxFQUN0RGtNLEVBQUEsSUFBQXhFLEVBQUEsY0FDQWMsRUFBQWQsSUFBQWEsRUFBQSxnQkFDQUUsRUFBQXBHLEVBQUEsd0JBQUE2SixFQUFBLFdBQUF4RCxPQUFBLDJFQUNBQyxFQUFBdEcsRUFBQSx3QkFBQW1HLEVBQUEsV0FBQUUsT0FBQSx3REFFQUwsRUFBQUssT0FBQUQsR0FDQSxRQUFBeE0sRUFBQSxFQUF1QkEsRUFBQXNNLEVBQVV0TSxJQUFBLENBQ2pDLElBQUEyTSxFQUFBLEdBQ0FsQixJQUFBekwsSUFDQTJNLEVBQUEsVUFFQSxJQUFBQyxFQUFBeEcsRUFBQSx3QkFBQXVHLEVBQUEsc0NBQUEzTSxFQUFBLGVBQUFBLEVBQUEsZ0JBQ0FvTSxFQUFBSyxPQUFBRyxHQUVBUixFQUFBSyxPQUFBQyxHQUNBdEcsRUFBQStGLEdBQUFVLEtBQUFULEtBckRBOEQsQ0FEQS9DLEVBQUE3QyxLQUFBLFNBQ0F5QixPQU1BLElBQUEyRCxFQUFBLFNBQUFGLEVBQUFDLEdBU0EsT0FSQUQsR0FBQSwwQ0FBQUMsRUFBQWxQLEtBQUEsTUFDQWlQLEdBQUEsMEJBQ0FBLEdBQUEsb0NBQ0FBLEdBQUEsOERBQUFDLEVBQUFsUCxLQUFBLHFCQUF1SDBCLEVBQUtLLHNCQUFBbU4sRUFBQWxQLE1BQUEsWUFDNUhpUCxHQUFBLGdDQUFBM0ssU0FBQTRLLEVBQUFVLFNBQUF4RSxRQUFBLFlBQXFHMUosRUFBS3VCLE9BQUFxQixTQUFBNEssRUFBQVUsU0FBQXJCLFVBQUEsT0FDMUdVLEdBQUEsMkJBQUFDLEVBQUFsUCxLQUFBLGtFQUNBaVAsR0FBQSxTQUNBQSxHQUFBLFVBSUFRLEVBQUEsU0FBQXhFLEVBQUFDLEVBQUFnRSxFQUFBSyxHQUNBLElBQUFqQyxFQUFBaUMsRUFBQUwsRUFBQTVCLE1BWUEsT0FYQXJDLEdBQUEsT0FDQUEsR0FBQSxvQkFBQUMsRUFBQSxXQUNBRCxHQUFBLHNDQUFBaUUsRUFBQWxQLEtBQUEsa0JBQUFrUCxFQUFBbFAsS0FBQSxhQUFzSDBCLEVBQUtLLHNCQUFBbU4sRUFBQWxQLE1BQUEsWUFDM0hpTCxHQUFBLGVBQUEzRyxTQUFBNEssRUFBQVUsU0FBQXhFLFFBQUEsU0FFQUgsR0FEQXFDLEVBQ0EsT0FBQUEsRUFBQUgsVUFBQSxJQUFBRyxFQUFBRixTQUFBLFFBRUEsWUFFQW5DLEdBQUEsMkJBQUFpRSxFQUFBbFAsS0FBQSxpR0FBQWtQLEVBQUFsUCxLQUFBLGlKQUFBa1AsRUFBQWxQLEtBQUEsd0dBQ0FpTCxHQUFBLFNBNEJlLElBQUE0RSxHQUFDQyxpQkFyR2hCLFNBQUE1RSxHQUNBOEQsRUFBQTlELElBb0dnQjhELGNBQUFLLG1CQ2hEaEIsSUFNZVUsR0FBQ0MsWUFwRGhCLFNBQUFoUSxHQUNBNkYsRUFBQSxTQUFBNEYsS0FBQSx1QkFDQTVGLEVBQUFxRSxNQUFBSCxLQUFBLFdBQUFDLEtBQXFDMEMsRUFBS0MsWUFDMUM5RyxFQUFBcUUsTUFBQUgsS0FBQSxpQkFBQUMsS0FBMkNpRCxFQUFJQyxXQUMvQ3JILEVBQUFxRSxNQUFBSCxLQUFBLG9CQUFBQyxLQUFBLFdBRUFuRSxFQUFBdkYsSUFBQSxZQUFBTixFQUFBLFNBQUFxRyxHQUNBLElBQUFpRyxFQUEyQnVDLEVBQUtiLFFBRmhDLFVBRWdDM0gsRUFBQXVKLFVBQUEsR0FDaEMvSixFQUFBLFdBQUFvSyxJQUFBNUosRUFBQThFLE9BQ0F0RixFQUFBLGlCQUFBb0ssSUFBQTVKLEVBQUFpSCxNQUNBaEIsSUFDQXpHLEVBQUEsa0JBQUF5RyxRQUNBekcsRUFBQSxjQUFBeUcsS0FVQSxTQUFtQnJHLEVBQUFvSSxFQUFBNkIsR0FDbkIsSUFBQTVELEVBQUEsR0FDQSxHQUFBaEksU0FBQStKLEVBQUE4QixXQUFBLEdBQ0EsSUFBQUMsRUFBQSxFQUNBQyxFQUFBaEMsRUFBQWdDLEtBQ0FILElBQ0FHLEVBQUFILFVBQ0FFLEVBQUFDLEVBQUF0TixRQUVBc04sRUFBQXhGLFFBQUEsU0FBQW5LLEdBQ0E0TCxHQUFBLHVCQUFBOEQsRUFBQSxZQUFBOUwsU0FBQTVELEVBQUEwSyxRQUFBLFlBQStHMUosRUFBS3VCLE9BQUFxQixTQUFBNUQsRUFBQTZOLFVBQUEsUUFDcEhqQyxHQUFBLE9BQUF6SyxLQUFBNEQsTUFBQSxHQUFBQyxXQUFBaEYsRUFBQXdELE9BQUEsaUJBQ0FnTSxFQUNBRSxJQUVBQSxNQUtBLE9BQUE5RCxFQTlCeUNnRSxDQVB6QyxFQU9tRGpLLEVBQUF1SixXQUMvQm5GLEVBQVFsQixpQkFBQXZKLEVBQUE2RixFQUFBLGVBRVpqQyxFQUFVQyxTQUFBd0MsRUFBQWtLLElBQUFsSyxFQUFBbUssTUFBQWxNLFNBQUErQixFQUFBdEMsT0FBQXNDLEVBQUFsQyxlQXFDVnNNLGFBTmhCLFNBQUFoRSxHQUNBQSxFQUFBaUUsaUJBQ0EsSUFBQTFRLEVBQUE2RixFQUFBcUUsTUFBQTdELEtBQUEsUUFDQTZJLFFBQUFjLFlBQUFoUSxLQ1hBLFNBQUEyUSxFQUFBQyxHQVFBLElBTEEsSUFBQUMsS0FHQUMsR0FGQUYsRUFBQTlOLE1BQUEsYUFDQSxJQUNBQSxNQUFBLEtBRUFyRCxFQUFBLEVBQW1CQSxFQUFBcVIsRUFBQS9OLE9BQWlCdEQsSUFBQSxDQUNwQyxJQUFBc1IsRUFBQUQsRUFBQXJSLEdBQUFxRCxNQUFBLEtBR0EsWUFBQStOLEVBQUFFLEVBQUEsSUFDQUYsRUFBQUUsRUFBQSxJQUFBdE8sbUJBQUFzTyxFQUFBLFNBRVMsb0JBQUFGLEVBQUFFLEVBQUEsS0FDVCxJQUFBQyxHQUFBSCxFQUFBRSxFQUFBLElBQUF0TyxtQkFBQXNPLEVBQUEsS0FDQUYsRUFBQUUsRUFBQSxJQUFBQyxPQUdBSCxFQUFBRSxFQUFBLElBQUFyTSxLQUFBakMsbUJBQUFzTyxFQUFBLEtBSUEsT0FBQUYsRUF4REFuTyxPQUFBaU8sWUFBQSxXQU9BLElBSkEsSUFBQUUsS0FFQUMsRUFEQXBPLE9BQUFDLFNBQUFDLE9BQUFDLFVBQUEsR0FDQUMsTUFBQSxLQUVBckQsRUFBQSxFQUFtQkEsRUFBQXFSLEVBQUEvTixPQUFpQnRELElBQUEsQ0FDcEMsSUFBQXNSLEVBQUFELEVBQUFyUixHQUFBcUQsTUFBQSxLQUdBLFlBQUErTixFQUFBRSxFQUFBLElBQ0FGLEVBQUFFLEVBQUEsSUFBQXRPLG1CQUFBc08sRUFBQSxTQUVTLG9CQUFBRixFQUFBRSxFQUFBLEtBQ1QsSUFBQUMsR0FBQUgsRUFBQUUsRUFBQSxJQUFBdE8sbUJBQUFzTyxFQUFBLEtBQ0FGLEVBQUFFLEVBQUEsSUFBQUMsT0FHQUgsRUFBQUUsRUFBQSxJQUFBck0sS0FBQWpDLG1CQUFBc08sRUFBQSxLQUlBLE9BQUFGLEVBdkJBLEdBNERBaEwsRUFBQSxXQUdJZ0osRUFBS2pCLGFBQUEsTUFFVC9ILEVBQUE2QyxVQUFBOEQsR0FBQSx5QkFBQUMsR0FDUW9DLEVBQUtDLGFBR2JqSixFQUFBNkMsVUFBQThELEdBQUEseUJBQUFDLEdBQ1FRLEVBQUlJLGFBR1p4SCxFQUFBNkMsVUFBQThELEdBQUEsbUNBQUFDLEdBQ0FBLEVBQUFpRSxpQkFDQSxJQUFBdkUsRUFBQTdILFNBQUF1QixFQUFBcUUsTUFBQTdELEtBQUEsU0FBQTZFLEVBQUE1RyxTQUFBdUIsRUFBQXFFLE1BQUE3RCxLQUFBLFVBQ0FtRixFQUFBbEgsU0FBQXVCLEVBQUEsaUJBQUFRLEtBQUEsVUFDQTRLLE1BQUE5RSxHQUVTOEUsTUFBQS9GLEtBQ1RNLEVBQUFOLEdBRkFNLEdBQUFXLEVBSVEwRCxFQUFPUixnQkFBQXhKLEVBQUEsa0JBQUEyRixLQUlmM0YsRUFBQTZDLFVBQUE4RCxHQUFBLGlDQUFBQyxHQUNBQSxFQUFBaUUsaUJBQ0EsSUFBQXZFLEVBQUE3SCxTQUFBdUIsRUFBQXFFLE1BQUE3RCxLQUFBLFNBQUE2RSxFQUFBNUcsU0FBQXVCLEVBQUFxRSxNQUFBN0QsS0FBQSxVQUNBbUYsRUFBQWxILFNBQUF1QixFQUFBLGVBQUFRLEtBQUEsVUFDQTRLLE1BQUE5RSxHQUVTOEUsTUFBQS9GLEtBQ1RNLEVBQUFOLEdBRkFNLEdBQUFXLEVBSUEsSUFBQStFLEVBQUFyTCxFQUFBLGlCQUFBa0UsS0FBQSxTQUNRMkMsRUFBS2YsbUJBQUF1RixFQUFBLEdBQUExRixHQUNMa0IsRUFBS2hCLGVBQUFGLEtBR2IzRixFQUFBNkMsVUFBQThELEdBQUEsNkJBQUFDLEdBQ0E1RyxFQUFBLGFBQUFrRSxLQUFBLGFBQUFDLEtBQUEsV0FDQW5FLEVBQUFxRSxNQUFBMkQsWUFBQSxZQUVBaEksRUFBQXFFLE1BQUFpSCxTQUFBckYsU0FBQSxZQUdBakcsRUFBQTZDLFVBQUE4RCxHQUFBLG9CQUF5Q3VELEVBQU9VLGNBRWhENUssRUFBQTZDLFVBQUE4RCxHQUFBLDZCQUFBQyxHQUNRb0QsRUFBT0MsaUJBQUEsT0FHZmpLLEVBQUE2QyxVQUFBOEQsR0FBQSwyQkFBQUMsR0FDUUMsRUFBS25CLFVBQUEsS0FJYjFGLEVBQUE2QyxVQUFBOEQsR0FBQSx3QkFBNkMvQixFQUFRTSxZQUVyRGxGLEVBQUE2QyxVQUFBOEQsR0FBQSxtQ0FBQUMsR0FDQUEsRUFBQWlFLGlCQUNBLElBQUFVLEVBQUF2TCxFQUFBLFdBQUFvSyxNQUNBckQsRUFBQTFDLEtBQ0FyRSxFQUFBdkYsSUFBQSxjQUE2QjhRLFVBQWlCLFdBQ2xDdkMsRUFBSzlLLE1BQUE2SSxPQUlqQi9HLEVBQUE2QyxVQUFBOEQsR0FBQSxrQ0FBQUMsR0FDQUEsRUFBQWlFLGlCQUNBLElBQUE5RCxFQUFBL0csRUFBQXFFLE1BQ0FtSCxrQkF6SUlDLEdBMElKM04sS0FBQSxFQUNBLElBQUF5TixFQUFBdkwsRUFBQSxXQUFBb0ssTUFDQTNDLEVBQUF6SCxFQUFBLGlCQUFBb0ssTUFDQXBLLEVBQUF2RixJQUFBLGFBQTRCOFEsU0FBQTlELFFBQTZCLFNBQUFqSCxHQUN6RFIsRUFBQSxrQkFBQXlHLEtBQXFDdUMsRUFBS2IsUUFBQSxVQUFBM0gsR0FBQSxJQUMxQyxJQUFBa0wsRUFBQTFMLEVBQUEsYUFDQTBMLEVBQUFDLFdBQUEsWUFDQUQsRUFBQTFELFlBQUEsVUFDQTBELEVBQUFqRixLQUFBLGFBQ0FNLEVBQUFkLFNBQUEsVUFDQWpHLEVBQUEsV0FBQTJMLFdBQUEsWUFDQTNMLEVBQUEsaUJBQUEyTCxXQUFBLFlBQ0EzTCxFQUFBLG1CQUFBMkwsV0FBQSxnQkFJQTNMLEVBQUE2QyxVQUFBOEQsR0FBQSw4QkFBQUMsR0FDQUEsRUFBQWlFLGlCQUNBLElBQUF2SixFQUFBdEIsRUFBQXFFLE1BQUE3RCxLQUFBLE1BQ0FSLEVBQUE0RCxNQUNBQyxJQUFBLFVBQUF2QyxFQUNBSCxLQUFBLE1BQ0EyQyxRQUFBLFNBQUE4SCxHQUNBLElBQUFDLEVBQUE3TCxFQUFBLGdCQUNBNkwsRUFBQTNILEtBQUEsY0FBQWtHLElBQUF3QixFQUFBdEUsV0FDQXVFLEVBQUEzSCxLQUFBLGFBQUFrRyxJQUFBd0IsRUFBQXJFLFVBQ0FzRSxFQUFBM0gsS0FBQSxXQUFBa0csSUFBQXdCLEVBQUF0SyxJQUNBdEIsRUFBQXZGLElBQUEsdUJBQUErRixHQUNBLElBQUFxRCxFQUFBckQsRUFBQXFELElBQUFpSSxRQUFBLE1BQUFGLEVBQUF0SyxJQUNBdEIsRUFBQSxlQUFBc0UsS0FBQSxPQUFBVCxLQUVBN0QsRUFBQSxtQkFDQWdJLFlBQUEsV0FDQWhJLEVBQUEsaUJBQUErTCxNQUFBLGFBS0EvTCxFQUFBNkMsVUFBQThELEdBQUEsK0JBQUFDLEdBQ0FBLEVBQUFpRSxpQkFDQSxJQUFBdkosRUFBQXRCLEVBQUFxRSxNQUFBN0QsS0FBQSxNQUNBUixFQUFBNEQsTUFDQUMsSUFBQSxXQUFBdkMsRUFDQUgsS0FBQSxNQUNBMkMsUUFBQSxTQUFBOEgsR0FDQSxJQUFBQyxFQUFBN0wsRUFBQSxhQUNBNkwsRUFBQTNILEtBQUEsU0FBQWtHLElBQUF3QixFQUFBelIsTUFDQTBSLEVBQUEzSCxLQUFBLFdBQUFrRyxJQUFBd0IsRUFBQXJHLFFBQ0FzRyxFQUFBM0gsS0FBQSxjQUFBa0csSUFBQXdCLEVBQUFJLFdBQ0FILEVBQUEzSCxLQUFBLGNBQUFrRyxJQUFBd0IsRUFBQXBHLFNBRUEsSUFBQXlHLEVBQUFDLEtBQUFDLFVBQUFQLEVBQUE3RyxLQUNBOEcsRUFBQTNILEtBQUEsUUFBQW1DLE9BQUE0RixHQUNBak0sRUFBQSxvQkFBQStMLE1BQUEsYUFLQS9MLEVBQUE2QyxVQUFBOEQsR0FBQSwyQkFBQUMsR0FDQUEsRUFBQWlFLGlCQUNBLElBQUF1QixFQUFBcE0sRUFBQXFFLE1BQUFDLEtBQUEsUUFDQXRFLEVBQUF2RixJQUFBMlIsRUFBQSxTQUFBNUwsR0FDQTZMLFFBQUFDLElBQUE5TCxHQUNBK0wsTUFBQSwyQkFJQXZNLEVBQUE2QyxVQUFBOEQsR0FBQSxnQ0FBQUMsR0FDQUEsRUFBQWlFLGlCQUNBLElBQUExUSxFQUFBNkYsRUFBQXFFLE1BQUE3RCxLQUFBLFFBQ0FnTSxRQUFBLDZDQUVBeE0sRUFBQTRELE1BQ0FDLElBQUEsZ0JBQUExSixFQUNBZ0gsS0FBQSxTQUNBMkMsUUFBQSxTQUFBOEgsR0FDQVcsTUFBQSxtQkFDb0J2QyxFQUFPQyxpQkFBQSxVQU0zQmpLLEVBQUE2QyxVQUFBOEQsR0FBQSwrQkFBQThGLEdBQ0FBLEVBQUE1QixpQkFDQSxJQUFBZ0IsRUFBQTdMLEVBQUEsYUFDQXNGLEtBQ0FBLEVBQUFuTCxLQUFBMFIsRUFBQTNILEtBQUEsU0FBQWtHLE1BQ0E5RSxFQUFBQyxPQUFBc0csRUFBQTNILEtBQUEsV0FBQWtHLE1BQ0E5RSxFQUFBb0gsU0FBQWIsRUFBQTNILEtBQUEsY0FBQWtHLE1BQ0E5RSxFQUFBRSxRQUFBcUcsRUFBQTNILEtBQUEsY0FBQWtHLE1BQ0E5RSxFQUFBUCxJQUFBOEcsRUFBQTNILEtBQUEsWUFBQWtHLE1BQ0FwSyxFQUFBNEQsTUFDQXpDLEtBQUEsTUFDQXdMLFlBQUEsbUJBQ0FDLFNBQUEsT0FDQS9JLElBQUEsY0FDQXJELEtBQUEwTCxLQUFBQyxVQUFBN0csR0FDQXhCLFFBQUEsV0FDQTlELEVBQUEsb0JBQUErTCxNQUFBLGFBS0EvTCxFQUFBNkMsVUFBQThELEdBQUEsOEJBQUE4RixHQUNBQSxFQUFBNUIsaUJBQ0EsSUFBQWdCLEVBQUE3TCxFQUFBLGdCQUNBc0gsRUFBQXVFLEVBQUEzSCxLQUFBLGNBQUFrRyxNQUNBN0MsRUFBQXNFLEVBQUEzSCxLQUFBLGFBQUFrRyxNQUNBOUksRUFBQXVLLEVBQUEzSCxLQUFBLFdBQUFrRyxNQUNBM0MsS0FDQUEsRUFBQUgsWUFDQUcsRUFBQUYsV0FDQUUsRUFBQW5HLEtBQ0F0QixFQUFBNEQsTUFDQXpDLEtBQUEsTUFDQXdMLFlBQUEsbUJBQ0FDLFNBQUEsT0FDQS9JLElBQUEsYUFDQXJELEtBQUEwTCxLQUFBQyxVQUFBMUUsR0FDQTNELFFBQUEsV0FDQTlELEVBQUEsaUJBQUErTCxNQUFBLGFBTUEvTCxFQUFBNkMsVUFBQThELEdBQUEsNkJBQUFDLEdBQ0FBLEVBQUFpRSxpQkFDQSxJQUFBdkosRUFBQXRCLEVBQUFxRSxNQUFBN0QsS0FBQSxNQUNBZ00sUUFBQSxxQ0FFQXhNLEVBQUE0RCxNQUNBQyxJQUFBLFVBQUF2QyxFQUNBSCxLQUFBLFNBQ0EyQyxRQUFBLFNBQUE4SCxHQUNvQnhFLEVBQUlJLGdCQU14QnhILEVBQUE2QyxVQUFBOEQsR0FBQSw4QkFBQUMsR0FDQUEsRUFBQWlFLGlCQUNBLElBQUF2SixFQUFBdEIsRUFBQXFFLE1BQUE3RCxLQUFBLE1BQ0FnTSxRQUFBLDJDQUVBeE0sRUFBQTRELE1BQ0FDLElBQUEsV0FBQXZDLEVBQ0FILEtBQUEsU0FDQTJDLFFBQUEsU0FBQThILEdBQ29CL0UsRUFBS25CLFVBQUEsUUFPekIxRixFQUFBLFNBQUFtRSxLQUFBLFdBRUEsT0FEQXRILE9BQUFDLFNBQUErUCxNQUVBLGFBQ2dCaEcsRUFBS25CLFVBQUEsR0FDckIsTUFDQSxZQUNnQjBCLEVBQUlJLFdBQ3BCLE1BQ0EsZUFDZ0J3QyxFQUFPYixZQUFBLEdBQ3ZCLE1BQ0EsZUFDZ0JlLEVBQU9DLFlBQUFXLEVBQUEsTUFDdkIsTUFDQSxRQUNnQjlCLEVBQUtDLGNBSXJCakosRUFBQSxXQUFBbUUsS0FBc0IwQyxFQUFLQyxZQUUzQjlHLEVBQUEsaUJBQUFtRSxLQUE0QmlELEVBQUlDLFdBRWhDckgsRUFBQTZDLFVBQUE4RCxHQUFBLDZDQUFBQyxHQUNBLElBQUF6TSxFQUFBNkYsRUFBQTRHLEVBQUFrRyxlQUFBdE0sS0FBQSxjQUNBdUcsRUFBQS9HLEVBQUFxRSxNQUNBckUsRUFBQXZGLElBQUEsV0FBQU4sRUFBQSxTQUFBcUcsR0FDQSxJQUFBMEgsRUFBQTFILEVBQUFyRyxLQUNBcUcsRUFBQXVNLGFBQ0E3RSxFQUFBLDREQUFBMUgsRUFBQXVNLFdBQUEsS0FBQTdFLEVBQUEsU0FFQW5CLEVBQUE3QyxLQUFBLDJCQUFBdUMsS0FBQXlCLEdBQ0EsSUFBQXpCLEVBQUEsMEVBQUFqRyxFQUFBK0UsT0FBQSxVQUNBa0IsR0FBQSxzRUFBQWpHLEVBQUF3TSxVQUFBLFVBQ0F2RyxHQUFBLG1FQUFBakcsRUFBQWdGLFFBQUEsUUFDQXVCLEVBQUE3QyxLQUFBLHFCQUFBdUMsWUFJQXpHLEVBQUE2QyxVQUFBOEQsR0FBQSw4Q0FBQUMsR0FDQSxJQUFBek0sRUFBQTZGLEVBQUE0RyxFQUFBa0csZUFBQXRNLEtBQUEsY0FDUW9FLEVBQVFFLG1CQUFBM0ssRUFBQTZGLEVBQUEsc0JBR2hCQSxFQUFBNkMsVUFBQThELEdBQUEsNEJBQUFDLEdBQ0EsSUFBQU0sRUFBQWxILEVBQUEsV0FBQWtFLEtBQUEsYUFDUVUsRUFBUUMsV0FDaEIsSUFBQW5KLEVBQUEsSUFBQWdILE9BQUFDLEtBQUE2QixPQUFBeEUsRUFBQWtILEdBQUExRyxLQUFBLE9BQUFSLEVBQUFrSCxHQUFBMUcsS0FBQSxRQUNRcUIsRUFBR0UsUUFBQW9GLE1BQUF6TCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJjb25zdCBXQVRUX1JBVElPTiA9IDIuODA7XG5cbmZ1bmN0aW9uIGNhbGNXYXR0KHBhY2UpIHtcbiAgICByZXR1cm4gV0FUVF9SQVRJT04gLyBNYXRoLnBvdyhwYWNlLCAzKTtcbn1cblxuZnVuY3Rpb24gc2Vzc2lvbk5hbWVUb1JlYWRhYmxlKG5hbWUpIHtcbiAgICByZXR1cm4gbW9tZW50KG5hbWUuc2xpY2UoMCwgMTMpICsgJzonICsgbmFtZS5zbGljZSgxMywxNSkgKyAnOicgKyBuYW1lLnNsaWNlKDE1KSkuZm9ybWF0KFwiWVlZWS1NTS1ERCBoaDptbTpzc1wiKTtcbn1cblxuZnVuY3Rpb24gZ2V0SGVhcnRSYXRlQ29sb3IoaHIpIHtcbiAgICBpZiAoaHIgPCAxMjUpIHtcbiAgICAgICAgcmV0dXJuICd0ZXh0LXN1Y2Nlc3MnXG4gICAgfSBlbHNlIGlmIChociA8IDE1MCkge1xuICAgICAgICByZXR1cm4gJ3RleHQtcHJpbWFyeSdcbiAgICB9IGVsc2UgaWYgKGhyIDwgMTc1KSB7XG4gICAgICAgIHJldHVybiAndGV4dC13YXJuaW5nJztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ3RleHQtZGFuZ2VyJztcbiAgICB9XG59XG5cbnZhciBnZXRVcmxQYXJhbWV0ZXIgPSBmdW5jdGlvbiBnZXRVcmxQYXJhbWV0ZXIoc1BhcmFtKSB7XG4gICAgdmFyIHNQYWdlVVJMID0gZGVjb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpKSxcbiAgICAgICAgc1VSTFZhcmlhYmxlcyA9IHNQYWdlVVJMLnNwbGl0KCcmJyksXG4gICAgICAgIHNQYXJhbWV0ZXJOYW1lLFxuICAgICAgICBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHNVUkxWYXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc1BhcmFtZXRlck5hbWUgPSBzVVJMVmFyaWFibGVzW2ldLnNwbGl0KCc9Jyk7XG5cbiAgICAgICAgaWYgKHNQYXJhbWV0ZXJOYW1lWzBdID09PSBzUGFyYW0pIHtcbiAgICAgICAgICAgIHJldHVybiBzUGFyYW1ldGVyTmFtZVsxXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHNQYXJhbWV0ZXJOYW1lWzFdO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuZnVuY3Rpb24gZm10TVNTKHMpIHtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKG51bGwpO1xuICAgIGRhdGUuc2V0U2Vjb25kcyhzKTsgLy8gc3BlY2lmeSB2YWx1ZSBmb3IgU0VDT05EUyBoZXJlXG4gICAgcmV0dXJuIGRhdGUudG9JU09TdHJpbmcoKS5zdWJzdHIoMTEsIDgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IGNhbGNXYXR0LCBzZXNzaW9uTmFtZVRvUmVhZGFibGUsIGdldEhlYXJ0UmF0ZUNvbG9yLCBnZXRVcmxQYXJhbWV0ZXIsIGZtdE1TUyB9XG5cbiIsImV4cG9ydCBjb25zdCBSQVRJT04gPSAoMTAwIC8gNC44MDUpICogNjtcbmV4cG9ydCBjb25zdCBQQUdFX1NJWkUgPSAxMDtcbmV4cG9ydCBjb25zdCBVUERBVEVfRlJFUSA9IDEwMDA7XG5leHBvcnQgdmFyIHJ1biA9IGZhbHNlO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHsgUkFUSU9OLCBQQUdFX1NJWkUsIFVQREFURV9GUkVRLCBydW4gfSIsImltcG9ydCB7IFVQREFURV9GUkVRLCBQQUdFX1NJWkUsIFJBVElPTiwgcnVuIH0gZnJvbSAnLi4vdXRpbHMvZ2xvYmFscyc7XG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuXG5mdW5jdGlvbiBhZGRHcmFwaCh0aW1lLCBociwgc3RhcnQsIHN0cm9rZXMpIHtcbiAgICB2YXIgc3BlZWQgPSBbXTtcbiAgICB2YXIgd2F0dCA9IFtdO1xuICAgIHZhciBzdHJva2UgPSBbXTtcbiAgICB2YXIgc3Ryb2tlQ29udGVyID0gMTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRpbWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRpbWVWYWwgPSBwYXJzZUludCh0aW1lW2ldKTtcbiAgICAgICAgdmFyIHN0cm9rZVRpbWUgPSBwYXJzZUludChzdHJva2VzW3N0cm9rZUNvbnRlcl0pO1xuICAgICAgICB2YXIgc2VjID0gKCh0aW1lVmFsIC0gc3RhcnQpIC8gMTAwMCk7XG4gICAgICAgIHZhciBsZW5naHQgPSAoUkFUSU9OIC8gMTAwKTtcbiAgICAgICAgc3BlZWQucHVzaCgoKGxlbmdodCAvIHNlYykpICogMy42KTtcbiAgICAgICAgdmFyIHdhdHRWYWx1ZSA9IHV0aWxzLmNhbGNXYXR0KHNlYyAvIGxlbmdodCk7XG4gICAgICAgIHdhdHQucHVzaCh3YXR0VmFsdWUpO1xuICAgICAgICBzdHJva2UucHVzaCgxMDAwKjYwIC8gKHN0cm9rZVRpbWUgLSBwYXJzZUludChzdHJva2VzW3N0cm9rZUNvbnRlci0xXSkpKTtcbiAgICAgICAgc3RhcnQgPSBwYXJzZUludCh0aW1lW2ldKTtcbiAgICAgICAgaWYgKHRpbWVWYWwgPiBzdHJva2VUaW1lKSB7XG4gICAgICAgICAgICBzdHJva2VDb250ZXIrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vUmVtb3ZlIGV2ZXIgc2Vjb25kIGVsZW1lbnRcbiAgICB2YXIgc3BlZWRNZXJnZWQgPSBbXTtcbiAgICB2YXIgaHJNZXJnZWQgPSBbXTtcbiAgICB2YXIgd2F0dE1lcmdlZCA9IFtdO1xuICAgIHZhciBzdHJva2VNZXJnZWQgPSBbXTtcbiAgICB2YXIgbGFiZWxzTWVyZ2VkID0gW107XG4gICAgdmFyIG1lcmdlU2l6ZSA9IDEwO1xuICAgIGlmICh0aW1lLmxlbmd0aCA+IDEwMDApIHtcbiAgICAgICAgbWVyZ2VTaXplID0gMjA7XG4gICAgfVxuXG4gICAgd2hpbGUgKHRpbWUubGVuZ3RoKSB7XG4gICAgICAgIHZhciBhID0gdGltZS5zcGxpY2UoMCwgbWVyZ2VTaXplKTtcbiAgICAgICAgdmFyIHRpbWVWID0gcGFyc2VJbnQoYS5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKyBiOyB9KSAvIGEubGVuZ3RoKTtcbiAgICAgICAgbGFiZWxzTWVyZ2VkLnB1c2gobmV3IERhdGUodGltZVYpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKG5ldyBEYXRlKHRpbWVWKS50b0lTT1N0cmluZygpLmxhc3RJbmRleE9mKCdUJykgKyAxLCA4KSk7XG4gICAgICAgIGlmIChocikge1xuICAgICAgICAgICAgdmFyIGggPSBoci5zcGxpY2UoMCwgbWVyZ2VTaXplKTtcbiAgICAgICAgICAgIGlmIChoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBock1lcmdlZC5wdXNoKHBhcnNlSW50KGgucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICsgYjsgfSkgLyBoLmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJva2UpIHtcbiAgICAgICAgICAgIHZhciBoID0gc3Ryb2tlLnNwbGljZSgwLCBtZXJnZVNpemUpO1xuICAgICAgICAgICAgaWYgKGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHN0cm9rZU1lcmdlZC5wdXNoKE1hdGgucm91bmQocGFyc2VGbG9hdChoLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSArIGI7IH0pIC8gaC5sZW5ndGgpICogMTApIC8gMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzcGVlZCkge1xuICAgICAgICAgICAgdmFyIHMgPSBzcGVlZC5zcGxpY2UoMCwgbWVyZ2VTaXplKTtcbiAgICAgICAgICAgIHZhciB3ID0gd2F0dC5zcGxpY2UoMCwgbWVyZ2VTaXplKTtcbiAgICAgICAgICAgIGlmIChzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzcGVlZE1lcmdlZC5wdXNoKE1hdGgucm91bmQocGFyc2VGbG9hdChzLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSArIGI7IH0pIC8gcy5sZW5ndGgpICogMTApIC8gMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHdhdHRNZXJnZWQucHVzaChNYXRoLnJvdW5kKHBhcnNlRmxvYXQody5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKyBiOyB9KSAvIHcubGVuZ3RoKSAqIDEwKSAvIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjdHggPSAkKCcjaHItZ3JhcGgnKTtcbiAgICB2YXIgbGluZUNoYXJ0RGF0YSA9IHtcbiAgICAgICAgbGFiZWxzOiBsYWJlbHNNZXJnZWQsXG4gICAgICAgIGRhdGFzZXRzOiBbe1xuICAgICAgICAgICAgbGFiZWw6ICdIZWFydCByYXRlIChicG0pJyxcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnI2RjMzU0NScsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZGMzNTQ1JyxcbiAgICAgICAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgICAgICAgZGF0YTogaHJNZXJnZWQsXG4gICAgICAgICAgICAvLyBjdWJpY0ludGVycG9sYXRpb25Nb2RlOiAnbW9ub3RvbmUnLFxuICAgICAgICAgICAgeUF4aXNJRDogJ3ktYXhpcy0xJyxcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbGFiZWw6ICdTcGVlZCAoa20vdCknLFxuICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjMDA3YmZmJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDdiZmYnLFxuICAgICAgICAgICAgZmlsbDogZmFsc2UsXG4gICAgICAgICAgICBkYXRhOiBzcGVlZE1lcmdlZCxcbiAgICAgICAgICAgIC8vY3ViaWNJbnRlcnBvbGF0aW9uTW9kZTogJ21vbm90b25lJyxcbiAgICAgICAgICAgIHlBeGlzSUQ6ICd5LWF4aXMtMidcbiAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1dhdHQnLFxuICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzRiYzBjMCcsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzRiYzBjMCcsXG4gICAgICAgICAgICAgICAgZmlsbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGF0YTogd2F0dE1lcmdlZCxcbiAgICAgICAgICAgICAgICBsaW5lVGVuc2lvbjogMCxcbiAgICAgICAgICAgICAgICAvL2N1YmljSW50ZXJwb2xhdGlvbk1vZGU6ICdtb25vdG9uZScsXG4gICAgICAgICAgICAgICAgeUF4aXNJRDogJ3ktYXhpcy0zJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1N0cm9rZSByYXRlIChzcG0pJyxcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyM5OTY2RkYnLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM5OTY2RkYnLFxuICAgICAgICAgICAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRhdGE6IHN0cm9rZU1lcmdlZCxcbiAgICAgICAgICAgICAgICB5QXhpc0lEOiAneS1heGlzLTQnXG4gICAgICAgICAgICB9XVxuICAgIH07XG4gICAgdmFyIG15TGluZUNoYXJ0ID0gQ2hhcnQuTGluZShjdHgsIHtcbiAgICAgICAgZGF0YTogbGluZUNoYXJ0RGF0YSxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGhvdmVyTW9kZTogJ2luZGV4JyxcbiAgICAgICAgICAgIHN0YWNrZWQ6IGZhbHNlLFxuICAgICAgICAgICAgc2NhbGVzOiB7XG4gICAgICAgICAgICAgICAgeUF4ZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lYXInLCAvLyBvbmx5IGxpbmVhciBidXQgYWxsb3cgc2NhbGUgdHlwZSByZWdpc3RyYXRpb24uIFRoaXMgYWxsb3dzIGV4dGVuc2lvbnMgdG8gZXhpc3Qgc29sZWx5IGZvciBsb2cgc2NhbGUgZm9yIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnbGVmdCcsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAneS1heGlzLTEnLFxuICAgICAgICAgICAgICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGVkTWluOiAzMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBTaXplOiA1XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lYXInLCAvLyBvbmx5IGxpbmVhciBidXQgYWxsb3cgc2NhbGUgdHlwZSByZWdpc3RyYXRpb24uIFRoaXMgYWxsb3dzIGV4dGVuc2lvbnMgdG8gZXhpc3Qgc29sZWx5IGZvciBsb2cgc2NhbGUgZm9yIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICBpZDogJ3ktYXhpcy0yJyxcbiAgICAgICAgICAgICAgICAgICAgdGlja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBTaXplOiAyXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIGdyaWQgbGluZSBzZXR0aW5nc1xuICAgICAgICAgICAgICAgICAgICBncmlkTGluZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdPbkNoYXJ0QXJlYTogZmFsc2UgLy8gb25seSB3YW50IHRoZSBncmlkIGxpbmVzIGZvciBvbmUgYXhpcyB0byBzaG93IHVwXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZWFyJywgLy8gb25seSBsaW5lYXIgYnV0IGFsbG93IHNjYWxlIHR5cGUgcmVnaXN0cmF0aW9uLiBUaGlzIGFsbG93cyBleHRlbnNpb25zIHRvIGV4aXN0IHNvbGVseSBmb3IgbG9nIHNjYWxlIGZvciBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICd5LWF4aXMtMycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBTaXplOiAyNVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdyaWQgbGluZSBzZXR0aW5nc1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZExpbmVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd09uQ2hhcnRBcmVhOiBmYWxzZSAvLyBvbmx5IHdhbnQgdGhlIGdyaWQgbGluZXMgZm9yIG9uZSBheGlzIHRvIHNob3cgdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcicsIC8vIG9ubHkgbGluZWFyIGJ1dCBhbGxvdyBzY2FsZSB0eXBlIHJlZ2lzdHJhdGlvbi4gVGhpcyBhbGxvd3MgZXh0ZW5zaW9ucyB0byBleGlzdCBzb2xlbHkgZm9yIGxvZyBzY2FsZSBmb3IgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAneS1heGlzLTQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGlja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwU2l6ZTogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0ZWRNaW46IDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdyaWQgbGluZSBzZXR0aW5nc1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZExpbmVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd09uQ2hhcnRBcmVhOiBmYWxzZSAvLyBvbmx5IHdhbnQgdGhlIGdyaWQgbGluZXMgZm9yIG9uZSBheGlzIHRvIHNob3cgdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IGFkZEdyYXBoIH1cbiIsInZhciBsaXZlUG9pbnRzID0gW107XG52YXIgbGl2ZU1hcCA9IHt9O1xudmFyIGxpdmVCb3VuZHMgPSB7fTtcblxuXG5leHBvcnQgZGVmYXVsdCB7IGxpdmVQb2ludHMsIGxpdmVNYXAsIGxpdmVCb3VuZHMgfSIsImltcG9ydCBtYXAgZnJvbSAnLi4vbWFwL2luZGV4J1xuXG5jb25zdCBzdHlsZXMgPSBbe1xuICAgIFwiZmVhdHVyZVR5cGVcIjogXCJsYW5kc2NhcGVcIiwgXCJzdHlsZXJzXCI6IFt7IFwic2F0dXJhdGlvblwiOiAtMTAwIH0sIHsgXCJsaWdodG5lc3NcIjogNjUgfSxcbiAgICAgICAgeyBcInZpc2liaWxpdHlcIjogXCJvblwiIH1dXG59LCB7XG4gICAgXCJmZWF0dXJlVHlwZVwiOiBcInBvaVwiLCBcInN0eWxlcnNcIjogW3sgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfSwgeyBcImxpZ2h0bmVzc1wiOiA1MSB9LFxuICAgICAgICB7IFwidmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIiB9XVxufSwge1xuICAgIFwiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmhpZ2h3YXlcIiwgXCJzdHlsZXJzXCI6IFt7IFwic2F0dXJhdGlvblwiOiAtMTAwIH0sXG4gICAgICAgIHsgXCJ2aXNpYmlsaXR5XCI6IFwic2ltcGxpZmllZFwiIH1dXG59LCB7XG4gICAgXCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuYXJ0ZXJpYWxcIiwgXCJzdHlsZXJzXCI6IFt7IFwic2F0dXJhdGlvblwiOiAtMTAwIH0sXG4gICAgICAgIHsgXCJsaWdodG5lc3NcIjogMzAgfSwgeyBcInZpc2liaWxpdHlcIjogXCJvblwiIH1dXG59LCB7XG4gICAgXCJmZWF0dXJlVHlwZVwiOiBcInJvYWQubG9jYWxcIiwgXCJzdHlsZXJzXCI6IFt7IFwic2F0dXJhdGlvblwiOiAtMTAwIH0sXG4gICAgICAgIHsgXCJsaWdodG5lc3NcIjogNDAgfSwgeyBcInZpc2liaWxpdHlcIjogXCJvblwiIH1dXG59LCB7XG4gICAgXCJmZWF0dXJlVHlwZVwiOiBcInRyYW5zaXRcIiwgXCJzdHlsZXJzXCI6IFt7IFwic2F0dXJhdGlvblwiOiAtMTAwIH0sXG4gICAgICAgIHsgXCJ2aXNpYmlsaXR5XCI6IFwic2ltcGxpZmllZFwiIH1dXG59LCB7IFwiZmVhdHVyZVR5cGVcIjogXCJhZG1pbmlzdHJhdGl2ZS5wcm92aW5jZVwiLCBcInN0eWxlcnNcIjogW3sgXCJ2aXNpYmlsaXR5XCI6IFwib2ZmXCIgfV0gfSxcbiAgICB7IFwiZmVhdHVyZVR5cGVcIjogXCJ3YXRlclwiLCBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzXCIsIFwic3R5bGVyc1wiOiBbeyBcInZpc2liaWxpdHlcIjogXCJvblwiIH0sIHsgXCJsaWdodG5lc3NcIjogLTI1IH0sIHsgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfV0gfSxcbiAgICB7IFwiZmVhdHVyZVR5cGVcIjogXCJ3YXRlclwiLCBcImVsZW1lbnRUeXBlXCI6IFwiZ2VvbWV0cnlcIiwgXCJzdHlsZXJzXCI6IFt7IFwiaHVlXCI6IFwiI2ZmZmYwMFwiIH0sIHsgXCJsaWdodG5lc3NcIjogLTI1IH0sIHsgXCJzYXR1cmF0aW9uXCI6IC05NyB9XSB9XTtcblxuZnVuY3Rpb24gY2xlYW5NYXAoKSB7XG4gICAgaW5pdE1hcCgpO1xuICAgIG1hcC5saXZlUG9pbnRzID0gW107XG4gICAgdmFyIHBvbHkgPSBjcmVhdGVQb2x5TGluZShtYXAubGl2ZVBvaW50cyk7XG4gICAgcG9seS5zZXRNYXAobWFwLmxpdmVNYXApO1xuXG4gICAgLy8gZml0IGJvdW5kcyB0byB0cmFja1xuICAgIG1hcC5saXZlTWFwLmZpdEJvdW5kcyhtYXAubGl2ZUJvdW5kcyk7XG59XG5cbmZ1bmN0aW9uIGluaXRNYXAoKSB7XG4gICAgbWFwLmxpdmVNYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXZlLW1hcCcpLCB7XG4gICAgICAgIHpvb206IDgsXG4gICAgICAgIG1heFpvb206IDE2XG4gICAgfSk7XG5cbiAgICBtYXAubGl2ZUJvdW5kcyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMoKTtcbiAgICBtYXAubGl2ZU1hcC5zZXQoJ3N0eWxlcycsIHN0eWxlcyk7XG59XG5cbi8vVE9ETzogQ2hhbmdlIGNvbG9yIGJ5IHNwZWVkIG9yIGhyLlxuZnVuY3Rpb24gY3JlYXRlUG9seUxpbmUocG9pbnRzKSB7XG4gICAgcmV0dXJuIG5ldyBnb29nbGUubWFwcy5Qb2x5bGluZSh7XG4gICAgICAgIHBhdGg6IHBvaW50cyxcbiAgICAgICAgc3Ryb2tlQ29sb3I6IFwiI0ZGMDBBQVwiLFxuICAgICAgICBzdHJva2VPcGFjaXR5OiAuNyxcbiAgICAgICAgc3Ryb2tlV2VpZ2h0OiA0XG4gICAgfSk7XG59XG5cbnZhciBhZGRSb3V0ZVRyYWNrVG9NYXAgPSBmdW5jdGlvbiAobmFtZSwgZWxlbWVudCkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgdXJsOiAnL3JvdXRlcy8nICsgbmFtZSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGVsZW1lbnRbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgem9vbTogOCxcbiAgICAgICAgICAgICAgICAgICAgbWF4Wm9vbTogMTZcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIG1hcC5zZXQoJ3N0eWxlcycsIHN0eWxlcyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5ncHMuZm9yRWFjaChmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhdCA9IHBvaW50LmxhdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvbiA9IHBvaW50LmxvbjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdCwgbG9uKTtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2gocCk7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5leHRlbmQocCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcG9seSA9IGNyZWF0ZVBvbHlMaW5lKHBvaW50cyk7XG5cbiAgICAgICAgICAgICAgICBwb2x5LnNldE1hcChtYXApO1xuXG4gICAgICAgICAgICAgICAgLy8gZml0IGJvdW5kcyB0byB0cmFja1xuICAgICAgICAgICAgICAgIG1hcC5maXRCb3VuZHMoYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxudmFyIGFkZEdweFRyYWNrVG9NYXAgPSBmdW5jdGlvbiAobmFtZSwgZWxlbWVudCkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgdXJsOiAnL3Nlc3Npb25zLycgKyBuYW1lICsgJy5ncHgnLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHhtbCkge1xuICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChlbGVtZW50WzBdLCB7XG4gICAgICAgICAgICAgICAgICAgIHpvb206IDE2XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBtYXAuc2V0KCdzdHlsZXMnLCBzdHlsZXMpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMoKTtcblxuICAgICAgICAgICAgICAgICQoeG1sKS5maW5kKFwidHJrcHRcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXQgPSAkKHRoaXMpLmF0dHIoXCJsYXRcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb24gPSAkKHRoaXMpLmF0dHIoXCJsb25cIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhsYXQsIGxvbik7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHApO1xuICAgICAgICAgICAgICAgICAgICBib3VuZHMuZXh0ZW5kKHApO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBvbHkgPSBjcmVhdGVQb2x5TGluZShwb2ludHMpO1xuXG4gICAgICAgICAgICAgICAgcG9seS5zZXRNYXAobWFwKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpdCBib3VuZHMgdG8gdHJhY2tcbiAgICAgICAgICAgICAgICBtYXAuZml0Qm91bmRzKGJvdW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGxvYWRHcHhNYXAoKSB7XG4gICAgdmFyIG5hbWUgPSAkKHRoaXMpLmRhdGEoJ25hbWUnKTtcbiAgICB2YXIgZWxlbWVudCA9ICQodGhpcykuZmluZCgnLmNhcmQtbWFwLXRvcCcpO1xuICAgIGFkZEdweFRyYWNrVG9NYXAobmFtZSwgZWxlbWVudCk7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgeyBjbGVhbk1hcCwgaW5pdE1hcCwgc3R5bGVzLCBhZGRSb3V0ZVRyYWNrVG9NYXAsIGFkZEdweFRyYWNrVG9NYXAsIGxvYWRHcHhNYXAgfSIsImltcG9ydCBtYXBVdGlscyBmcm9tICcuLi91dGlscy9tYXBVdGlscydcbmltcG9ydCBtYXAgZnJvbSAnLi4vbWFwL2luZGV4J1xuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzL3V0aWxzJztcbmltcG9ydCBncmFwaFV0aWxzIGZyb20gJy4uL3V0aWxzL2dyYXBoVXRpbHMnO1xuaW1wb3J0IHsgVVBEQVRFX0ZSRVEsIFBBR0VfU0laRSwgUkFUSU9OLCBydW4gfSBmcm9tICcuLi91dGlscy9nbG9iYWxzJztcblxuLyoqIEFsbCBsb2FkIGZ1bmN0aW9ucyAqL1xudmFyIGxvYWRSb3V0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICQuZ2V0KFwiL3Jvdy9yb3V0ZXNcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGh0bWwgPSAnJztcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIGdyb3VwID0gJyc7XG4gICAgICAgIGRhdGEuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gKGEuY291bnRyeSA+IGIuY291bnRyeSkgPyAxIDogKChiLmNvdW50cnkgPiBhLmNvdW50cnkpID8gLTEgOiAwKTsgfSk7XG5cbiAgICAgICAgdmFyIHNlbGVjdGVkID0gJ3NlbGVjdGVkPVwic2VsZWN0ZWRcIic7XG4gICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5jb3VudHJ5ICE9PSBncm91cCkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxvcHRncm91cCBsYWJlbD1cIicgKyB2YWx1ZS5jb3VudHJ5ICsgJ1wiPic7XG4gICAgICAgICAgICAgICAgZ3JvdXAgPSB2YWx1ZS5jb3VudHJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHRtbCArPSAnPG9wdGlvbiAnICsgc2VsZWN0ZWQgKyAnIHZhbHVlPVwiJyArIHZhbHVlLmluZGV4ICsgJ1wiIGRhdGEtbGF0PVwiJyArIHZhbHVlLmdwc1swXS5sYXQgKyAnXCIgZGF0YS1sb249XCInICsgdmFsdWUuZ3BzWzBdLmxvbiArICdcIj4nICsgdmFsdWUubmFtZSArICcgKCcgKyB2YWx1ZS5tZXRlcnMgKyAnbSk8L29wdGlvbj4nO1xuICAgICAgICAgICAgc2VsZWN0ZWQgPSAnJztcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH0pO1xuICAgICAgICAkKHRoYXQpLmh0bWwoaHRtbCk7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9ICQoJyNyb3V0ZXMnKS5maW5kKFwiOnNlbGVjdGVkXCIpO1xuICAgICAgICBtYXBVdGlscy5jbGVhbk1hcCgpO1xuICAgICAgICB2YXIgcCA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoJChzZWxlY3RlZCkuZGF0YShcImxhdFwiKSwgJChzZWxlY3RlZCkuZGF0YShcImxvblwiKSk7XG4gICAgICAgIG1hcC5saXZlTWFwLnBhblRvKHApO1xuICAgIH0pO1xuXG59O1xuXG52YXIgY3JlYXRlUm91dGVSZWNvcmQgPSBmdW5jdGlvbiAoaHRtbFRhYmxlLCBpbmRleCwgcm91dGUpIHtcbiAgICBodG1sVGFibGUgKz0gJzx0cj4nO1xuICAgIGh0bWxUYWJsZSArPSAnPHRoIHNjb3BlPVwicm93XCI+JyArIChpbmRleCArIDEpICsgJzwvdGg+JztcbiAgICBodG1sVGFibGUgKz0gJzx0ZD48YSBkYXRhLXRvZ2dsZT1cIm1vZGFsXCIgZGF0YS1yb3V0ZS1uYW1lPVwiJyArIHJvdXRlLm5hbWUgKyAnXCIgZGF0YS10YXJnZXQ9XCIjc2hvdy1yb3V0ZS1tb2RhbFwiIGhyZWY9XCIvcm91dGVzLycgKyByb3V0ZS5uYW1lICsgJ1wiPicgKyByb3V0ZS5uYW1lICsgJzwvYT48L3RkPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+JyArIHBhcnNlSW50KHJvdXRlLm1ldGVycykgKyAnbTwvdGQ+JztcbiAgICBodG1sVGFibGUgKz0gJzx0ZD4nICsgcm91dGUuY291bnRyeSArICc8L3RkPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+J1xuICAgIGlmIChyb3V0ZS5wZXJtYW5lbnQgIT09IHRydWUpIHtcbiAgICAgICAgaHRtbFRhYmxlICs9ICc8YSBjbGFzcz1cImVkaXQtcm91dGVcIiBocmVmPVwiI1wiIGRhdGEtaWQ9XCInICsgcm91dGUubmFtZSArICdcIj48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y3JlYXRlPC9pPjwvYT48YSBjbGFzcz1cImRlbC1yb3V0ZVwiIGhyZWY9XCIjXCIgZGF0YS1pZD1cIicgKyByb3V0ZS5uYW1lICsgJ1wiPjxpIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHRpdGxlPVwiRGVsZXRlIHJvdXRlXCIgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmRlbGV0ZTwvaT48L2E+JyArICc8L3RkPic7XG4gICAgfVxuICAgIGh0bWxUYWJsZSArPSAnPC90cj4nO1xuICAgIHJldHVybiBodG1sVGFibGU7XG59O1xuXG5mdW5jdGlvbiBsb2FkUm91dGUobWFpbkluZGV4KSB7XG4gICAgJCgnI2xvYWQnKS5sb2FkKCcvcm91dGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykuZmluZCgnI3JvdXRlcy10JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsb2FkUm91dGVUYWJsZSgwKTtcbiAgICAgICAgICAgIHZhciBwYWcgPSAkKCcjcm91dGVzLXRhYmxlJykuZmluZCgnLnBhZ2UnKTtcbiAgICAgICAgICAgIGNyZWF0ZVJvdXRlTmF2UGFnZShwYWdbMF0sIG1haW5JbmRleCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVSb3V0ZU5hdlBhZ2UocGFnZSwgaW5kZXgpIHtcbiAgICB2YXIgaHRtbEVsZW1lbnQgPSAkKCc8dWwgaWQ9XCJyb3V0ZS1wYWdlXCIgZGF0YS1pbmRleD1cIicgKyBpbmRleCArICdcIj48L3VsPicpLmFkZENsYXNzKFwicGFnaW5hdGlvbiBwYWdpbmF0aW9uLWxnXCIpO1xuICAgICQuZ2V0KFwicm91dGVzL3NpemVcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIHNpemUgPSBwYXJzZUludChwYXJzZUludChkYXRhKSAvIFBBR0VfU0laRSkgKyAxO1xuICAgICAgICB2YXIgcHJldkRpc2FibGVkID0gKGluZGV4ID09PSAwID8gJ2Rpc2FibGVkJyA6ICcnKTtcbiAgICAgICAgdmFyIG5leHREaXNhYmxlZCA9IChpbmRleCA9PT0gc2l6ZSAtIDEgPyAnZGlzYWJsZWQnIDogJycpO1xuICAgICAgICB2YXIgcHJldiA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgcHJldkRpc2FibGVkICsgJ1wiPjwvbGk+JykuYXBwZW5kKCc8YSBjbGFzcz1cInBhZ2UtbGlua1wiIGhyZWY9XCIjXCIgZGF0YS1uZXh0PVwiLTFcIiB0YWJpbmRleD1cIi0xXCI+UHJldmlvdXM8L2E+Jyk7XG4gICAgICAgIHZhciBuZXh0ID0gJCgnPGxpIGNsYXNzPVwicGFnZS1pdGVtICcgKyBuZXh0RGlzYWJsZWQgKyAnXCI+PC9saT4nKS5hcHBlbmQoJzxhIGNsYXNzPVwicGFnZS1saW5rXCIgZGF0YS1uZXh0PVwiMVwiIGhyZWY9XCIjXCI+TmV4dDwvYT4nKTtcblxuICAgICAgICBodG1sRWxlbWVudC5hcHBlbmQocHJldik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYWN0aXZlID0gJyc7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IGkpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSBcImFjdGl2ZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGl0ZW0gPSAkKCc8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gJyArIGFjdGl2ZSArICdcIj48YSBjbGFzcz1cInBhZ2UtbGlua1wiIGRhdGEtaW5kZXg9XCInICsgaSArICdcIiBocmVmPVwiI1wiPicgKyAoaSArIDEpICsgJzwvYT48L2xpPicpO1xuICAgICAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZChuZXh0KTtcbiAgICAgICAgJChwYWdlKS5odG1sKGh0bWxFbGVtZW50KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbG9hZFJvdXRlVGFibGUobWFpbkluZGV4KSB7XG4gICAgdmFyIHN0YXJ0ID0gbWFpbkluZGV4ICogUEFHRV9TSVpFLCBzdG9wID0gKCgobWFpbkluZGV4ICsgMSkgKiBQQUdFX1NJWkUpKSAtIDE7XG4gICAgJC5nZXQoJy9yb3V0ZXMvJyArIHN0YXJ0ICsgJy8nICsgc3RvcCwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGh0bWxUYWJsZSA9ICcnO1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHJvdXRlKSB7XG4gICAgICAgICAgICBodG1sVGFibGUgPSBjcmVhdGVSb3V0ZVJlY29yZChodG1sVGFibGUsIGluZGV4ICsgKG1haW5JbmRleCAqIFBBR0VfU0laRSksIHJvdXRlKTtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJyNyb3V0ZXMtdGFibGUtYm9keScpLmh0bWwoaHRtbFRhYmxlKTtcbiAgICAgICAgJCgnI2FkZC1yb3V0ZS1tb2RhbCcpLm9uKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgbG9hZFJvdXRlKDApO1xuICAgICAgICB9KVxuICAgIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IGxvYWRSb3V0ZXMsIGNyZWF0ZVJvdXRlUmVjb3JkLCBsb2FkUm91dGUsIGxvYWRSb3V0ZVRhYmxlLCBjcmVhdGVSb3V0ZU5hdlBhZ2UgfSIsIlxudmFyIGxvYWRVc2VycyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgJC5nZXQoXCIvdXNlcnNcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGh0bWwgPSAnJztcbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaHRtbCArPSAnPG9wdGlvbiB2YWx1ZT1cIicgKyB2YWx1ZS5pZCArICdcIj4nICsgdmFsdWUuZmlyc3ROYW1lICsgJyAnICsgdmFsdWUubGFzdE5hbWUgKyAnPC9vcHRpb24+J1xuICAgICAgICB9KTtcbiAgICAgICAgJCh0aGF0KS5odG1sKGh0bWwpXG4gICAgfSk7XG59O1xuXG5cbmZ1bmN0aW9uIGxvYWRVc2VyKCkge1xuICAgICQoJyNsb2FkJykubG9hZCgnL3VzZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykuZmluZCgnI3VzZXJzLWJvZHknKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgICQuZ2V0KFwiL3VzZXJzL1wiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBodG1sID0gJyc7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1c2VyID0gZGF0YVtpXTtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPHRyPjx0ZD48YSBocmVmPVwiI1wiIGRhdGEtaWQ9XCInICsgdXNlci5pZCArICdcIj4nICsgKGkgKyAxKSArICc8L2E+PC90ZD48dGQ+JyArIHVzZXIuZmlyc3ROYW1lICsgJzwvdGQ+PHRkPicgKyB1c2VyLmxhc3ROYW1lICsgJzwvdGQ+JztcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPHRkPjxhIGNsYXNzPVwiZWRpdC11c2VyXCIgaHJlZj1cIiNcIiBkYXRhLWlkPVwiJyArIHVzZXIuaWQgKyAnXCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmNyZWF0ZTwvaT48L2E+PGEgY2xhc3M9XCJkZWwtdXNlclwiIGhyZWY9XCIjXCIgZGF0YS1pZD1cIicgKyB1c2VyLmlkICsgJ1wiPjxpIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHRpdGxlPVwiRGVsZXRlIHVzZXJcIiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZGVsZXRlPC9pPjwvYT48L3RkPicgKyAnPC90cj4nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQodGhhdCkuaHRtbChodG1sKTtcbiAgICAgICAgICAgICAgICAkKCcjYWRkVXNlck1vZGFsJykub24oJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRVc2VyKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCB7IGxvYWRVc2VycywgbG9hZFVzZXIgfSIsImltcG9ydCByb3V0ZSBmcm9tICcuLi9yb3V0ZS9pbmRleCc7XG5pbXBvcnQgdXNlciBmcm9tICcuLi91c2VyL2luZGV4JztcbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy91dGlscydcbmltcG9ydCBtYXBVdGlscyBmcm9tICcuLi91dGlscy9tYXBVdGlscydcbmltcG9ydCBnbG9iYWxzIGZyb20gJy4uL3V0aWxzL2dsb2JhbHMnO1xuXG5mdW5jdGlvbiBsb2FkTWFpbigpIHtcbiAgICAkKCcjbG9hZCcpLmxvYWQoJy9tYWluJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmZpbmQoJyNyb3V0ZXMnKS5lYWNoKHJvdXRlLmxvYWRSb3V0ZXMpO1xuICAgICAgICAkKHRoaXMpLmZpbmQoJyNzZXNzaW9uLXVzZXInKS5lYWNoKHVzZXIubG9hZFVzZXJzKTtcbiAgICAgICAgJC5nZXQoXCIvcm93L3N0YXR1c1wiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAnUk9XSU5HJykge1xuICAgICAgICAgICAgICAgIHZhciBzdGFydEJ1dHRvbiA9ICQoJyNzdGFydFJvdycpO1xuICAgICAgICAgICAgICAgIGlmICh1dGlscy5nZXRVcmxQYXJhbWV0ZXIoXCJ0ZXN0XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0QnV0dG9uID0gJCgnI3N0YXJ0U2ltdWxhdG9yJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhcnQoc3RhcnRCdXR0b24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvL1J1biBzaW11bGF0b3IgaWYgdGVzdC5cbiAgICAgICAgaWYgKHV0aWxzLmdldFVybFBhcmFtZXRlcihcInRlc3RcIikpIHtcbiAgICAgICAgICAgICQoJyNzdGFydFJvdycpLmF0dHIoXCJpZFwiLCBcInN0YXJ0U2ltdWxhdG9yXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0KHN0YXJ0QnV0dG9uKSB7XG4gICAgJCh3aW5kb3cpLnNjcm9sbFRvcCgkKCcjbWFpbicpLm9mZnNldCgpLnRvcCk7IC8vU2Nyb2xsXG4gICAgZ2V0X3Jvd0luZm8odHJ1ZSwgXCJSb3dpbmdcIik7XG4gICAgbWFwVXRpbHMuY2xlYW5NYXAoKTtcbiAgICAkKCcjcm91dGVzJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAkKCcjc2Vzc2lvbi11c2VyJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAkKFwiI3N0YXJ0U2ltdWxhdG9yXCIpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgJChzdGFydEJ1dHRvbikuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAkKHN0YXJ0QnV0dG9uKS5odG1sKCdSb3dpbmcuLi4nKTtcbiAgICAkKHN0YXJ0QnV0dG9uKS5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgJCgnI3N0b3BSb3cnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG59XG5cbmZ1bmN0aW9uIGdldF9yb3dJbmZvKGNvbnRpbnVlcywgdGl0bGUpIHtcbiAgICBnbG9iYWxzLnJ1biA9IGNvbnRpbnVlcztcbiAgICAkLmdldChcIi9yb3dcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGh0bWwgPSBnZXRIdG1sKHRpdGxlLCBkYXRhKTtcbiAgICAgICAgaWYgKGh0bWwpIHtcbiAgICAgICAgICAgICQoJyN0YWJsZS1jb250ZW50JykuaHRtbChodG1sKTtcbiAgICAgICAgICAgICQoJyNsYXBzLWJvZHknKS5odG1sKGdldExhcEh0bWwodGl0bGUsIGRhdGEsIHRydWUpKTtcbiAgICAgICAgICAgIHZhciBsYXQgPSBkYXRhLmdwcy5sYXQ7XG4gICAgICAgICAgICB2YXIgbG9uID0gZGF0YS5ncHMubG9uO1xuICAgICAgICAgICAgdmFyIHAgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdCwgbG9uKTtcbiAgICAgICAgICAgIG1hcC5saXZlUG9pbnRzLnB1c2gocCk7XG4gICAgICAgICAgICBpZiAobWFwLmxpdmVCb3VuZHMpIHtcbiAgICAgICAgICAgICAgICBtYXAubGl2ZUJvdW5kcy5leHRlbmQocCk7XG4gICAgICAgICAgICAgICAgdmFyIHBvbHkgPSBtYXBVdGlscy5jcmVhdGVQb2x5TGluZShtYXAubGl2ZVBvaW50cyk7XG4gICAgICAgICAgICAgICAgcG9seS5zZXRNYXAobWFwLmxpdmVNYXApO1xuICAgICAgICAgICAgICAgIG1hcC5saXZlTWFwLmZpdEJvdW5kcyhtYXAubGl2ZUJvdW5kcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH0pLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZ2xvYmFscy5ydW4pIHtcbiAgICAgICAgICAgIHRpbWVPdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgZ2V0X3Jvd0luZm8odHJ1ZSwgdGl0bGUpOyB9LCBVUERBVEVfRlJFUSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuXG5mdW5jdGlvbiBnZXRIdG1sKGxhYmVsLCBqc29uLCBkYXkpIHtcbiAgICBpZiAocGFyc2VJbnQoanNvbi5tZXRlcnMpID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGh0bWwgPSAnJztcbiAgICBpZiAoZGF5KSB7XG4gICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5EYXk8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIGpzb24uc3RhcnQuc3Vic3RyKDIsIGpzb24uc3RhcnQubGFzdEluZGV4T2YoJ1QnKSAtIDIpICsgJzwvZGl2PjwvZGl2Pic7XG4gICAgfVxuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5TdGFydDo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIGpzb24uc3RhcnQuc3Vic3RyKGpzb24uc3RhcnQubGFzdEluZGV4T2YoJ1QnKSArIDEsIDgpICsgJzwvZGl2PjwvZGl2Pic7XG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPlRpbWU6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyB1dGlscy5mbXRNU1MocGFyc2VJbnQoanNvbi5zZWNvbmRzKSkgKyAnPC9kaXY+PC9kaXY+JztcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+TGVuZ3RoOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2xcIj4nICsgcGFyc2VJbnQoanNvbi5tZXRlcnMpICsgJyBtICgnICsgcGFyc2VJbnQoanNvbi5yb3V0ZUxhcCkgKyAnKTwvZGl2PjwvZGl2Pic7XG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPlBhY2U6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoanNvbi5wYWNlKSAqIDMuNiAqIDEwKSAvIDEwICsgJyBrbS90PC9kaXY+PC9kaXY+JztcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+NTAwbTo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIHV0aWxzLmZtdE1TUyhwYXJzZUludChqc29uLmxhcFBhY2UpKSArICc8L2Rpdj48L2Rpdj4nO1xuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj4yazo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIHV0aWxzLmZtdE1TUyhwYXJzZUludChqc29uLnRvd0tQYWNlKSkgKyAnPC9kaXY+PC9kaXY+JztcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+QXZnLlc6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoanNvbi53YXR0KSAqIDEwKSAvIDEwICsgJ3c8L2Rpdj48L2Rpdj4nO1xuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5TUjo8L2Rpdj48ZGl2IGNsYXNzPVwiY29sXCI+JyArIE1hdGgucm91bmQocGFyc2VGbG9hdChqc29uLnN0cm9rZSkgKiAxMCkgLyAxMCArICc8L2Rpdj48L2Rpdj4nO1xuICAgIGlmIChwYXJzZUludChqc29uLmhyKSA+IDApIHtcbiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPkhSOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2wgJyArIHV0aWxzLmdldEhlYXJ0UmF0ZUNvbG9yKHBhcnNlSW50KGpzb24uaHIpKSArICdcIj4nICsgcGFyc2VJbnQoanNvbi5ocikgKyAocGFyc2VJbnQoanNvbi5hdmdIcikgPiAwID8gJygnICsgcGFyc2VJbnQoanNvbi5hdmdIcikgKyAnKScgOiAnJykgKyAnPC9kaXY+PC9kaXY+JztcbiAgICB9XG4gICAgaWYgKGpzb24uZmlsZU5hbWUpIHtcbiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2xcIj5BY3Rpb25zOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2xcIj48YSBocmVmPVwiL3Nlc3Npb25zLycgKyBqc29uLmZpbGVOYW1lO1xuICAgICAgICBodG1sICs9ICdcIj48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZmlsZV9kb3dubG9hZDwvaT48YSBjbGFzcz1cInN0cmF2YVwiIGhyZWY9XCIvc3RyYXZhL3VwbG9hZC8nICsganNvbi5uYW1lO1xuICAgICAgICBodG1sICs9ICdcIj48aSBhcmlhLWhpZGRlbj1cInRydWVcIiB0aXRsZT1cIlVwbG9hZCB0byBzdHJhdmFcIiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2xvdWRfdXBsb2FkPC9pPjwvYT4nO1xuICAgICAgICBodG1sICs9ICc8YSBjbGFzcz1cInNlc3Npb25zXCIgZGF0YS1uYW1lPVwiJyArIGpzb24ubmFtZSArICdcIiBocmVmPVwiL3Nlc3Npb25zXCI+PGkgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdGl0bGU9XCJTZXNzaW9uXCIgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmZpYmVyX25ldzwvaT48L2E+PC9kaXY+PC9kaXY+JztcbiAgICB9XG4gICAgcmV0dXJuIGh0bWwgKyBcIlwiO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IHsgbG9hZE1haW4sIHN0YXJ0LCBnZXRfcm93SW5mbywgZ2V0SHRtbCB9OyIsImltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy91dGlscyc7XG5pbXBvcnQgeyBVUERBVEVfRlJFUSwgUEFHRV9TSVpFLCBSQVRJT04gfSBmcm9tICcuLi91dGlscy9nbG9iYWxzJztcblxuXG5mdW5jdGlvbiBsb2FkSGlzdG9yeUluZGV4KGluZGV4KSB7XG4gICAgbG9hZEhpc3RvcnkoaW5kZXgpO1xufVxuXG5mdW5jdGlvbiBsb2FkSGlzdG9yeShtYWluSW5kZXgpIHtcbiAgICAkKCcjbG9hZCcpLmxvYWQoJy9oaXN0b3J5JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmZpbmQoJyNoaXN0b3J5JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsb2FkTGFzdDNTZXNzaW9ucygpO1xuICAgICAgICAgICAgbG9hZEhpc3RvcnlMaXN0KCQodGhpcyksIG1haW5JbmRleCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkTGFzdDNTZXNzaW9ucygpIHtcbiAgICAkLmdldCgnL3Nlc3Npb24vJyArIDAgKyAnLycgKyAyLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgaHRtbENhcmRzID0gJyc7XG4gICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoc2Vzc2lvbikge1xuICAgICAgICAgICAgaHRtbENhcmRzID0gY3JlYXRlQ2FyZChodG1sQ2FyZHMsIHNlc3Npb24pO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjY2FyZHMnKS5odG1sKCc8ZGl2IGNsYXNzPVwiY29sXCI+PGRpdiBjbGFzcz1cImNhcmQtZGVja1wiPicgKyBodG1sQ2FyZHMgKyAnPC9kaXY+PC9kaXY+Jyk7XG4gICAgICAgICQoJy5ncHgtdHJhY2snKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQodGhpcykudHJpZ2dlcihcImxvYWQtbWFwXCIsIHRoaXMpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbG9hZEhpc3RvcnlMaXN0KHRoYXQsIG1haW5JbmRleCkge1xuICAgIHZhciBzdGFydCA9IG1haW5JbmRleCAqIFBBR0VfU0laRSwgc3RvcCA9ICgoKG1haW5JbmRleCArIDEpICogUEFHRV9TSVpFKSkgLSAxO1xuICAgICQuZ2V0KCcvc2Vzc2lvbi8nICsgc3RhcnQgKyAnLycgKyBzdG9wLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAkLmdldCgnL3VzZXJzJywgZnVuY3Rpb24gKHVzZXJzKSB7XG4gICAgICAgICAgICB2YXIgaHRtbFRhYmxlID0gJycsIGluZGV4ID0gMDtcbiAgICAgICAgICAgIHZhciB1c2VyTWFwID0gdXNlcnMucmVkdWNlKGZ1bmN0aW9uKG1hcCwgb2JqKSB7XG4gICAgICAgICAgICAgICAgbWFwW29iai5pZF0gPSBvYmo7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIGh0bWxUYWJsZSA9IGNyZWF0ZUxhcFRhYmxlUmVjb3JkKGh0bWxUYWJsZSwgaW5kZXggKyAobWFpbkluZGV4ICogUEFHRV9TSVpFKSwgc2Vzc2lvbiwgdXNlck1hcCk7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCcjaGlzdG9yLXRhYmxlLWJvZHknKS5odG1sKGh0bWxUYWJsZSk7XG4gICAgICAgICAgICB2YXIgcGFnID0gdGhhdC5maW5kKCcucGFnZScpO1xuICAgICAgICAgICAgY3JlYXRlSGlzdG9yeU5hdlBhZ2UocGFnLCBtYWluSW5kZXgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuXG52YXIgY3JlYXRlQ2FyZCA9IGZ1bmN0aW9uIChodG1sQ2FyZHMsIHNlc3Npb24pIHtcbiAgICBodG1sQ2FyZHMgKz0gJzxkaXYgY2xhc3M9XCJjYXJkIGdweC10cmFja1wiIGRhdGEtbmFtZT1cIicgKyBzZXNzaW9uLm5hbWUgKyAnXCJcIj4nO1xuICAgIGh0bWxDYXJkcyArPSAnPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPic7XG4gICAgaHRtbENhcmRzICs9ICc8ZGl2IGNsYXNzPVwiY2FyZC1tYXAtdG9wIFwiPjwvZGl2Pic7XG4gICAgaHRtbENhcmRzICs9ICc8aDUgY2xhc3M9XCJjYXJkLXRpdGxlIG10LTJcIj48YSBjbGFzcz1cInNlc3Npb25zXCIgZGF0YS1uYW1lPVwiJyArIHNlc3Npb24ubmFtZSArICdcIiBocmVmPVwiL3Nlc3Npb25cIj4nICsgdXRpbHMuc2Vzc2lvbk5hbWVUb1JlYWRhYmxlKHNlc3Npb24ubmFtZSkgKyAnPC9hPjwvaDU+JztcbiAgICBodG1sQ2FyZHMgKz0gJzxwIGNsYXNzPVwiY2FyZC10ZXh0XCI+TGVuZ3RoOiAnICsgcGFyc2VJbnQoc2Vzc2lvbi5lbmRTdGF0cy5tZXRlcnMpICsgJ20sIFRpbWU6ICcgKyB1dGlscy5mbXRNU1MocGFyc2VJbnQoc2Vzc2lvbi5lbmRTdGF0cy5zZWNvbmRzKSkgKyAnPC9wPic7XG4gICAgaHRtbENhcmRzICs9ICc8YSBocmVmPVwiL3N0cmF2YS91cGxvYWQvJyArIHNlc3Npb24ubmFtZSArICdcIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBzdHJhdmEgYnRuLWJsb2NrXCI+VXBsb2FkIHRvIFN0cmF2YTwvYT4nO1xuICAgIGh0bWxDYXJkcyArPSAnPC9kaXY+JztcbiAgICBodG1sQ2FyZHMgKz0gJzwvZGl2Pic7XG4gICAgcmV0dXJuIGh0bWxDYXJkcztcbn07XG5cbnZhciBjcmVhdGVMYXBUYWJsZVJlY29yZCA9IGZ1bmN0aW9uIChodG1sVGFibGUsIGluZGV4LCBzZXNzaW9uLCB1c2VyTWFwKSB7XG4gICAgdmFyIHVzZXIgPSB1c2VyTWFwW3Nlc3Npb24udXNlcl07XG4gICAgaHRtbFRhYmxlICs9ICc8dHI+JztcbiAgICBodG1sVGFibGUgKz0gJzx0aCBzY29wZT1cInJvd1wiPicgKyAoaW5kZXggKyAxKSArICc8L3RoPic7XG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+PGEgY2xhc3M9XCJzZXNzaW9uc1wiIGRhdGEtbmFtZT1cIicgKyBzZXNzaW9uLm5hbWUgKyAnXCIgaHJlZj1cIi8/bmFtZT0nK3Nlc3Npb24ubmFtZSsnI3Nlc3Npb25cIj4nICsgdXRpbHMuc2Vzc2lvbk5hbWVUb1JlYWRhYmxlKHNlc3Npb24ubmFtZSkgKyAnPC9hPjwvdGQ+JztcbiAgICBodG1sVGFibGUgKz0gJzx0ZD5MZW5ndGg6ICcgKyBwYXJzZUludChzZXNzaW9uLmVuZFN0YXRzLm1ldGVycykgKyAnbTwvdGQ+JztcbiAgICBpZiAodXNlcikge1xuICAgICAgICBodG1sVGFibGUgKz0gJzx0ZD4nICsgdXNlci5maXJzdE5hbWUgKyAnICcgKyB1c2VyLmxhc3ROYW1lICsgJzwvdGQ+JztcbiAgICB9IGVsc2Uge1xuICAgICAgICBodG1sVGFibGUgKz0gJzx0ZD48L3RkPic7XG4gICAgfVxuICAgIGh0bWxUYWJsZSArPSAnPHRkPiA8YSBocmVmPVwiL3Nlc3Npb25zLycgKyBzZXNzaW9uLm5hbWUgKyAnLmdweFwiPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgbWQtMzZcIj5maWxlX2Rvd25sb2FkPC9pPjxhIGNsYXNzPVwic3RyYXZhXCIgaHJlZj1cIi9zdHJhdmEvdXBsb2FkLycgKyBzZXNzaW9uLm5hbWUgKyAnXCI+PGkgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdGl0bGU9XCJVcGxvYWQgdG8gU3RyYXZhXCIgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBtZC0zNlwiPmNsb3VkX3VwbG9hZDwvaT48L2E+IDxhIGNsYXNzPVwiZGVsLXNlc3Npb25cIiBocmVmPVwiI1wiIGRhdGEtbmFtZT1cIicgKyBzZXNzaW9uLm5hbWUgKyAnXCI+PGkgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdGl0bGU9XCJEZWxldGUgc2Vzc2lvbiBsb2NhbFwiIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgbWQtMzZcIj5kZWxldGU8L2k+PC9hPjwvdGQ+JztcbiAgICBodG1sVGFibGUgKz0gJzwvdHI+JztcbiAgICByZXR1cm4gaHRtbFRhYmxlO1xufTtcblxuZnVuY3Rpb24gY3JlYXRlSGlzdG9yeU5hdlBhZ2UocGFnZSwgaW5kZXgpIHtcbiAgICB2YXIgaHRtbEVsZW1lbnQgPSAkKCc8dWwgaWQ9XCJoaXN0b3J5LXBhZ2VcIiBkYXRhLWluZGV4PVwiJyArIGluZGV4ICsgJ1wiPjwvdWw+JykuYWRkQ2xhc3MoXCJwYWdpbmF0aW9uIHBhZ2luYXRpb24tbGdcIik7XG4gICAgJC5nZXQoXCJzZXNzaW9uL3NpemVcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIHNpemUgPSBwYXJzZUludChwYXJzZUludChkYXRhKSAvIFBBR0VfU0laRSkgKyAxO1xuICAgICAgICB2YXIgcHJldkRpc2FibGVkID0gKGluZGV4ID09PSAwID8gJ2Rpc2FibGVkJyA6ICcnKTtcbiAgICAgICAgdmFyIG5leHREaXNhYmxlZCA9IChpbmRleCA9PT0gc2l6ZSAtIDEgPyAnZGlzYWJsZWQnIDogJycpO1xuICAgICAgICB2YXIgcHJldiA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgcHJldkRpc2FibGVkICsgJ1wiPjwvbGk+JykuYXBwZW5kKCc8YSBjbGFzcz1cInBhZ2UtbGlua1wiIGhyZWY9XCIjXCIgZGF0YS1uZXh0PVwiLTFcIiB0YWJpbmRleD1cIi0xXCI+UHJldmlvdXM8L2E+Jyk7XG4gICAgICAgIHZhciBuZXh0ID0gJCgnPGxpIGNsYXNzPVwicGFnZS1pdGVtICcgKyBuZXh0RGlzYWJsZWQgKyAnXCI+PC9saT4nKS5hcHBlbmQoJzxhIGNsYXNzPVwicGFnZS1saW5rXCIgZGF0YS1uZXh0PVwiMVwiIGhyZWY9XCIjXCI+TmV4dDwvYT4nKTtcblxuICAgICAgICBodG1sRWxlbWVudC5hcHBlbmQocHJldik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYWN0aXZlID0gJyc7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IGkpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSBcImFjdGl2ZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGl0ZW0gPSAkKCc8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gJyArIGFjdGl2ZSArICdcIj48YSBjbGFzcz1cInBhZ2UtbGlua1wiIGRhdGEtaW5kZXg9XCInICsgaSArICdcIiBocmVmPVwiI1wiPicgKyAoaSArIDEpICsgJzwvYT48L2xpPicpO1xuICAgICAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZChuZXh0KTtcbiAgICAgICAgJChwYWdlKS5odG1sKGh0bWxFbGVtZW50KTtcbiAgICB9KTtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCB7IGxvYWRIaXN0b3J5SW5kZXgsIGxvYWRIaXN0b3J5LCBsb2FkSGlzdG9yeUxpc3QgfSIsImltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy91dGlscyc7XG5pbXBvcnQgZ3JhcGhVdGlscyBmcm9tICcuLi91dGlscy9ncmFwaFV0aWxzJztcbmltcG9ydCB7IFVQREFURV9GUkVRLCBQQUdFX1NJWkUsIFJBVElPTiwgcnVuIH0gZnJvbSAnLi4vdXRpbHMvZ2xvYmFscyc7XG5pbXBvcnQgZnJvbnQgZnJvbSAnLi4vZnJvbnQvaW5kZXgnO1xuaW1wb3J0IHJvdXRlIGZyb20gJy4uL3JvdXRlL2luZGV4JztcbmltcG9ydCB1c2VyIGZyb20gJy4uL3VzZXIvaW5kZXgnO1xuaW1wb3J0IG1hcFV0aWxzIGZyb20gJy4uL3V0aWxzL21hcFV0aWxzJ1xuaW1wb3J0IG1hcCBmcm9tICcuLi9tYXAvaW5kZXgnXG5pbXBvcnQgaGlzdG9yeSBmcm9tICcuLi9oaXN0b3J5L2luZGV4J1xuXG5cbmZ1bmN0aW9uIGxvYWRTZXNzaW9uKG5hbWUpIHtcbiAgICAkKCcjbG9hZCcpLmxvYWQoJy9zZXNzaW9ucycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5maW5kKCcjcm91dGVzJykuZWFjaChyb3V0ZS5sb2FkUm91dGVzKTtcbiAgICAgICAgJCh0aGlzKS5maW5kKCcjc2Vzc2lvbi11c2VyJykuZWFjaCh1c2VyLmxvYWRVc2Vycyk7XG4gICAgICAgICQodGhpcykuZmluZCgnI2hpc3Rvcnktc2Vzc2lvbicpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRpdGxlID0gXCJIaXN0b3J5XCI7XG4gICAgICAgICAgICAkLmdldChcIi9zZXNzaW9uL1wiICsgbmFtZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGZyb250LmdldEh0bWwodGl0bGUsIGRhdGEuZW5kU3RhdHMsIHRydWUpO1xuICAgICAgICAgICAgICAgICQoJyNyb3V0ZXMnKS52YWwoZGF0YS5yb3V0ZSk7XG4gICAgICAgICAgICAgICAgJCgnI3Nlc3Npb24tdXNlcicpLnZhbChkYXRhLnVzZXIpO1xuICAgICAgICAgICAgICAgIGlmIChodG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0YWJsZS1jb250ZW50JykuaHRtbChodG1sKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2xhcHMtYm9keScpLmh0bWwoZ2V0TGFwSHRtbCh0aXRsZSwgZGF0YS5lbmRTdGF0cykpO1xuICAgICAgICAgICAgICAgICAgICBtYXBVdGlscy5hZGRHcHhUcmFja1RvTWFwKG5hbWUsICQoXCIjbGl2ZS1tYXBcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncmFwaFV0aWxzLmFkZEdyYXBoKGRhdGEucmF3LCBkYXRhLnJhd0hyLCBwYXJzZUludChkYXRhLnN0YXJ0KSwgZGF0YS5zdHJva2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5cbmZ1bmN0aW9uIGdldExhcEh0bWwobGFiZWwsIGpzb24sIHJldmVyc2UpIHtcbiAgICB2YXIgaHRtbCA9ICcnO1xuICAgIGlmIChwYXJzZUludChqc29uLnRvdGFsTGFwcykgPiAwKSB7XG4gICAgICAgIHZhciBsYXBOdW0gPSAxO1xuICAgICAgICB2YXIgbGFwcyA9IGpzb24ubGFwcztcbiAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgIGxhcHMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgbGFwTnVtID0gbGFwcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgbGFwcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzx0cj48dGggc2NvcGU9XCJyb3dcIj4nICsgbGFwTnVtICsgJzwvdGg+PHRkPicgKyBwYXJzZUludCh2YWx1ZS5tZXRlcnMpICsgJzwvdGQ+PHRkPicgKyB1dGlscy5mbXRNU1MocGFyc2VJbnQodmFsdWUuc2Vjb25kcykpICsgJzwvdGQ+JztcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8dGQ+JyArIE1hdGgucm91bmQocGFyc2VGbG9hdCh2YWx1ZS53YXR0KSAqIDEwKSAvIDEwICsgJ3c8L3RkPjwvdHI+JztcbiAgICAgICAgICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgICAgICAgICBsYXBOdW0tLTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsYXBOdW0rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBodG1sO1xufVxuXG5cbnZhciBjbGlja1Nlc3Npb24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgbmFtZSA9ICQodGhpcykuZGF0YSgnbmFtZScpO1xuICAgIHNlc3Npb24ubG9hZFNlc3Npb24obmFtZSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7IGxvYWRTZXNzaW9uLCBjbGlja1Nlc3Npb24gfSIsImltcG9ydCB1dGlscyBmcm9tICcuL3V0aWxzL3V0aWxzJztcbmltcG9ydCBncmFwaFV0aWxzIGZyb20gJy4vdXRpbHMvZ3JhcGhVdGlscyc7XG5pbXBvcnQgeyBVUERBVEVfRlJFUSwgUEFHRV9TSVpFLCBSQVRJT04sIHJ1biB9IGZyb20gJy4vdXRpbHMvZ2xvYmFscyc7XG5pbXBvcnQgZnJvbnQgZnJvbSAnLi9mcm9udC9pbmRleCc7XG5pbXBvcnQgcm91dGUgZnJvbSAnLi9yb3V0ZS9pbmRleCc7XG5pbXBvcnQgdXNlciBmcm9tICcuL3VzZXIvaW5kZXgnO1xuaW1wb3J0IG1hcFV0aWxzIGZyb20gJy4vdXRpbHMvbWFwVXRpbHMnXG5pbXBvcnQgbWFwIGZyb20gJy4vbWFwL2luZGV4J1xuaW1wb3J0IGhpc3RvcnkgZnJvbSAnLi9oaXN0b3J5L2luZGV4J1xuaW1wb3J0IHNlc3Npb24gZnJvbSAnLi9zZXNzaW9uL2luZGV4J1xuXG5cbnZhciB0aW1lT3V0O1xuXG4vKipcbiAqIERlY2xhcmVzIGEgbmV3IG9iamVjdCBpbiB0aGUgd2luZG93IG5hbWVseSBRdWVyeVN0cmluZyB0aGF0IGNvbnRhaW5zIGV2ZXJ5IGdldCBwYXJhbWV0ZXIgZnJvbSB0aGUgY3VycmVudCBVUkwgYXMgYSBwcm9wZXJ0eVxuICovXG53aW5kb3cuUXVlcnlTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyBhbm9ueW1vdXMsIGlzIGV4ZWN1dGVkIGltbWVkaWF0ZWx5IGFuZCBcbiAgICAvLyB0aGUgcmV0dXJuIHZhbHVlIGlzIGFzc2lnbmVkIHRvIFF1ZXJ5U3RyaW5nIVxuICAgIHZhciBxdWVyeV9zdHJpbmcgPSB7fTtcbiAgICB2YXIgcXVlcnkgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKTtcbiAgICB2YXIgdmFycyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xuXG4gICAgICAgIC8vIElmIGZpcnN0IGVudHJ5IHdpdGggdGhpcyBuYW1lXG4gICAgICAgIGlmICh0eXBlb2YgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICAgICAgICAvLyBJZiBzZWNvbmQgZW50cnkgd2l0aCB0aGlzIG5hbWVcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB2YXIgYXJyID0gW3F1ZXJ5X3N0cmluZ1twYWlyWzBdXSwgZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pXTtcbiAgICAgICAgICAgIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9IGFycjtcbiAgICAgICAgICAgIC8vIElmIHRoaXJkIG9yIGxhdGVyIGVudHJ5IHdpdGggdGhpcyBuYW1lXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0ucHVzaChkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHF1ZXJ5X3N0cmluZztcbn0oKTtcblxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBldmVyeSBnZXQgcGFyYW1ldGVyIGZyb20gYSBVUkwgKGZpcnN0IGFyZ3VtZW50KSBhcyBhIHByb3BlcnR5XG4gKiBcbiAqIEBwYXJhbSBVUkwge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gUXVlcnlTdHJpbmcoVVJMKSB7XG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyBhbm9ueW1vdXMsIGlzIGV4ZWN1dGVkIGltbWVkaWF0ZWx5IGFuZCBcbiAgICAvLyB0aGUgcmV0dXJuIHZhbHVlIGlzIGFzc2lnbmVkIHRvIFF1ZXJ5U3RyaW5nIVxuICAgIHZhciBxdWVyeV9zdHJpbmcgPSB7fTtcbiAgICB2YXIgdXNlZnVsUGFyYW0gPSBVUkwuc3BsaXQoXCI/XCIpWzFdIHx8IFwiXCI7XG4gICAgdmFyIHF1ZXJ5ID0gdXNlZnVsUGFyYW0gfHwgXCJcIjtcbiAgICB2YXIgdmFycyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xuICAgICAgICBcbiAgICAgICAgLy8gSWYgZmlyc3QgZW50cnkgd2l0aCB0aGlzIG5hbWVcbiAgICAgICAgaWYgKHR5cGVvZiBxdWVyeV9zdHJpbmdbcGFpclswXV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcbiAgICAgICAgICAgIC8vIElmIHNlY29uZCBlbnRyeSB3aXRoIHRoaXMgbmFtZVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBxdWVyeV9zdHJpbmdbcGFpclswXV0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHZhciBhcnIgPSBbcXVlcnlfc3RyaW5nW3BhaXJbMF1dLCBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSldO1xuICAgICAgICAgICAgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID0gYXJyO1xuICAgICAgICAgICAgLy8gSWYgdGhpcmQgb3IgbGF0ZXIgZW50cnkgd2l0aCB0aGlzIG5hbWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXS5wdXNoKGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcXVlcnlfc3RyaW5nO1xufVxuXG5cbiQoZnVuY3Rpb24gKCkge1xuXG4gICAgLyoqIEluaXQgc2hhcmVkICovXG4gICAgZnJvbnQuZ2V0X3Jvd0luZm8oZmFsc2UsIFwiXCIpO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLm1haW4nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBmcm9udC5sb2FkTWFpbigpO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnI3VzZXInLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB1c2VyLmxvYWRVc2VyKCk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcjaGlzdG9yeS1wYWdlIGEnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBuZXh0ID0gcGFyc2VJbnQoJCh0aGlzKS5kYXRhKCduZXh0JykpLCBpbmRleCA9IHBhcnNlSW50KCQodGhpcykuZGF0YSgnaW5kZXgnKSksXG4gICAgICAgICAgICBtYWluSW5kZXggPSBwYXJzZUludCgkKCcjaGlzdG9yeS1wYWdlJykuZGF0YSgnaW5kZXgnKSk7XG4gICAgICAgIGlmICghaXNOYU4obmV4dCkpIHtcbiAgICAgICAgICAgIG1haW5JbmRleCArPSBuZXh0O1xuICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihpbmRleCkpIHtcbiAgICAgICAgICAgIG1haW5JbmRleCA9IGluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGhpc3RvcnkubG9hZEhpc3RvcnlMaXN0KCQoJyNoaXN0b3J5LXRhYmxlJyksIG1haW5JbmRleCk7XG4gICAgfSk7XG5cbiAgICAvL1RPRE86IHJlZmFjdG9yeVxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJyNyb3V0ZS1wYWdlIGEnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBuZXh0ID0gcGFyc2VJbnQoJCh0aGlzKS5kYXRhKCduZXh0JykpLCBpbmRleCA9IHBhcnNlSW50KCQodGhpcykuZGF0YSgnaW5kZXgnKSksXG4gICAgICAgICAgICBtYWluSW5kZXggPSBwYXJzZUludCgkKCcjcm91dGUtcGFnZScpLmRhdGEoJ2luZGV4JykpO1xuICAgICAgICBpZiAoIWlzTmFOKG5leHQpKSB7XG4gICAgICAgICAgICBtYWluSW5kZXggKz0gbmV4dDtcbiAgICAgICAgfSBlbHNlIGlmICghaXNOYU4oaW5kZXgpKSB7XG4gICAgICAgICAgICBtYWluSW5kZXggPSBpbmRleDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFnID0gJCgnI3JvdXRlcy10YWJsZScpLmZpbmQoJy5wYWdlJyk7XG4gICAgICAgIHJvdXRlLmNyZWF0ZVJvdXRlTmF2UGFnZShwYWdbMF0sIG1haW5JbmRleCk7XG4gICAgICAgIHJvdXRlLmxvYWRSb3V0ZVRhYmxlKG1haW5JbmRleCk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcubmF2LWxpbmsnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAkKCcjbWFpbi1uYXYnKS5maW5kKFwiLm5hdi1pdGVtXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQodGhpcykucGFyZW50KCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcuc2Vzc2lvbnMnLCBzZXNzaW9uLmNsaWNrU2Vzc2lvbik7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICdhI2hpc3RvcnknLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBoaXN0b3J5LmxvYWRIaXN0b3J5SW5kZXgoMCwgMCk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICdhI3JvdXRlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcm91dGUubG9hZFJvdXRlKDApO1xuICAgIH0pO1xuXG5cbiAgICAkKGRvY3VtZW50KS5vbihcImxvYWQtbWFwXCIsICcuZ3B4LXRyYWNrJywgbWFwVXRpbHMubG9hZEdweE1hcCk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICdidXR0b24jc3RhcnRSb3cnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciByb3V0ZXMgPSAkKCcjcm91dGVzJykudmFsKCk7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgJC5nZXQoXCIvcm93L3N0YXJ0XCIsIHsgcm91dGVzOiByb3V0ZXMgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnJvbnQuc3RhcnQodGhhdCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnYnV0dG9uI3N0b3BSb3cnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciB0aGF0ID0gJCh0aGlzKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVPdXQpO1xuICAgICAgICBydW4gPSBmYWxzZTtcbiAgICAgICAgdmFyIHJvdXRlcyA9ICQoJyNyb3V0ZXMnKS52YWwoKTtcbiAgICAgICAgdmFyIHVzZXIgPSAkKCcjc2Vzc2lvbi11c2VyJykudmFsKCk7XG4gICAgICAgICQuZ2V0KFwiL3Jvdy9zdG9wXCIsIHsgcm91dGVzOiByb3V0ZXMsIHVzZXI6IHVzZXIgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICQoJyN0YWJsZS1jb250ZW50JykuaHRtbChmcm9udC5nZXRIdG1sKFwiU3RvcHBlZFwiLCBkYXRhLCBmYWxzZSkpO1xuICAgICAgICAgICAgdmFyIHN0YXJ0Um93ID0gJChcIiNzdGFydFJvd1wiKTtcbiAgICAgICAgICAgIHN0YXJ0Um93LnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICBzdGFydFJvdy5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICAgICBzdGFydFJvdy5odG1sKCdTdGFydCByb3cnKTtcbiAgICAgICAgICAgIHRoYXQuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgJCgnI3JvdXRlcycpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAkKCcjc2Vzc2lvbi11c2VyJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICQoXCIjc3RhcnRTaW11bGF0b3JcIikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcuZWRpdC11c2VyJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6ICcvdXNlcnMvJyArIGlkLFxuICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGZvcm0gPSAkKFwiI2FkZFVzZXJGb3JtXCIpO1xuICAgICAgICAgICAgICAgIGZvcm0uZmluZCgnI2ZpcnN0TmFtZScpLnZhbChyZXN1bHQuZmlyc3ROYW1lKTtcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJyNsYXN0TmFtZScpLnZhbChyZXN1bHQubGFzdE5hbWUpO1xuICAgICAgICAgICAgICAgIGZvcm0uZmluZCgnI3VzZXJJZCcpLnZhbChyZXN1bHQuaWQpO1xuICAgICAgICAgICAgICAgICQuZ2V0KCcvc3RyYXZhL3VybCcsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBkYXRhLnVybC5yZXBsYWNlKFwiJTI0XCIsIHJlc3VsdC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zdHJhdmEtdXJsJykuYXR0cignaHJlZicsIHVybCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGNvbm5lY3QgPSAkKFwiLnN0cmF2YS1jb25uZWN0XCIpO1xuICAgICAgICAgICAgICAgIGNvbm5lY3QucmVtb3ZlQ2xhc3MoXCJzci1vbmx5XCIpO1xuICAgICAgICAgICAgICAgICQoJyNhZGRVc2VyTW9kYWwnKS5tb2RhbCgnc2hvdycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5lZGl0LXJvdXRlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6ICcvcm91dGVzLycgKyBpZCxcbiAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHZhciBmb3JtID0gJChcIiNhZGRSb3V0ZVwiKTtcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJyNuYW1lJykudmFsKHJlc3VsdC5uYW1lKTtcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJyNtZXRlcnMnKS52YWwocmVzdWx0Lm1ldGVycyk7XG4gICAgICAgICAgICAgICAgZm9ybS5maW5kKCcjc2VnbWVudElkJykudmFsKHJlc3VsdC5zZWdtZW50SWQpO1xuICAgICAgICAgICAgICAgIGZvcm0uZmluZCgnI2NvdW50cmllcycpLnZhbChyZXN1bHQuY291bnRyeSk7XG4gICAgICAgICAgICAgICAgLy9ncHMucmVwbGFjZSgvKC4qKSwoLiopLCguKikvZ20sICd7IFwibGF0XCI6ICQxLCBcImxvblwiOiAkMiwgXCJlbFwiOiAkMyB9LCcpO1xuICAgICAgICAgICAgICAgIHZhciBncHNDdnMgPSBKU09OLnN0cmluZ2lmeShyZXN1bHQuZ3BzKTtcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJyNncHMnKS5hcHBlbmQoZ3BzQ3ZzKTtcbiAgICAgICAgICAgICAgICAkKCcjYWRkLXJvdXRlLW1vZGFsJykubW9kYWwoJ3Nob3cnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcuc3RyYXZhJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgaHJlZiA9ICQodGhpcykuYXR0cignaHJlZicpO1xuICAgICAgICAkLmdldChocmVmLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICBhbGVydChcIlVwbG9hZGVkIHRvIHN0cmF2YSFcIik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLmRlbC1zZXNzaW9uJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgbmFtZSA9ICQodGhpcykuZGF0YSgnbmFtZScpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgc2Vzc2lvbj9cIik7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3Nlc3Npb24vZGVsLycgKyBuYW1lLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdERUxFVEUnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJTZXNzaW9uIGRlbGV0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnkubG9hZEhpc3RvcnlJbmRleCgwLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIiNzYXZlLXJvdXRlXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgZm9ybSA9ICQoXCIjYWRkUm91dGVcIik7XG4gICAgICAgIHZhciByb3V0ZSA9IHt9O1xuICAgICAgICByb3V0ZS5uYW1lID0gZm9ybS5maW5kKCcjbmFtZScpLnZhbCgpO1xuICAgICAgICByb3V0ZS5tZXRlcnMgPSBmb3JtLmZpbmQoJyNtZXRlcnMnKS52YWwoKTtcbiAgICAgICAgcm91dGUuc3RyYXZhSWQgPSBmb3JtLmZpbmQoJyNzZWdtZW50SWQnKS52YWwoKTtcbiAgICAgICAgcm91dGUuY291bnRyeSA9IGZvcm0uZmluZCgnI2NvdW50cmllcycpLnZhbCgpO1xuICAgICAgICByb3V0ZS5ncHMgPSBmb3JtLmZpbmQoJ3RleHRhcmVhJykudmFsKCk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnUFVUJyxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgdXJsOiBcIi9yb3V0ZXMvYWRkXCIsXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShyb3V0ZSksXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJCgnI2FkZC1yb3V0ZS1tb2RhbCcpLm1vZGFsKCdoaWRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIiNzYXZlLXVzZXJcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBmb3JtID0gJChcIiNhZGRVc2VyRm9ybVwiKTtcbiAgICAgICAgdmFyIGZpcnN0TmFtZSA9IGZvcm0uZmluZCgnI2ZpcnN0TmFtZScpLnZhbCgpO1xuICAgICAgICB2YXIgbGFzdE5hbWUgPSBmb3JtLmZpbmQoJyNsYXN0TmFtZScpLnZhbCgpO1xuICAgICAgICB2YXIgaWQgPSBmb3JtLmZpbmQoJyN1c2VySWQnKS52YWwoKTtcbiAgICAgICAgdmFyIHVzZXIgPSB7fTtcbiAgICAgICAgdXNlci5maXJzdE5hbWUgPSBmaXJzdE5hbWU7XG4gICAgICAgIHVzZXIubGFzdE5hbWUgPSBsYXN0TmFtZTtcbiAgICAgICAgdXNlci5pZCA9IGlkO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogJ1BVVCcsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIHVybDogXCIvdXNlcnMvYWRkXCIsXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh1c2VyKSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKCcjYWRkVXNlck1vZGFsJykubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5kZWwtdXNlcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5kYXRhKCdpZCcpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGU/XCIpO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogJy91c2Vycy8nICsgaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICB1c2VyLmxvYWRVc2VyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5kZWwtcm91dGUnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBpZCA9ICQodGhpcykuZGF0YSgnaWQnKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHJvdXRlP1wiKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvcm91dGVzLycgKyBpZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlLmxvYWRSb3V0ZSgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG5cbiAgICAkKCcjbG9hZCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuICAgICAgICBzd2l0Y2ggKGhhc2gpIHtcbiAgICAgICAgICAgIGNhc2UgJyNyb3V0ZSc6XG4gICAgICAgICAgICAgICAgcm91dGUubG9hZFJvdXRlKDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnI3VzZXInOlxuICAgICAgICAgICAgICAgIHVzZXIubG9hZFVzZXIoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJyNoaXN0b3J5JzpcbiAgICAgICAgICAgICAgICBoaXN0b3J5LmxvYWRIaXN0b3J5KDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnI3Nlc3Npb24nOlxuICAgICAgICAgICAgICAgIHNlc3Npb24ubG9hZFNlc3Npb24oUXVlcnlTdHJpbmdbXCJuYW1lXCJdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZnJvbnQubG9hZE1haW4oKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnI3JvdXRlcycpLmVhY2gocm91dGUubG9hZFJvdXRlcyk7XG5cbiAgICAkKCcjc2Vzc2lvbi11c2VyJykuZWFjaCh1c2VyLmxvYWRVc2Vycyk7XG5cbiAgICAkKGRvY3VtZW50KS5vbignc2hvdy5icy5tb2RhbCcsICcjc2hvdy1yb3V0ZS1tb2RhbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBuYW1lID0gJChlLnJlbGF0ZWRUYXJnZXQpLmRhdGEoJ3JvdXRlLW5hbWUnKTtcbiAgICAgICAgdmFyIHRoYXQgPSAkKHRoaXMpO1xuICAgICAgICAkLmdldChcIi9yb3V0ZXMvXCIgKyBuYW1lLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdmFyIHRpdGxlID0gZGF0YS5uYW1lO1xuICAgICAgICAgICAgaWYgKGRhdGEuc2VnZW1lbnRJZCkge1xuICAgICAgICAgICAgICAgIHRpdGxlID0gJzxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwczovL3d3dy5zdHJhdmEuY29tL3NlZ21lbnRzLycgKyBkYXRhLnNlZ2VtZW50SWQgKyAnXCI+JyArIHRpdGxlICsgJyA8L2E+JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoYXQuZmluZCgnI3Nob3ctcm91dGUtbW9kYWwtdGl0bGUnKS5odG1sKHRpdGxlKTtcbiAgICAgICAgICAgIHZhciBodG1sID0gJzxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiPjxoNSBjbGFzcz1cImNhcmQtdGl0bGVcIj5EaXNwbGF5IExlbmdodDo8L2g1PicgKyBkYXRhLm1ldGVycyArICcgbTwvbGk+JztcbiAgICAgICAgICAgIGh0bWwgKz0gJzxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiPjxoNSBjbGFzcz1cImNhcmQtdGl0bGVcIj5HcHMgTGVuZ2h0OjwvaDU+JyArIGRhdGEuZ3BzTGVuZ2h0ICsgJyBtPC9saT4nO1xuICAgICAgICAgICAgaHRtbCArPSAnPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCI+PGg1IGNsYXNzPVwiY2FyZC10aXRsZVwiPkNvdW50cnk6PC9oNT4nICsgZGF0YS5jb3VudHJ5ICsgJzwvbGk+JztcbiAgICAgICAgICAgIHRoYXQuZmluZCgnLmNhcmQgLmxpc3QtZ3JvdXAnKS5odG1sKGh0bWwpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKCdzaG93bi5icy5tb2RhbCcsICcjc2hvdy1yb3V0ZS1tb2RhbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBuYW1lID0gJChlLnJlbGF0ZWRUYXJnZXQpLmRhdGEoJ3JvdXRlLW5hbWUnKTtcbiAgICAgICAgbWFwVXRpbHMuYWRkUm91dGVUcmFja1RvTWFwKG5hbWUsICQoXCIjbGl2ZS1yb3V0ZS1tYXBcIikpO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oXCJjaGFuZ2VcIiwgJyNyb3V0ZXMnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSAkKCcjcm91dGVzJykuZmluZChcIjpzZWxlY3RlZFwiKTtcbiAgICAgICAgbWFwVXRpbHMuY2xlYW5NYXAoKTtcbiAgICAgICAgdmFyIHAgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKCQoc2VsZWN0ZWQpLmRhdGEoXCJsYXRcIiksICQoc2VsZWN0ZWQpLmRhdGEoXCJsb25cIikpO1xuICAgICAgICBtYXAubGl2ZU1hcC5wYW5UbyhwKTtcbiAgICB9KTtcbn0pO1xuXG5cblxuXG5cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==